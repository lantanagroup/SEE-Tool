<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<sch:schema xmlns:voc="http://www.lantanagroup.com/voc" xmlns:svs="urn:ihe:iti:svs:2008" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:cda="urn:hl7-org:v3" xmlns:sdtc="urn:hl7-org:sdtc" xmlns="urn:hl7-org:v3" xmlns:sch="http://purl.oclc.org/dsdl/schematron">
  <sch:ns prefix="voc" uri="http://www.lantanagroup.com/voc" />
  <sch:ns prefix="svs" uri="urn:ihe:iti:svs:2008" />
  <sch:ns prefix="xsi" uri="http://www.w3.org/2001/XMLSchema-instance" />
  <sch:ns prefix="cda" uri="urn:hl7-org:v3" />
  <sch:ns prefix="sdtc" uri="urn:hl7-org:sdtc" />
  <sch:phase id="errors">
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.1.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.1.12-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.55-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.7-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.7.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.14-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.16-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.9-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.8-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.25-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.20-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.23-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.17-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.54-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.18-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.19-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.24-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.32-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.37-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.12-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.13-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.3-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.3.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.2-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.4-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.4.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.26-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.27-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.6-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.6.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.30-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.24.3.90-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.7-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.28-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.5-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.5.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.3-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.4-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.6-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.31-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.5-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.1.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.8-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.10-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.39-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.40-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.41-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.42-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.43-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.44-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.20-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.13-errors" />
    <sch:active pattern="p-1.3.6.1.4.1.19376.1.5.3.1.3.4-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.14-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.50-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.67-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.72-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.69-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.86-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.74-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.68-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.73-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.66-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.75-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.70-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.76-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.77-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.18-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.60-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.61-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.21-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.48-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.15-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.45-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.46-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.47-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.17-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.15.3.8-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.15.3.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.38-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.85-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.78-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.23-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.24-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.33-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.22-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.22.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.49-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.80-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.2-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.2.1-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.52-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.53-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.25.4.5-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.25.4.6-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.25.4.7-errors" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.25.4.8-errors" />
  </sch:phase>
  <sch:phase id="warnings">
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.1.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.1.12-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.55-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.7-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.7.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.14-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.16-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.9-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.8-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.25-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.20-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.23-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.17-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.54-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.18-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.19-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.24-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.32-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.37-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.12-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.13-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.3-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.3.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.2-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.4-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.4.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.26-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.27-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.6-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.6.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.30-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.24.3.90-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.7-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.28-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.5-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.5.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.3-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.4-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.6-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.31-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.5-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.1.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.8-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.10-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.39-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.40-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.41-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.42-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.43-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.44-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.20-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.13-warnings" />
    <sch:active pattern="p-1.3.6.1.4.1.19376.1.5.3.1.3.4-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.14-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.50-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.67-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.72-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.69-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.86-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.74-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.68-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.73-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.66-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.75-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.70-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.76-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.77-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.18-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.60-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.61-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.21-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.48-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.15-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.45-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.46-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.47-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.17-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.15.3.8-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.15.3.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.38-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.85-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.78-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.23-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.24-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.33-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.22-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.22.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.49-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.80-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.2-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.2.2.1-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.52-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.22.4.53-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.25.4.5-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.25.4.6-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.25.4.7-warnings" />
    <sch:active pattern="p-2.16.840.1.113883.10.20.25.4.8-warnings" />
  </sch:phase>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.1.1-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.1.1-errors-abstract" abstract="true">
      <sch:assert id="a-5250" test="cda:typeId[@root='2.16.840.1.113883.1.3']">This typeId SHALL contain exactly one [1..1] @root="2.16.840.1.113883.1.3" (CONF:5250).</sch:assert>
      <sch:assert id="a-5251" test="cda:typeId[@extension='POCD_HD000040']">This typeId SHALL contain exactly one [1..1] @extension="POCD_HD000040" (CONF:5251).</sch:assert>
      <sch:assert id="a-5253" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:5253).</sch:assert>
      <sch:assert id="a-5254" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:5254).</sch:assert>
      <sch:assert id="a-5256" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:5256).</sch:assert>
      <sch:assert id="a-5259" test="count(cda:confidentialityCode[@code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.16926']/voc:code/@value])=1">SHALL contain exactly one [1..1] confidentialityCode, which SHOULD be selected from ValueSet HL7 BasicConfidentialityKind 2.16.840.1.113883.1.11.16926 STATIC 2010-04-21 (CONF:5259).</sch:assert>
      <sch:assert id="a-5266" test="count(cda:recordTarget) &gt; 0">SHALL contain at least one [1..*] recordTarget (CONF:5266).</sch:assert>
      <sch:assert id="a-5267" test="cda:recordTarget[count(cda:patientRole)=1]">Such recordTargets SHALL contain exactly one [1..1] patientRole (CONF:5267).</sch:assert>
      <sch:assert id="a-5268" test="cda:recordTarget/cda:patientRole[count(cda:id) &gt; 0]">This patientRole SHALL contain at least one [1..*] id (CONF:5268).</sch:assert>
      <sch:assert id="a-5271" test="cda:recordTarget/cda:patientRole[count(cda:addr) &gt; 0]">This patientRole SHALL contain at least one [1..*] addr (CONF:5271).</sch:assert>
      <sch:assert id="a-5280" test="cda:recordTarget/cda:patientRole[count(cda:telecom) &gt; 0]">This patientRole SHALL contain at least one [1..*] telecom (CONF:5280).</sch:assert>
      <sch:assert id="a-5283" test="cda:recordTarget/cda:patientRole[count(cda:patient)=1]">This patientRole SHALL contain exactly one [1..1] patient (CONF:5283).</sch:assert>
      <sch:assert id="a-5284" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:name)=1]">This patient SHALL contain exactly one [1..1] name (CONF:5284).</sch:assert>
      <sch:assert id="a-5298" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:birthTime)=1]">This patient SHALL contain exactly one [1..1] birthTime (CONF:5298).</sch:assert>
      <sch:assert id="a-5299" test="string-length(cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime/@value) &gt;= 4">SHALL be precise to year (CONF:5299).</sch:assert>
      <sch:assert id="a-5361" test="count(cda:typeId)=1">SHALL contain exactly one [1..1] typeId (CONF:5361).</sch:assert>
      <sch:assert id="a-5363" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:5363).</sch:assert>
      <sch:assert id="a-5372" test="count(cda:languageCode)=1">SHALL contain exactly one [1..1] languageCode, which SHALL be selected from ValueSet Language 2.16.840.1.113883.1.11.11526 DYNAMIC (CONF:5372).</sch:assert>
      <sch:assert id="a-5385" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:guardian) or cda:recordTarget/cda:patientRole/cda:patient/cda:guardian[count(cda:guardianPerson)=1]">The guardian, if present, SHALL contain exactly one [1..1] guardianPerson (CONF:5385).</sch:assert>
      <sch:assert id="a-5386" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:guardian/cda:guardianPerson) or cda:recordTarget/cda:patientRole/cda:patient/cda:guardian/cda:guardianPerson[count(cda:name) &gt; 0]">This guardianPerson SHALL contain at least one [1..*] name (CONF:5386).</sch:assert>
      <sch:assert id="a-5396" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:birthplace) or cda:recordTarget/cda:patientRole/cda:patient/cda:birthplace[count(cda:place)=1]">The birthplace, if present, SHALL contain exactly one [1..1] place (CONF:5396).</sch:assert>
      <sch:assert id="a-5397" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:birthplace/cda:place) or cda:recordTarget/cda:patientRole/cda:patient/cda:birthplace/cda:place[count(cda:addr)=1]">This place SHALL contain exactly one [1..1] addr (CONF:5397).</sch:assert>
      <sch:assert id="a-5402" test="(cda:recordTarget/cda:patientRole/cda:addr[cda:country='US' or cda:country='USA']) and cda:recordTarget/cda:patientRole/cda:addr/cda:state">If country is US, this addr SHALL contain exactly one [1..1] state, which SHALL be selected from ValueSet 2.16.840.1.113883.3.88.12.80.1 StateValueSet DYNAMIC (CONF:5402).</sch:assert>
      <sch:assert id="a-5407" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:languageCommunication) or cda:recordTarget/cda:patientRole/cda:patient/cda:languageCommunication[count(cda:languageCode)=1]">The languageCommunication, if present, SHALL contain exactly one [1..1] languageCode, which SHALL be selected from ValueSet Language 2.16.840.1.113883.1.11.11526 DYNAMIC (CONF:5407).</sch:assert>
      <sch:assert id="a-5417" test="not(cda:recordTarget/cda:patientRole/cda:providerOrganization) or cda:recordTarget/cda:patientRole/cda:providerOrganization[count(cda:id) &gt; 0]">The providerOrganization, if present, SHALL contain at least one [1..*] id (CONF:5417).</sch:assert>
      <sch:assert id="a-5419" test="not(cda:recordTarget/cda:patientRole/cda:providerOrganization) or cda:recordTarget/cda:patientRole/cda:providerOrganization[count(cda:name) &gt; 0]">The providerOrganization, if present, SHALL contain at least one [1..*] name (CONF:5419).</sch:assert>
      <sch:assert id="a-5420" test="not(cda:recordTarget/cda:patientRole/cda:providerOrganization) or cda:recordTarget/cda:patientRole/cda:providerOrganization[count(cda:telecom) &gt; 0]">The providerOrganization, if present, SHALL contain at least one [1..*] telecom (CONF:5420).</sch:assert>
      <sch:assert id="a-5422" test="not(cda:recordTarget/cda:patientRole/cda:providerOrganization) or cda:recordTarget/cda:patientRole/cda:providerOrganization[count(cda:addr) &gt; 0]">The providerOrganization, if present, SHALL contain at least one [1..*] addr (CONF:5422).</sch:assert>
      <sch:assert id="a-5428" test="cda:author/cda:assignedAuthor[count(cda:telecom) &gt; 0]">This assignedAuthor SHALL contain at least one [1..*] telecom (CONF:5428).</sch:assert>
      <sch:assert id="a-5442" test="not(cda:dataEnterer) or cda:dataEnterer[count(cda:assignedEntity)=1]">The dataEnterer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:5442).</sch:assert>
      <sch:assert id="a-5443" test="not(cda:dataEnterer/cda:assignedEntity) or cda:dataEnterer/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:5443).</sch:assert>
      <sch:assert id="a-5444" test="count(cda:author) &gt; 0">SHALL contain at least one [1..*] author (CONF:5444).</sch:assert>
      <sch:assert id="a-5445" test="cda:author[count(cda:time)=1]">Such authors SHALL contain exactly one [1..1] time (CONF:5445).</sch:assert>
      <sch:assert id="a-5448" test="cda:author[count(cda:assignedAuthor)=1]">Such authors SHALL contain exactly one [1..1] assignedAuthor (CONF:5448).</sch:assert>
      <sch:assert id="a-5452" test="cda:author/cda:assignedAuthor[count(cda:addr) &gt; 0]">This assignedAuthor SHALL contain at least one [1..*] addr (CONF:5452).</sch:assert>
      <sch:assert id="a-5460" test="not(cda:dataEnterer/cda:assignedEntity) or cda:dataEnterer/cda:assignedEntity[count(cda:addr) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] addr (CONF:5460).</sch:assert>
      <sch:assert id="a-5466" test="not(cda:dataEnterer/cda:assignedEntity) or cda:dataEnterer/cda:assignedEntity[count(cda:telecom) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] telecom (CONF:5466).</sch:assert>
      <sch:assert id="a-5469" test="not(cda:dataEnterer/cda:assignedEntity) or cda:dataEnterer/cda:assignedEntity[count(cda:assignedPerson)=1]">This assignedEntity SHALL contain exactly one [1..1] assignedPerson (CONF:5469).</sch:assert>
      <sch:assert id="a-5470" test="not(cda:dataEnterer/cda:assignedEntity/cda:assignedPerson) or cda:dataEnterer/cda:assignedEntity/cda:assignedPerson[count(cda:name) &gt; 0]">This assignedPerson SHALL contain at least one [1..*] name (CONF:5470).</sch:assert>
      <sch:assert id="a-5519" test="count(cda:custodian)=1">SHALL contain exactly one [1..1] custodian (CONF:5519).</sch:assert>
      <sch:assert id="a-5520" test="cda:custodian[count(cda:assignedCustodian)=1]">This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:5520).</sch:assert>
      <sch:assert id="a-5521" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]">This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:5521).</sch:assert>
      <sch:assert id="a-5522" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:id) &gt; 0]">This representedCustodianOrganization SHALL contain at least one [1..*] id (CONF:5522).</sch:assert>
      <sch:assert id="a-5524" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:name)=1]">This representedCustodianOrganization SHALL contain exactly one [1..1] name (CONF:5524).</sch:assert>
      <sch:assert id="a-5525" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:telecom)=1]">This representedCustodianOrganization SHALL contain exactly one [1..1] telecom (CONF:5525).</sch:assert>
      <sch:assert id="a-5559" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:addr)=1]">This representedCustodianOrganization SHALL contain exactly one [1..1] addr (CONF:5559).</sch:assert>
      <sch:assert id="a-5566" test="not(cda:informationRecipient) or cda:informationRecipient[count(cda:intendedRecipient)=1]">The informationRecipient, if present, SHALL contain exactly one [1..1] intendedRecipient (CONF:5566).</sch:assert>
      <sch:assert id="a-5568" test="not(cda:informationRecipient/cda:intendedRecipient/cda:informationRecipient) or cda:informationRecipient/cda:intendedRecipient/cda:informationRecipient[count(cda:name) &gt; 0]">The informationRecipient, if present, SHALL contain at least one [1..*] name (CONF:5568).</sch:assert>
      <sch:assert id="a-5578" test="not(cda:informationRecipient/cda:intendedRecipient/cda:receivedOrganization) or cda:informationRecipient/cda:intendedRecipient/cda:receivedOrganization[count(cda:name)=1]">The receivedOrganization, if present, SHALL contain exactly one [1..1] name (CONF:5578).</sch:assert>
      <sch:assert id="a-5580" test="not(cda:legalAuthenticator) or cda:legalAuthenticator[count(cda:time)=1]">The legalAuthenticator, if present, SHALL contain exactly one [1..1] time (CONF:5580).</sch:assert>
      <sch:assert id="a-5583" test="not(cda:legalAuthenticator) or cda:legalAuthenticator[count(cda:signatureCode)=1]">The legalAuthenticator, if present, SHALL contain exactly one [1..1] signatureCode (CONF:5583).</sch:assert>
      <sch:assert id="a-5584" test="not(cda:legalAuthenticator/cda:signatureCode) or cda:legalAuthenticator/cda:signatureCode[@code='S']">This signatureCode SHALL contain exactly one [1..1] @code="S" (CodeSystem: Participationsignature 2.16.840.1.113883.5.89 STATIC) (CONF:5584).</sch:assert>
      <sch:assert id="a-5585" test="not(cda:legalAuthenticator) or cda:legalAuthenticator[count(cda:assignedEntity)=1]">The legalAuthenticator, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:5585).</sch:assert>
      <sch:assert id="a-5586" test="not(cda:legalAuthenticator/cda:assignedEntity) or cda:legalAuthenticator/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:5586).</sch:assert>
      <sch:assert id="a-5589" test="not(cda:legalAuthenticator/cda:assignedEntity) or cda:legalAuthenticator/cda:assignedEntity[count(cda:addr) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] addr (CONF:5589).</sch:assert>
      <sch:assert id="a-5595" test="not(cda:legalAuthenticator/cda:assignedEntity) or cda:legalAuthenticator/cda:assignedEntity[count(cda:telecom) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] telecom (CONF:5595).</sch:assert>
      <sch:assert id="a-5597" test="not(cda:legalAuthenticator/cda:assignedEntity) or cda:legalAuthenticator/cda:assignedEntity[count(cda:assignedPerson)=1]">This assignedEntity SHALL contain exactly one [1..1] assignedPerson (CONF:5597).</sch:assert>
      <sch:assert id="a-5598" test="not(cda:legalAuthenticator/cda:assignedEntity/cda:assignedPerson) or cda:legalAuthenticator/cda:assignedEntity/cda:assignedPerson[count(cda:name) &gt; 0]">This assignedPerson SHALL contain at least one [1..*] name (CONF:5598).</sch:assert>
      <sch:assert id="a-5608" test="not(cda:authenticator) or cda:authenticator[count(cda:time)=1]">The authenticator, if present, SHALL contain exactly one [1..1] time (CONF:5608).</sch:assert>
      <sch:assert id="a-5610" test="not(cda:authenticator) or cda:authenticator[count(cda:signatureCode)=1]">The authenticator, if present, SHALL contain exactly one [1..1] signatureCode (CONF:5610).</sch:assert>
      <sch:assert id="a-5611" test="not(cda:authenticator/cda:signatureCode) or cda:authenticator/cda:signatureCode[@code='S']">This signatureCode SHALL contain exactly one [1..1] @code="S" (CodeSystem: Participationsignature 2.16.840.1.113883.5.89 STATIC) (CONF:5611).</sch:assert>
      <sch:assert id="a-5612" test="not(cda:authenticator) or cda:authenticator[count(cda:assignedEntity)=1]">The authenticator, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:5612).</sch:assert>
      <sch:assert id="a-5613" test="not(cda:authenticator/cda:assignedEntity) or cda:authenticator/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:5613).</sch:assert>
      <sch:assert id="a-5616" test="not(cda:authenticator/cda:assignedEntity) or cda:authenticator/cda:assignedEntity[count(cda:addr) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] addr (CONF:5616).</sch:assert>
      <sch:assert id="a-5622" test="not(cda:authenticator/cda:assignedEntity) or cda:authenticator/cda:assignedEntity[count(cda:telecom) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] telecom (CONF:5622).</sch:assert>
      <sch:assert id="a-5624" test="not(cda:authenticator/cda:assignedEntity) or cda:authenticator/cda:assignedEntity[count(cda:assignedPerson)=1]">This assignedEntity SHALL contain exactly one [1..1] assignedPerson (CONF:5624).</sch:assert>
      <sch:assert id="a-5625" test="not(cda:authenticator/cda:assignedEntity/cda:assignedPerson) or cda:authenticator/cda:assignedEntity/cda:assignedPerson[count(cda:name) &gt; 0]">This assignedPerson SHALL contain at least one [1..*] name (CONF:5625).</sch:assert>
      <sch:assert id="a-6394" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:administrativeGenderCode)=1]">This patient SHALL contain exactly one [1..1] administrativeGenderCode, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) 2.16.840.1.113883.1.11.1 DYNAMIC (CONF:6394).</sch:assert>
      <sch:assert id="a-8002" test="not(cda:informant) or cda:informant[cda:assignedEntity or cda:relatedEntity]">The informant, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:8002).</sch:assert>
      <sch:assert id="a-8220" test="not(informant) or informant/cda:*/addr">This assignedEntity SHALL contain at least one [1..*] addr (CONF:8220).</sch:assert>
      <sch:assert id="a-8221" test="not(cda:informant) or cda:informant[cda:assignedEntity/cda:assignedPerson or cda:relatedEntity/cda:relatedPerson]">This assignedEntity SHALL contain exactly one [1..1] assignedPerson (CONF:8221).</sch:assert>
      <sch:assert id="a-8222" test="not(cda:informant) or cda:informant/cda:assignedEntity/cda:assignedPerson/cda:name or cda:informant/cda:relatedEntity/cda:relatedPerson/cda:name">This assignedPerson SHALL contain at least one [1..*] name (CONF:8222).</sch:assert>
      <sch:assert id="a-9945" test="not(cda:informant/cda:assignedEntity) or cda:informant/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:9945).</sch:assert>
      <sch:assert id="a-9953" test="not(cda:inFulfillmentOf) or cda:inFulfillmentOf[count(cda:order)=1]">The inFulfillmentOf, if present, SHALL contain exactly one [1..1] order (CONF:9953).</sch:assert>
      <sch:assert id="a-9954" test="not(cda:inFulfillmentOf/cda:order) or cda:inFulfillmentOf/cda:order[count(cda:id) &gt; 0]">This order SHALL contain at least one [1..*] id (CONF:9954).</sch:assert>
      <sch:assert id="a-9956" test="not(cda:componentOf) or cda:componentOf[count(cda:encompassingEncounter)=1]">The componentOf, if present, SHALL contain exactly one [1..1] encompassingEncounter (CONF:9956).</sch:assert>
      <sch:assert id="a-9958" test="not(cda:componentOf/cda:encompassingEncounter) or cda:componentOf/cda:encompassingEncounter[count(cda:effectiveTime)=1]">This encompassingEncounter SHALL contain exactly one [1..1] effectiveTime (CONF:9958).</sch:assert>
      <sch:assert id="a-9959" test="not(cda:componentOf/cda:encompassingEncounter) or cda:componentOf/cda:encompassingEncounter[count(cda:id) &gt; 0]">This encompassingEncounter SHALL contain at least one [1..*] id (CONF:9959).</sch:assert>
      <sch:assert id="a-10007" test=".">Unless otherwise specified by the document specific header constraints, when participant/@typeCode is IND, associatedEntity/@classCode SHALL be selected from ValueSet 2.16.840.1.113883.11.20.9.33 INDRoleclassCodes STATIC 2011-09-30 (CONF:10007).</sch:assert>
      <sch:assert id="a-10411" test="(count(cda:recordTarget/cda:patientRole/cda:patient/cda:name/cda:given) &gt; 0 and cda:recordTarget/cda:patientRole/cda:patient/cda:name/cda:family)">The content of name SHALL be a conformant US Realm Patient Name (PTN.US.FIELDED) (2.16.840.1.113883.10.20.22.5.1) (CONF:10411).</sch:assert>
      <sch:assert id="a-10412" test="cda:recordTarget/cda:patientRole/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10412).</sch:assert>
      <sch:assert id="a-10413" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:guardian/cda:addr) or (cda:recordTarget/cda:patientRole/cda:patient/cda:guardian/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))])">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10413).</sch:assert>
      <sch:assert id="a-10414" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:guardian) or (count(cda:recordTarget/cda:patientRole/cda:patient/cda:guardian/cda:guardianPerson/cda:name/cda:given) &gt; 0 and cda:recordTarget/cda:patientRole/cda:patient/cda:guardian/cda:guardianPerson/cda:name/cda:family) or (count(cda:recordTarget/cda:patientRole/cda:patient/cda:guardian/cda:guardianPerson/cda:name[*])=0 and string-length(cda:recordTarget/cda:patientRole/cda:patient/cda:guardian/cda:guardianPerson/cda:name)!=0)">The content of name SHALL be a conformant US Realm Person Name (PN.US.FIELDED) (2.16.840.1.113883.10.20.22.5.1.1) (CONF:10414).</sch:assert>
      <sch:assert id="a-10415" test="not(cda:recordTarget/cda:patientRole/cda:providerOrganization) or cda:recordTarget/cda:patientRole/cda:providerOrganization/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10415).</sch:assert>
      <sch:assert id="a-10417" test="not(cda:dataEnterer) or cda:dataEnterer/cda:assignedEntity/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10417).</sch:assert>
      <sch:assert id="a-10418" test="not(cda:dataEnterer) or (count(cda:dataEnterer/cda:assignedEntity/cda:assignedPerson/cda:name/cda:given) &gt; 0 and cda:dataEnterer/cda:assignedEntity/cda:assignedPerson/cda:name/cda:family) or (count(cda:dataEnterer/cda:assignedEntity/cda:assignedPerson/cda:name[*])=0 and string-length(cda:dataEnterer/cda:assignedEntity/cda:assignedPerson/cda:name)!=0)">The content of name SHALL be a conformant US Realm Person Name (PN.US.FIELDED) (2.16.840.1.113883.10.20.22.5.1.1) (CONF:10418).</sch:assert>
      <sch:assert id="a-10419" test="not(cda:informant) or cda:informant/cda:*/cda:addr[cda:streetAddressLine and cda:city and (cda:country!='US' or ((not(cda:country) or cda:country!='US') and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10419).</sch:assert>
      <sch:assert id="a-10420" test="not(cda:informant) or (count(cda:informant/cda:assignedEntity/cda:assignedPerson/cda:name/cda:given) &gt; 0 and cda:informant/cda:assignedEntity/cda:assignedPerson/cda:name/cda:family) or (count(cda:informant/cda:assignedEntity/cda:assignedPerson/cda:name[*])=0 and string-length(cda:informant/cda:assignedEntity/cda:assignedPerson/cda:name)!=0)">The content of name SHALL be a conformant US Realm Person Name (PN.US.FIELDED) (2.16.840.1.113883.10.20.22.5.1.1) (CONF:10420).</sch:assert>
      <sch:assert id="a-10421" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10421).</sch:assert>
      <sch:assert id="a-10424" test="not(cda:authenticator) or (count(cda:authenticator/cda:assignedEntity/cda:assignedPerson/cda:name/cda:given) &gt; 0 and cda:authenticator/cda:assignedEntity/cda:assignedPerson/cda:name/cda:family)&#xA;or&#xA;(count(cda:authenticator/cda:assignedEntity/cda:assignedPerson/cda:name/cda:given) &gt; 0 and cda:authenticator/cda:assignedEntity/cda:assignedPerson/cda:name/cda:family) or (count(cda:authenticator/cda:assignedEntity/cda:assignedPerson/cda:name[*])=0 and string-length(cda:authenticator/cda:assignedEntity/cda:assignedPerson/cda:name)!=0)">The content of name SHALL be a conformant US Realm Person Name (PN.US.FIELDED) (2.16.840.1.113883.10.20.22.5.1.1) (CONF:10424).</sch:assert>
      <sch:assert id="a-10425" test="not(cda:authenticator) or cda:authenticator/cda:assignedEntity/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10425).</sch:assert>
      <sch:assert id="a-10427" test="not(cda:informationRecipient/cda:intendedRecipient/cda:informationRecipient) or (count(cda:informationRecipient/cda:intendedRecipient/cda:informationRecipient/cda:name/cda:given) &gt; 0 and cda:informationRecipient/cda:intendedRecipient/cda:informationRecipient/cda:name/cda:family)&#xA;or&#xA;(count(cda:informationRecipient/cda:intendedRecipient/cda:informationRecipient/cda:name/cda:given) &gt; 0 and cda:informationRecipient/cda:intendedRecipient/cda:informationRecipient/cda:name/cda:family) or (count(cda:informationRecipient/cda:intendedRecipient/cda:informationRecipient/cda:name[*])=0 and string-length(cda:informationRecipient/cda:intendedRecipient/cda:informationRecipient/cda:name)!=0)">The content of name SHALL be a conformant US Realm Person Name (PN.US.FIELDED) (2.16.840.1.113883.10.20.22.5.1.1) (CONF:10427).</sch:assert>
      <sch:assert id="a-10429" test="not(cda:legalAuthenticator) or cda:legalAuthenticator/cda:assignedEntity/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10429).</sch:assert>
      <sch:assert id="a-10430" test="not(cda:legalAuthenticator) or (count(cda:legalAuthenticator/cda:assignedEntity/cda:assignedPerson/cda:name/cda:given) &gt; 0 and cda:legalAuthenticator/cda:assignedEntity/cda:assignedPerson/cda:name/cda:family) or&#xA;(count(cda:legalAuthenticator/cda:assignedEntity/cda:assignedPerson/cda:name/cda:given) &gt; 0 and cda:legalAuthenticator/cda:assignedEntity/cda:assignedPerson/cda:name/cda:family) or (count(cda:legalAuthenticator/cda:assignedEntity/cda:assignedPerson/cda:name[*])=0 and string-length(cda:legalAuthenticator/cda:assignedEntity/cda:assignedPerson/cda:name)!=0)">The content of name SHALL be a conformant US Realm Person Name (PN.US.FIELDED) (2.16.840.1.113883.10.20.22.5.1.1) (CONF:10430).</sch:assert>
      <sch:assert id="a-14836" test="not(cda:documentationOf) or cda:documentationOf[count(cda:serviceEvent)=1]">The documentationOf, if present, SHALL contain exactly one [1..1] serviceEvent (CONF:14836).</sch:assert>
      <sch:assert id="a-14837" test="not(cda:documentationOf/cda:serviceEvent) or cda:documentationOf/cda:serviceEvent[count(cda:effectiveTime)=1]">This serviceEvent SHALL contain exactly one [1..1] effectiveTime (CONF:14837).</sch:assert>
      <sch:assert id="a-14838" test="not(cda:documentationOf/cda:serviceEvent/cda:effectiveTime) or cda:documentationOf/cda:serviceEvent/cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:14838).</sch:assert>
      <sch:assert id="a-14840" test="not(cda:documentationOf/cda:serviceEvent/cda:performer) or cda:documentationOf/cda:serviceEvent/cda:performer[@typeCode]">The performer, if present, SHALL contain exactly one [1..1] @typeCode (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:14840).</sch:assert>
      <sch:assert id="a-14841" test="not(cda:documentationOf/cda:serviceEvent/cda:performer) or cda:documentationOf/cda:serviceEvent/cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:14841).</sch:assert>
      <sch:assert id="a-14843" test="not(cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity/cda:code) or cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity/cda:code[@code and @codeSystem='2.16.840.1.113883.6.101']">The code, if present, SHALL contain exactly one [1..1] @code, which SHOULD be selected from CodeSystem NUCCProviderTaxonomy (2.16.840.1.113883.6.101) STATIC (CONF:14843).</sch:assert>
      <sch:assert id="a-14846" test="not(cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity) or cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:14846).</sch:assert>
      <sch:assert id="a-16784" test="not(cda:author/cda:assignedAuthor/cda:assignedAuthoringDevice) or cda:author/cda:assignedAuthor/cda:assignedAuthoringDevice[count(cda:manufacturerModelName)=1]">The assignedAuthoringDevice, if present, SHALL contain exactly one [1..1] manufacturerModelName (CONF:16784).</sch:assert>
      <sch:assert id="a-16785" test="not(cda:author/cda:assignedAuthor/cda:assignedAuthoringDevice) or cda:author/cda:assignedAuthor/cda:assignedAuthoringDevice[count(cda:softwareName)=1]">The assignedAuthoringDevice, if present, SHALL contain exactly one [1..1] softwareName (CONF:16785).</sch:assert>
      <sch:assert id="a-16786" test="cda:author/cda:assignedAuthor[count(cda:id[@root])=1]">This assignedAuthor SHALL contain exactly one [1..1] id (CONF:5449) such that it SHALL contain exactly one [1..1] @root (CONF:16786).</sch:assert>
      <sch:assert id="a-16788" test="not(cda:author/cda:assignedAuthor/cda:code) or cda:author/cda:assignedAuthor/cda:code[@code]">The code, if present, SHALL contain exactly one [1..1] @code, which SHOULD be selected from ValueSet Healthcare Provider Taxonomy (HIPAA) 2.16.840.1.114222.4.11.1066 DYNAMIC (CONF:16788).</sch:assert>
      <sch:assert id="a-16789" test="not(cda:author/cda:assignedAuthor/cda:assignedPerson) or cda:author/cda:assignedAuthor/cda:assignedPerson[count(cda:name) &gt; 0]">The assignedPerson, if present, SHALL contain at least one [1..*] name (CONF:16789).</sch:assert>
      <sch:assert id="a-16790" test="count(cda:author/cda:assignedAuthor/cda:assignedPerson)=1 or count(cda:author/cda:assignedAuthor/cda:assignedAuthoringDevice)=1">There SHALL be exactly one assignedAuthor/assignedPerson or exactly one assignedAuthor/assignedAuthoringDevice (CONF:16790).</sch:assert>
      <sch:assert id="a-16791" test="count(cda:realmCode[@code='US'])=1">SHALL contain exactly one [1..1] realmCode="US" (CONF:16791).</sch:assert>
      <sch:assert id="a-16793" test="not(cda:authorization[count(cda:consent)=1]) or cda:authorization[count(cda:consent)=1]">MAY contain zero or more [0..*] authorization (CONF:16792) such that it SHALL contain exactly one [1..1] consent (CONF:16793).</sch:assert>
      <sch:assert id="a-16797" test="not(cda:authorization/cda:consent) or cda:authorization/cda:consent[count(cda:statusCode)=1]">This consent SHALL contain exactly one [1..1] statusCode (CONF:16797).</sch:assert>
      <sch:assert id="a-16798" test="not(cda:authorization/cda:consent/cda:statusCode) or cda:authorization/cda:consent/cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:16798).</sch:assert>
      <sch:assert id="a-16865" test="string-length(cda:effectiveTime//@value)&gt;=8">The content SHALL be a conformant US Realm Date and Time (DTM.US.FIELDED) (2.16.840.1.113883.10.20.22.5.4) (CONF:16865).</sch:assert>
      <sch:assert id="a-16866" test="string-length(cda:author/cda:time//@value)&gt;=8">The content SHALL be a conformant US Realm Date and Time (DTM.US.FIELDED) (2.16.840.1.113883.10.20.22.5.4) (CONF:16866).</sch:assert>
      <sch:assert id="a-16871" test="cda:author/cda:assignedAuthor/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:16871).</sch:assert>
      <sch:assert id="a-16872" test="(count(cda:author/cda:assignedAuthor/cda:assignedPerson/cda:name/cda:given) &gt; 0 and cda:author/cda:assignedAuthor/cda:assignedPerson/cda:name/cda:family) or (count(cda:author/cda:assignedAuthor/cda:assignedPerson/cda:name[*])=0 and string-length(cda:author/cda:assignedAuthor/cda:assignedPerson/cda:name)!=0)">The content SHALL be a conformant US Realm Person Name (PN.US.FIELDED) (2.16.840.1.113883.10.20.22.5.1.1) (CONF:16872).</sch:assert>
      <sch:assert id="a-16873" test="string-length(cda:legalAuthenticator/cda:time//@value)&gt;=8">The content SHALL be a conformant US Realm Date and Time (DTM.US.FIELDED) (2.16.840.1.113883.10.20.22.5.4) (CONF:16873).</sch:assert>
      <sch:assert id="a-16874" test="string-length(cda:authenticator/cda:time//@value)&gt;=8">The content SHALL be a conformant US Realm Date and Time (DTM.US.FIELDED) (2.16.840.1.113883.10.20.22.5.4) (CONF:16874).</sch:assert>
      <sch:assert id="a-19521" test="not(cda:author/cda:assignedAuthor/cda:assignedPerson) or cda:author/cda:assignedAuthor[count(cda:id[@root='2.16.840.1.113883.4.6'])=1]">If this assignedAuthor is an assignedPerson the assignedAuthor id SHALL contain exactly one [1..1] @root="2.16.840.1.113883.4.6" National Provider Identifier (CONF:19521).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.1.1-errors" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.22.1.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.1.1-errors-abstract" />
      <sch:assert id="a-10036" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.1.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:5252) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.1.1" (CONF:10036).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.1.12-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.1.12-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.1.1-errors-abstract" />
      <sch:assert id="a-26479" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.1.12'])=1">SHALL contain exactly one [1..1] templateId (CONF:26478) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.1.12" (CONF:26479).</sch:assert>
      <sch:assert id="a-26480" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:26480).</sch:assert>
      <sch:assert id="a-26481" test="cda:code[@code='18761-7']">This code SHALL contain exactly one [1..1] @code="18761-7" Transfer summarization note (CONF:26481).</sch:assert>
      <sch:assert id="a-26482" test="cda:code[@codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @codeSystem="2.16.840.1.113883.6.1" (CONF:26482).</sch:assert>
      <sch:assert id="a-26483" test="count(cda:component)=1">SHALL contain exactly one [1..1] component (CONF:26483).</sch:assert>
      <sch:assert id="a-26486" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.21'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26485) such that it SHALL contain exactly one [1..1] Advance Directives Section (entries optional) (templateId:2.16.840.1.113883.10.20.22.2.21) (CONF:26486).</sch:assert>
      <sch:assert id="a-26487" test="count(cda:title[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='transfer summarization note'])=1">SHALL contain exactly one [1..1] title="Transfer Summarization Note" (CONF:26487).</sch:assert>
      <sch:assert id="a-26490" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.6.1'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26488) such that it SHALL contain exactly one [1..1] Allergies Section (entries required) (templateId:2.16.840.1.113883.10.20.22.2.6.1) (CONF:26490).</sch:assert>
      <sch:assert id="a-26492" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.8'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26491) such that it SHALL contain exactly one [1..1] Assessment Section (templateId:2.16.840.1.113883.10.20.22.2.8) (CONF:26492).</sch:assert>
      <sch:assert id="a-26494" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.13'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26493) such that it SHALL contain exactly one [1..1] Chief Complaint and Reason for Visit Section (templateId:2.16.840.1.113883.10.20.22.2.13) (CONF:26494).</sch:assert>
      <sch:assert id="a-26496" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.22.1'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26495) such that it SHALL contain exactly one [1..1] Encounters Section (entries required) (templateId:2.16.840.1.113883.10.20.22.2.22.1) (CONF:26496).</sch:assert>
      <sch:assert id="a-26498" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.15'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26497) such that it SHALL contain exactly one [1..1] Family History Section (templateId:2.16.840.1.113883.10.20.22.2.15) (CONF:26498).</sch:assert>
      <sch:assert id="a-26500" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.14'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26499) such that it SHALL contain exactly one [1..1] Functional Status Section (templateId:2.16.840.1.113883.10.20.22.2.14) (CONF:26500).</sch:assert>
      <sch:assert id="a-26502" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.3.4'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26501) such that it SHALL contain exactly one [1..1] History of Present Illness Section (templateId:1.3.6.1.4.1.19376.1.5.3.1.3.4) (CONF:26502).</sch:assert>
      <sch:assert id="a-26504" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.20'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26503) such that it SHALL contain exactly one [1..1] History of Past Illness Section (templateId:2.16.840.1.113883.10.20.22.2.20) (CONF:26504).</sch:assert>
      <sch:assert id="a-26506" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.24'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26505) such that it SHALL contain exactly one [1..1] Hospital Discharge Diagnosis Section (templateId:2.16.840.1.113883.10.20.22.2.24) (CONF:26506).</sch:assert>
      <sch:assert id="a-26508" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.2.1'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26507) such that it SHALL contain exactly one [1..1] Immunizations Section (entries required) (templateId:2.16.840.1.113883.10.20.22.2.2.1) (CONF:26508).</sch:assert>
      <sch:assert id="a-26510" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.23'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26509) such that it SHALL contain exactly one [1..1] Medical Equipment Section (templateId:2.16.840.1.113883.10.20.22.2.23) (CONF:26510).</sch:assert>
      <sch:assert id="a-26512" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.1.1'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26511) such that it SHALL contain exactly one [1..1] Medications Section (entries required) (templateId:2.16.840.1.113883.10.20.22.2.1.1) (CONF:26512).</sch:assert>
      <sch:assert id="a-26514" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.18'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26513) such that it SHALL contain exactly one [1..1] Payers Section (templateId:2.16.840.1.113883.10.20.22.2.18) (CONF:26514).</sch:assert>
      <sch:assert id="a-26516" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.10'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26515) such that it SHALL contain exactly one [1..1] Plan of Care Section (templateId:2.16.840.1.113883.10.20.22.2.10) (CONF:26516).</sch:assert>
      <sch:assert id="a-26518" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.5.1'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26517) such that it SHALL contain exactly one [1..1] Problem Section (entries required) (templateId:2.16.840.1.113883.10.20.22.2.5.1) (CONF:26518).</sch:assert>
      <sch:assert id="a-26520" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.7.1'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26519) such that it SHALL contain exactly one [1..1] Procedures Section (entries required) (templateId:2.16.840.1.113883.10.20.22.2.7.1) (CONF:26520).</sch:assert>
      <sch:assert id="a-26522" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.3.1'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26521) such that it SHALL contain exactly one [1..1] Results Section (entries required) (templateId:2.16.840.1.113883.10.20.22.2.3.1) (CONF:26522).</sch:assert>
      <sch:assert id="a-26524" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.17'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26523) such that it SHALL contain exactly one [1..1] Social History Section (templateId:2.16.840.1.113883.10.20.22.2.17) (CONF:26524).</sch:assert>
      <sch:assert id="a-26526" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3']) &lt; 2][count(cda:component[count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.4.1'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26525) such that it SHALL contain exactly one [1..1] Vital Signs Section (entries required) (templateId:2.16.840.1.113883.10.20.22.2.4.1) (CONF:26526).</sch:assert>
      <sch:assert id="a-26527" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:26527).</sch:assert>
      <sch:assert id="a-26528" test="cda:id[@root]">This id SHALL contain exactly one [1..1] @root (CONF:26528).
Note: Document ID</sch:assert>
      <sch:assert id="a-26529" test="count(cda:custodian)=1">SHALL contain exactly one [1..1] custodian (CONF:26529).</sch:assert>
      <sch:assert id="a-26530" test="cda:custodian[count(cda:assignedCustodian)=1]">This custodian SHALL contain exactly one [1..1] assignedCustodian (CONF:26530).</sch:assert>
      <sch:assert id="a-26531" test="cda:custodian/cda:assignedCustodian[count(cda:representedCustodianOrganization)=1]">This assignedCustodian SHALL contain exactly one [1..1] representedCustodianOrganization (CONF:26531).</sch:assert>
      <sch:assert id="a-26532" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization[count(cda:name)=1]">This representedCustodianOrganization SHALL contain exactly one [1..1] name (CONF:26532).
Note: Name of Sending Site (Origin of Transfer, Sent From)</sch:assert>
      <sch:assert id="a-26686" test="cda:component[count(cda:structuredBody[count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component) &lt; 2][count(cda:component[@xsi:type='Component3'][@xsi:type='Component3'][count(cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.55'])=1]) &lt; 2])=1]">This component SHALL contain exactly one [1..1] structuredBody (CONF:26484) such that it SHOULD contain zero or one [0..1] component (CONF:26685) such that it SHALL contain exactly one [1..1] Patient Data Section MASS HIE (templateId:2.16.840.1.113883.10.20.22.2.55) (CONF:26686).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.1.12-errors" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.22.1.12']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.1.12-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.55-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.55-errors-abstract" abstract="true">
      <sch:assert id="a-26678" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.7'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.7'])=1]">MAY contain zero or more [0..*] entry (CONF:26677) such that it SHALL contain exactly one [1..1] Assertion Pattern (templateId:2.16.840.1.113883.10.20.25.4.7) (CONF:26678).</sch:assert>
      <sch:assert id="a-26680" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.5'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.5'])=1]">MAY contain zero or more [0..*] entry (CONF:26679) such that it SHALL contain exactly one [1..1] Question Answer Pattern (templateId:2.16.840.1.113883.10.20.25.4.5) (CONF:26680).</sch:assert>
      <sch:assert id="a-26682" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.6'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.6'])=1]">MAY contain zero or more [0..*] entry (CONF:26681) such that it SHALL contain exactly one [1..1] Other Response Pattern (templateId:2.16.840.1.113883.10.20.25.4.6) (CONF:26682).</sch:assert>
      <sch:assert id="a-26684" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.8'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.8'])=1]">MAY contain zero or more [0..*] entry (CONF:26683) such that it SHALL contain exactly one [1..1] Typical Response Pattern (templateId:2.16.840.1.113883.10.20.25.4.8) (CONF:26684).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.55-errors" context="cda:Section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.55']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.55-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.7-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.7-errors-abstract" abstract="true">
      <sch:assert id="a-6273" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:6273).</sch:assert>
      <sch:assert id="a-15423" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15423).</sch:assert>
      <sch:assert id="a-15424" test="cda:code[@code='47519-4' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="47519-4" History of Procedures (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15424).</sch:assert>
      <sch:assert id="a-15509" test="not(tested)">MAY contain zero or more [0..*] entry (CONF:6274) such that it SHALL contain exactly one [1..1] Procedure Activity Procedure (templateId:2.16.840.1.113883.10.20.22.4.14) (CONF:15509).</sch:assert>
      <sch:assert id="a-15510" test="not(tested)">MAY contain zero or one [0..1] entry (CONF:6278) such that it SHALL contain exactly one [1..1] Procedure Activity Observation (templateId:2.16.840.1.113883.10.20.22.4.13) (CONF:15510).</sch:assert>
      <sch:assert id="a-15511" test="not(tested)">MAY contain zero or one [0..1] entry (CONF:8533) such that it SHALL contain exactly one [1..1] Procedure Activity Act (templateId:2.16.840.1.113883.10.20.22.4.12) (CONF:15511).</sch:assert>
      <sch:assert id="a-17184" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:17184).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.7-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.7']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.7-errors-abstract" />
      <sch:assert id="a-6271" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.7'])=1">SHALL contain exactly one [1..1] templateId (CONF:6270) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.7" (CONF:6271).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.7.1-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.7.1-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.7-errors-abstract" />
      <sch:assert id="a-7893" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7893).</sch:assert>
      <sch:assert id="a-7894" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7894).</sch:assert>
      <sch:assert id="a-15425" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15425).</sch:assert>
      <sch:assert id="a-15426" test="cda:code[@code='47519-4' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="47519-4" History of Procedures (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15426).</sch:assert>
      <sch:assert id="a-15512" test="not(cda:entry[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.14'])=1]) or cda:entry[count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.14'])=1]">MAY contain zero or more [0..*] entry (CONF:7895) such that it SHALL contain exactly one [1..1] Procedure Activity Procedure (templateId:2.16.840.1.113883.10.20.22.4.14) (CONF:15512).</sch:assert>
      <sch:assert id="a-15513" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.13'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.13'])=1]">MAY contain zero or more [0..*] entry (CONF:8017) such that it SHALL contain exactly one [1..1] Procedure Activity Observation (templateId:2.16.840.1.113883.10.20.22.4.13) (CONF:15513).</sch:assert>
      <sch:assert id="a-15514" test="not(cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.12'])=1]) or cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.12'])=1]">MAY contain zero or more [0..*] entry (CONF:8019) such that it SHALL contain exactly one [1..1] Procedure Activity Act (templateId:2.16.840.1.113883.10.20.22.4.12) (CONF:15514).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.7.1-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.7.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.7.1-errors-abstract" />
      <sch:assert id="a-10447" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.7.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:7891) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.7.1" (CONF:10447).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.14-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.14-errors-abstract" abstract="true">
      <sch:assert id="a-7652" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" Procedure (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7652).</sch:assert>
      <sch:assert id="a-7653" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt 2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:7653).</sch:assert>
      <sch:assert id="a-7655" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7655).</sch:assert>
      <sch:assert id="a-7656" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:7656).</sch:assert>
      <sch:assert id="a-7661" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode 2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:7661).</sch:assert>
      <sch:assert id="a-7704" test="not(cda:specimen) or cda:specimen[count(cda:specimenRole)=1]">The specimen, if present, SHALL contain exactly one [1..1] specimenRole (CONF:7704).</sch:assert>
      <sch:assert id="a-7720" test="not(cda:performer[count(cda:assignedEntity)=1]) or cda:performer[count(cda:assignedEntity)=1]">SHOULD contain zero or more [0..*] performer (CONF:7718) such that it SHALL contain exactly one [1..1] assignedEntity (CONF:7720).</sch:assert>
      <sch:assert id="a-7722" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:7722).</sch:assert>
      <sch:assert id="a-7731" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:addr)=1]">This assignedEntity SHALL contain exactly one [1..1] addr (CONF:7731).</sch:assert>
      <sch:assert id="a-7732" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:telecom)=1]">This assignedEntity SHALL contain exactly one [1..1] telecom (CONF:7732).</sch:assert>
      <sch:assert id="a-7736" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:addr)=1]">The representedOrganization, if present, SHALL contain exactly one [1..1] addr (CONF:7736).</sch:assert>
      <sch:assert id="a-7737" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:telecom)=1]">The representedOrganization, if present, SHALL contain exactly one [1..1] telecom (CONF:7737).</sch:assert>
      <sch:assert id="a-7770" test="not(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:encounter)=1]) or cda:entryRelationship[@typeCode='COMP'][@inversionInd='true'][count(cda:encounter)=1]">MAY contain zero or more [0..*] entryRelationship (CONF:7768) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has Component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7769). SHALL contain exactly one [1..1] @inversionInd="true" true (CONF:8009). SHALL contain exactly one [1..1] encounter (CONF:7770).</sch:assert>
      <sch:assert id="a-7771" test="not(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true']/cda:encounter) or cda:entryRelationship[@typeCode='COMP'][@inversionInd='true']/cda:encounter[@classCode='ENC']">This encounter SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7771).</sch:assert>
      <sch:assert id="a-7772" test="not(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true']/cda:encounter) or cda:entryRelationship[@typeCode='COMP'][@inversionInd='true']/cda:encounter[@moodCode='EVN']">This encounter SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7772).</sch:assert>
      <sch:assert id="a-7773" test="not(cda:entryRelationship[@typeCode='COMP'][@inversionInd='true']/cda:encounter) or cda:entryRelationship[@typeCode='COMP'][@inversionInd='true']/cda:encounter[count(cda:id)=1]">This encounter SHALL contain exactly one [1..1] id (CONF:7773).</sch:assert>
      <sch:assert id="a-15911" test="not(cda:participant[@typeCode='DEV'][count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.37'])=1]) or cda:participant[@typeCode='DEV'][count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.37'])=1]">MAY contain zero or more [0..*] participant (CONF:7751) such that it SHALL contain exactly one [1..1] @typeCode="DEV" Device (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7752). SHALL contain exactly one [1..1] Product Instance (templateId:2.16.840.1.113883.10.20.22.4.37) (CONF:15911).</sch:assert>
      <sch:assert id="a-15912" test="not(cda:participant[@typeCode='LOC'][count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.32'])=1]) or cda:participant[@typeCode='LOC'][count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.32'])=1]">MAY contain zero or more [0..*] participant (CONF:7765) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:7766). SHALL contain exactly one [1..1] Service Delivery Location (templateId:2.16.840.1.113883.10.20.22.4.32) (CONF:15912).</sch:assert>
      <sch:assert id="a-15913" test="count(cda:entryRelationship[@typeCode='SUBJ'][@inversionInd='true'][count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.20'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:7775) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" Has Subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7776). SHALL contain exactly one [1..1] @inversionInd="true" true (CONF:7777). SHALL contain exactly one [1..1] Instructions (templateId:2.16.840.1.113883.10.20.22.4.20) (CONF:15913).</sch:assert>
      <sch:assert id="a-15914" test="not(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]) or cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:7779) such that it SHALL contain exactly one [1..1] @typeCode="RSON" Has Reason (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7780). SHALL contain exactly one [1..1] Indication (templateId:2.16.840.1.113883.10.20.22.4.19) (CONF:15914).</sch:assert>
      <sch:assert id="a-15915" test="not(cda:entryRelationship[@typeCode='COMP'][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16'])=1]) or cda:entryRelationship[@typeCode='COMP'][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:7886) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has Component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7887). SHALL contain exactly one [1..1] Medication Activity (templateId:2.16.840.1.113883.10.20.22.4.16) (CONF:15915).</sch:assert>
      <sch:assert id="a-16082" test="not(cda:targetSiteCode) or cda:targetSiteCode[@code]">The targetSiteCode, if present, SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Body Site Value Set 2.16.840.1.113883.3.88.12.3221.8.9 DYNAMIC (CONF:16082).</sch:assert>
      <sch:assert id="a-19206" test="count(cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:19206).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.14-errors" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.14']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.14-errors-abstract" />
      <sch:assert id="a-10521" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:7654) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.14" (CONF:10521).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.16-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.16-errors-abstract" abstract="true">
      <sch:assert id="a-7496" test="@classCode='SBADM'">SHALL contain exactly one [1..1] @classCode="SBADM" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7496).</sch:assert>
      <sch:assert id="a-7497" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt 2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:7497).</sch:assert>
      <sch:assert id="a-7500" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7500).</sch:assert>
      <sch:assert id="a-7507" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7507).</sch:assert>
      <sch:assert id="a-7511" test="count(cda:effectiveTime[count(cda:high)=1][count(cda:low)=1])=1">SHALL contain exactly one [1..1] effectiveTime (CONF:7508) such that it SHALL contain exactly one [1..1] low (CONF:7511).</sch:assert>
      <sch:assert id="a-7512" test="count(cda:effectiveTime[count(cda:low)=1][count(cda:high)=1])=1">SHALL contain exactly one [1..1] effectiveTime (CONF:7508) such that it SHALL contain exactly one [1..1] high (CONF:7512).</sch:assert>
      <sch:assert id="a-7520" test="count(cda:consumable)=1">SHALL contain exactly one [1..1] consumable (CONF:7520).</sch:assert>
      <sch:assert id="a-7525" test="not(cda:rateQuantity) or cda:rateQuantity[@unit]">The rateQuantity, if present, SHALL contain exactly one [1..1] @unit, which SHALL be selected from ValueSet UnitsOfMeasureCaseSensitive 2.16.840.1.113883.1.11.12839 DYNAMIC (CONF:7525).</sch:assert>
      <sch:assert id="a-9105" test="not(tested-here)">SHOULD contain zero or one [0..1] effectiveTime (CONF:7513) such that it SHALL contain exactly one [1..1] @operator="A" (CONF:9106). SHALL contain exactly one [1..1] @xsi:type=?PIVL_TS? or ?EIVL_TS? (CONF:9105).</sch:assert>
      <sch:assert id="a-9106" test="not(tested-here)">SHOULD contain zero or one [0..1] effectiveTime (CONF:7513) such that it SHALL contain exactly one [1..1] @operator="A" (CONF:9106).</sch:assert>
      <sch:assert id="a-15979" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15979).</sch:assert>
      <sch:assert id="a-16085" test="cda:consumable[count(cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23'])=1]">This consumable SHALL contain exactly one [1..1] Medication Information (templateId:2.16.840.1.113883.10.20.22.4.23) (CONF:16085).</sch:assert>
      <sch:assert id="a-16086" test="not(cda:participant[@typeCode='CSM'][count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.24'])=1]) or cda:participant[@typeCode='CSM'][count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.24'])=1]">MAY contain zero or more [0..*] participant (CONF:7523) such that it SHALL contain exactly one [1..1] @typeCode="CSM" (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:7524). SHALL contain exactly one [1..1] Drug Vehicle (templateId:2.16.840.1.113883.10.20.22.4.24) (CONF:16086).</sch:assert>
      <sch:assert id="a-16087" test="not(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]) or cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:7536) such that it SHALL contain exactly one [1..1] @typeCode="RSON" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7537). SHALL contain exactly one [1..1] Indication (templateId:2.16.840.1.113883.10.20.22.4.19) (CONF:16087).</sch:assert>
      <sch:assert id="a-16088" test="count(cda:entryRelationship[@typeCode='SUBJ'][@inversionInd='true'][count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.20'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:7539) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7540). SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:7542). SHALL contain exactly one [1..1] Instructions (templateId:2.16.840.1.113883.10.20.22.4.20) (CONF:16088).</sch:assert>
      <sch:assert id="a-16089" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.17'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:7543) such that it SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7547). SHALL contain exactly one [1..1] Medication Supply Order (templateId:2.16.840.1.113883.10.20.22.4.17) (CONF:16089).</sch:assert>
      <sch:assert id="a-16090" test="not(cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.18'])=1]) or cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.18'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:7549) such that it SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7553). SHALL contain exactly one [1..1] Medication Dispense (templateId:2.16.840.1.113883.10.20.22.4.18) (CONF:16090).</sch:assert>
      <sch:assert id="a-16091" test="count(cda:entryRelationship[@typeCode='CAUS'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.9'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:7552) such that it SHALL contain exactly one [1..1] @typeCode="CAUS" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7544). SHALL contain exactly one [1..1] Reaction Observation (templateId:2.16.840.1.113883.10.20.22.4.9) (CONF:16091).</sch:assert>
      <sch:assert id="a-16092" test="not(cda:precondition[@typeCode='PRCN'][count(cda:criterion[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.25'])=1]) or cda:precondition[@typeCode='PRCN'][count(cda:criterion[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.25'])=1]">MAY contain zero or more [0..*] precondition (CONF:7546) such that it SHALL contain exactly one [1..1] @typeCode="PRCN" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7550). SHALL contain exactly one [1..1] Precondition for Substance Administration (templateId:2.16.840.1.113883.10.20.22.4.25) (CONF:16092).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.16-errors" context="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.16-errors-abstract" />
      <sch:assert id="a-10504" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.16'])=1">SHALL contain exactly one [1..1] templateId (CONF:7499) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.16" (CONF:10504).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.9-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.9-errors-abstract" abstract="true">
      <sch:assert id="a-7325" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7325).</sch:assert>
      <sch:assert id="a-7326" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7326).</sch:assert>
      <sch:assert id="a-7328" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7328).</sch:assert>
      <sch:assert id="a-7329" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:7329).</sch:assert>
      <sch:assert id="a-7335" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet Problem Value Set 2.16.840.1.113883.3.88.12.3221.7.4 DYNAMIC (CONF:7335).</sch:assert>
      <sch:assert id="a-15919" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15919).</sch:assert>
      <sch:assert id="a-15920" test="not(cda:entryRelationship[@typeCode='RSON'][@inversionInd='true'][count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.14'])=1]) or cda:entryRelationship[@typeCode='RSON'][@inversionInd='true'][count(cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.14'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:7337) such that it SHALL contain exactly one [1..1] @typeCode="RSON" Has reason (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7338). SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:7343). SHALL contain exactly one [1..1] Procedure Activity Procedure (templateId:2.16.840.1.113883.10.20.22.4.14) (CONF:15920).</sch:assert>
      <sch:assert id="a-15921" test="not(cda:entryRelationship[@typeCode='RSON'][@inversionInd='true'][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16'])=1]) or cda:entryRelationship[@typeCode='RSON'][@inversionInd='true'][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:7340) such that it SHALL contain exactly one [1..1] @typeCode="RSON" Has reason (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7341). SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:7344). SHALL contain exactly one [1..1] Medication Activity (templateId:2.16.840.1.113883.10.20.22.4.16) (CONF:15921).</sch:assert>
      <sch:assert id="a-15922" test="count(cda:entryRelationship[@typeCode='SUBJ'][@inversionInd='true'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.8'])=1]) &lt; 2">SHOULD contain zero or one [0..1] entryRelationship (CONF:7580) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" Has subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7581). SHALL contain exactly one [1..1] @inversionInd="true" TRUE (CONF:10375). SHALL contain exactly one [1..1] Severity Observation (templateId:2.16.840.1.113883.10.20.22.4.8) (CONF:15922).</sch:assert>
      <sch:assert id="a-16851" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:16851).</sch:assert>
      <sch:assert id="a-19114" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19114).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.9-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.9']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.9-errors-abstract" />
      <sch:assert id="a-10523" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.9'])=1">SHALL contain exactly one [1..1] templateId (CONF:7323) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.9" (CONF:10523).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.8-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.8-errors-abstract" abstract="true">
      <sch:assert id="a-7345" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7345).</sch:assert>
      <sch:assert id="a-7346" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7346).</sch:assert>
      <sch:assert id="a-7352" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7352).</sch:assert>
      <sch:assert id="a-7356" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet Problem Severity 2.16.840.1.113883.3.88.12.3221.6.8 DYNAMIC (CONF:7356).</sch:assert>
      <sch:assert id="a-15930" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15930).</sch:assert>
      <sch:assert id="a-19115" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19115).</sch:assert>
      <sch:assert id="a-19168" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19168).</sch:assert>
      <sch:assert id="a-19169" test="cda:code[@code='SEV' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="SEV" (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19169).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.8-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.8']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.8-errors-abstract" />
      <sch:assert id="a-10525" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.8'])=1">SHALL contain exactly one [1..1] templateId (CONF:7347) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.8" (CONF:10525).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.25-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.25-errors-abstract" abstract="true" />
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.25-errors" context="cda:criterion[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.25']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.25-errors-abstract" />
      <sch:assert id="a-10517" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.25'])=1">SHALL contain exactly one [1..1] templateId (CONF:7372) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.25" (CONF:10517).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.20-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.20-errors-abstract" abstract="true">
      <sch:assert id="a-7391" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7391).</sch:assert>
      <sch:assert id="a-7392" test="@moodCode='INT'">SHALL contain exactly one [1..1] @moodCode="INT" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7392).</sch:assert>
      <sch:assert id="a-7396" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7396).</sch:assert>
      <sch:assert id="a-15579" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This @value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15579).</sch:assert>
      <sch:assert id="a-16884" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Patient Education 2.16.840.1.113883.11.20.9.34 DYNAMIC (CONF:16884).</sch:assert>
      <sch:assert id="a-19106" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19106).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.20-errors" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.20']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.20-errors-abstract" />
      <sch:assert id="a-10503" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.20'])=1">SHALL contain exactly one [1..1] templateId (CONF:7393) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.20" (CONF:10503).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.23-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.23-errors-abstract" abstract="true">
      <sch:assert id="a-7408" test="@classCode='MANU'">SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:7408).</sch:assert>
      <sch:assert id="a-7411" test="count(cda:manufacturedMaterial)=1">SHALL contain exactly one [1..1] manufacturedMaterial (CONF:7411).</sch:assert>
      <sch:assert id="a-7412" test="cda:manufacturedMaterial[count(cda:code)=1]">This manufacturedMaterial SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet Medication Clinical Drug Name Value Set 2.16.840.1.113883.3.88.12.80.17 DYNAMIC (CONF:7412).</sch:assert>
      <sch:assert id="a-15988" test="count(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15988).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.23-errors" context="cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.23-errors-abstract" />
      <sch:assert id="a-10506" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.23'])=1">SHALL contain exactly one [1..1] templateId (CONF:7409) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.23" (CONF:10506).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.17-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.17-errors-abstract" abstract="true">
      <sch:assert id="a-7427" test="@classCode='SPLY'">SHALL contain exactly one [1..1] @classCode="SPLY" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7427).</sch:assert>
      <sch:assert id="a-7428" test="@moodCode='INT'">SHALL contain exactly one [1..1] @moodCode="INT" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7428).</sch:assert>
      <sch:assert id="a-7430" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7430).</sch:assert>
      <sch:assert id="a-7432" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7432).</sch:assert>
      <sch:assert id="a-7444" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='SUBJ']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="SUBJ" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7444).</sch:assert>
      <sch:assert id="a-7445" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']">The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:7445).</sch:assert>
      <sch:assert id="a-15144" test="count(cda:effectiveTime[@xsi:type='IVL_TS'][@xsi:type='IVL_TS'][count(cda:high)=1]) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:15143) such that it SHALL contain exactly one [1..1] high (CONF:15144).</sch:assert>
      <sch:assert id="a-16093" test="count(cda:product[count(cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23'])=1]) &lt; 2">MAY contain zero or one [0..1] product (CONF:7439) such that it SHALL contain exactly one [1..1] Medication Information (templateId:2.16.840.1.113883.10.20.22.4.23) (CONF:16093).</sch:assert>
      <sch:assert id="a-16094" test="count(cda:product[count(cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.54'])=1]) &lt; 2">MAY contain zero or one [0..1] product (CONF:9334) such that it SHALL contain exactly one [1..1] Immunization Medication Information (templateId:2.16.840.1.113883.10.20.22.4.54) (CONF:16094).</sch:assert>
      <sch:assert id="a-16095" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.20'])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Instructions (templateId:2.16.840.1.113883.10.20.22.4.20) (CONF:16095).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.17-errors" context="cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.17']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.17-errors-abstract" />
      <sch:assert id="a-10507" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.17'])=1">SHALL contain exactly one [1..1] templateId (CONF:7429) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.17" (CONF:10507).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.54-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.54-errors-abstract" abstract="true">
      <sch:assert id="a-9002" test="@classCode='MANU'">SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:9002).</sch:assert>
      <sch:assert id="a-9006" test="count(cda:manufacturedMaterial)=1">SHALL contain exactly one [1..1] manufacturedMaterial (CONF:9006).</sch:assert>
      <sch:assert id="a-9007" test="cda:manufacturedMaterial[count(cda:code)=1]">This manufacturedMaterial SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet Vaccine Administered Value Set 2.16.840.1.113883.3.88.12.80.22 DYNAMIC (CONF:9007).</sch:assert>
      <sch:assert id="a-15557" test="count(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15557).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.54-errors" context="cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.54']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.54-errors-abstract" />
      <sch:assert id="a-10499" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.54'])=1">SHALL contain exactly one [1..1] templateId (CONF:9004) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.54" (CONF:10499).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.18-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.18-errors-abstract" abstract="true">
      <sch:assert id="a-7451" test="@classCode='SPLY'">SHALL contain exactly one [1..1] @classCode="SPLY" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7451).</sch:assert>
      <sch:assert id="a-7452" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7452).</sch:assert>
      <sch:assert id="a-7454" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7454).</sch:assert>
      <sch:assert id="a-7455" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet Medication Fill Status 2.16.840.1.113883.3.88.12.80.64 DYNAMIC (CONF:7455).</sch:assert>
      <sch:assert id="a-7467" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:7467).</sch:assert>
      <sch:assert id="a-9333" test="cda:product/cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23' or cda:templateId/@root='2.16.840.1.113883.10.20.22.4.54']">A supply act SHALL contain one product/Medication Information or one product/Immunization Medication Information template (CONF:9333).</sch:assert>
      <sch:assert id="a-10565" test="cda:performer/cda:assignedEntity/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10565).</sch:assert>
      <sch:assert id="a-15606" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.17'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:7473) such that it SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7474). SHALL contain exactly one [1..1] Medication Supply Order (templateId:2.16.840.1.113883.10.20.22.4.17) (CONF:15606).</sch:assert>
      <sch:assert id="a-15607" test="count(cda:product[count(cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23'])=1]) &lt; 2">MAY contain zero or one [0..1] product (CONF:7459) such that it SHALL contain exactly one [1..1] Medication Information (templateId:2.16.840.1.113883.10.20.22.4.23) (CONF:15607).</sch:assert>
      <sch:assert id="a-15608" test="count(cda:product[count(cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.54'])=1]) &lt; 2">MAY contain zero or one [0..1] product (CONF:9331) such that it SHALL contain exactly one [1..1] Immunization Medication Information (templateId:2.16.840.1.113883.10.20.22.4.54) (CONF:15608).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.18-errors" context="cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.18']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.18-errors-abstract" />
      <sch:assert id="a-10505" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.18'])=1">SHALL contain exactly one [1..1] templateId (CONF:7453) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.18" (CONF:10505).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.19-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.19-errors-abstract" abstract="true">
      <sch:assert id="a-7480" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7480).</sch:assert>
      <sch:assert id="a-7481" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7481).</sch:assert>
      <sch:assert id="a-7483" test="count(cda:id)=1">SHALL contain exactly one [1..1] id (CONF:7483).</sch:assert>
      <sch:assert id="a-7487" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7487).</sch:assert>
      <sch:assert id="a-16886" test="count(cda:code[@code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.3.88.12.3221.7.2']/voc:code/@value])=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Problem Type 2.16.840.1.113883.3.88.12.3221.7.2 STATIC 2012-06-01 (CONF:16886).</sch:assert>
      <sch:assert id="a-19105" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19105).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.19-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.19-errors-abstract" />
      <sch:assert id="a-10502" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.19'])=1">SHALL contain exactly one [1..1] templateId (CONF:7482) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.19" (CONF:10502).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.24-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.24-errors-abstract" abstract="true">
      <sch:assert id="a-7490" test="@classCode='MANU'">SHALL contain exactly one [1..1] @classCode="MANU" (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:7490).</sch:assert>
      <sch:assert id="a-7492" test="count(cda:playingEntity)=1">SHALL contain exactly one [1..1] playingEntity (CONF:7492).</sch:assert>
      <sch:assert id="a-7493" test="cda:playingEntity[count(cda:code)=1]">This playingEntity/code is used to supply a coded term for the drug vehicle.
This playingEntity SHALL contain exactly one [1..1] code (CONF:7493).</sch:assert>
      <sch:assert id="a-19137" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19137).</sch:assert>
      <sch:assert id="a-19138" test="cda:code[@code='412307009' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="412307009" Drug Vehicle (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:19138).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.24-errors" context="cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.24']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.24-errors-abstract" />
      <sch:assert id="a-10493" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.24'])=1">SHALL contain exactly one [1..1] templateId (CONF:7495) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.24" (CONF:10493).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.32-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.32-errors-abstract" abstract="true">
      <sch:assert id="a-7758" test="@classCode='SDLOC'">SHALL contain exactly one [1..1] @classCode="SDLOC" (CodeSystem: RoleCode 2.16.840.1.113883.5.111 STATIC) (CONF:7758).</sch:assert>
      <sch:assert id="a-7763" test="not(cda:playingEntity) or cda:playingEntity[@classCode='PLC']">The playingEntity, if present, SHALL contain exactly one [1..1] @classCode="PLC" (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:7763).</sch:assert>
      <sch:assert id="a-16850" test="count(cda:code[@code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.20275']/voc:code/@value])=1">SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet HealthcareServiceLocation 2.16.840.1.113883.1.11.20275 STATIC (CONF:16850).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.32-errors" context="cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.32']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.32-errors-abstract" />
      <sch:assert id="a-10524" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.32'])=1">SHALL contain exactly one [1..1] templateId (CONF:7635) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.32" (CONF:10524).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.37-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.37-errors-abstract" abstract="true">
      <sch:assert id="a-7900" test="@classCode='MANU'">SHALL contain exactly one [1..1] @classCode="MANU" Manufactured Product (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:7900).</sch:assert>
      <sch:assert id="a-7902" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7902).</sch:assert>
      <sch:assert id="a-7903" test="count(cda:playingDevice)=1">SHALL contain exactly one [1..1] playingDevice (CONF:7903).</sch:assert>
      <sch:assert id="a-7905" test="count(cda:scopingEntity)=1">SHALL contain exactly one [1..1] scopingEntity (CONF:7905).</sch:assert>
      <sch:assert id="a-7908" test="cda:scopingEntity[count(cda:id) &gt; 0]">This scopingEntity SHALL contain at least one [1..*] id (CONF:7908).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.37-errors" context="cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.37']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.37-errors-abstract" />
      <sch:assert id="a-10522" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.37'])=1">SHALL contain exactly one [1..1] templateId (CONF:7901) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.37" (CONF:10522).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.12-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.12-errors-abstract" abstract="true">
      <sch:assert id="a-8289" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" Act (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8289).</sch:assert>
      <sch:assert id="a-8290" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt 2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:8290).</sch:assert>
      <sch:assert id="a-8292" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8292).</sch:assert>
      <sch:assert id="a-8293" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:8293).</sch:assert>
      <sch:assert id="a-8298" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode 2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:8298).</sch:assert>
      <sch:assert id="a-8302" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:8302).</sch:assert>
      <sch:assert id="a-8303" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:8303).</sch:assert>
      <sch:assert id="a-8304" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:addr)=1]">This assignedEntity SHALL contain exactly one [1..1] addr (CONF:8304).</sch:assert>
      <sch:assert id="a-8305" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:telecom)=1]">This assignedEntity SHALL contain exactly one [1..1] telecom (CONF:8305).</sch:assert>
      <sch:assert id="a-8309" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:addr)=1]">The representedOrganization, if present, SHALL contain exactly one [1..1] addr (CONF:8309).</sch:assert>
      <sch:assert id="a-8310" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:telecom)=1]">The representedOrganization, if present, SHALL contain exactly one [1..1] telecom (CONF:8310).</sch:assert>
      <sch:assert id="a-8312" test="not(cda:participant) or cda:participant[@typeCode='LOC']">The participant, if present, SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8312).</sch:assert>
      <sch:assert id="a-8315" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" Has Component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8315).</sch:assert>
      <sch:assert id="a-8316" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']">The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" true (CONF:8316).</sch:assert>
      <sch:assert id="a-8317" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:encounter)=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] encounter (CONF:8317).</sch:assert>
      <sch:assert id="a-8318" test="not(cda:entryRelationship/cda:encounter) or cda:entryRelationship/cda:encounter[@classCode='ENC']">This encounter SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8318).</sch:assert>
      <sch:assert id="a-8319" test="not(cda:entryRelationship/cda:encounter) or cda:entryRelationship/cda:encounter[@moodCode='EVN']">This encounter SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8319).</sch:assert>
      <sch:assert id="a-8320" test="not(cda:entryRelationship/cda:encounter) or cda:entryRelationship/cda:encounter[count(cda:id)=1]">This encounter SHALL contain exactly one [1..1] id (CONF:8320).</sch:assert>
      <sch:assert id="a-8323" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='SUBJ']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="SUBJ" Has Subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8323).</sch:assert>
      <sch:assert id="a-8324" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']">The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" true (CONF:8324).</sch:assert>
      <sch:assert id="a-8327" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='RSON']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="RSON" Has Reason (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8327).</sch:assert>
      <sch:assert id="a-8330" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" Has Component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8330).</sch:assert>
      <sch:assert id="a-15599" test="not(cda:participant) or cda:participant[count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.32'])=1]">The participant, if present, SHALL contain exactly one [1..1] Service Delivery Location (templateId:2.16.840.1.113883.10.20.22.4.32) (CONF:15599).</sch:assert>
      <sch:assert id="a-15600" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.20'])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Instructions (templateId:2.16.840.1.113883.10.20.22.4.20) (CONF:15600).</sch:assert>
      <sch:assert id="a-15601" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Indication (templateId:2.16.840.1.113883.10.20.22.4.19) (CONF:15601).</sch:assert>
      <sch:assert id="a-15602" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16'])=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] Medication Activity (templateId:2.16.840.1.113883.10.20.22.4.16) (CONF:15602).</sch:assert>
      <sch:assert id="a-19189" test="count(cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:19189).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.12-errors" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.12']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.12-errors-abstract" />
      <sch:assert id="a-10519" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.12'])=1">SHALL contain exactly one [1..1] templateId (CONF:8291) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.12" (CONF:10519).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.13-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.13-errors-abstract" abstract="true">
      <sch:assert id="a-8237" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt 2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:8237).</sch:assert>
      <sch:assert id="a-8239" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8239).</sch:assert>
      <sch:assert id="a-8245" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProcedureAct statusCode 2.16.840.1.113883.11.20.9.22 DYNAMIC (CONF:8245).</sch:assert>
      <sch:assert id="a-8252" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:8252).</sch:assert>
      <sch:assert id="a-8253" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:8253).</sch:assert>
      <sch:assert id="a-8254" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:addr)=1]">This assignedEntity SHALL contain exactly one [1..1] addr (CONF:8254).</sch:assert>
      <sch:assert id="a-8255" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:telecom)=1]">This assignedEntity SHALL contain exactly one [1..1] telecom (CONF:8255).</sch:assert>
      <sch:assert id="a-8259" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:addr)=1]">The representedOrganization, if present, SHALL contain exactly one [1..1] addr (CONF:8259).</sch:assert>
      <sch:assert id="a-8260" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[count(cda:telecom)=1]">The representedOrganization, if present, SHALL contain exactly one [1..1] telecom (CONF:8260).</sch:assert>
      <sch:assert id="a-8262" test="not(cda:participant) or cda:participant[@typeCode='LOC']">The participant, if present, SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8262).</sch:assert>
      <sch:assert id="a-8265" test="not(cda:entryRelationship) or cda:entryRelationship[@typeCode='COMP']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="COMP" Component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8265).</sch:assert>
      <sch:assert id="a-8266" test="not(cda:entryRelationship) or cda:entryRelationship[@inversionInd='true']">The entryRelationship, if present, SHALL contain exactly one [1..1] @inversionInd="true" true (CONF:8266).</sch:assert>
      <sch:assert id="a-8267" test="not(cda:entryRelationship) or cda:entryRelationship[count(cda:encounter)=1]">The entryRelationship, if present, SHALL contain exactly one [1..1] encounter (CONF:8267).</sch:assert>
      <sch:assert id="a-8268" test="not(cda:entryRelationship/cda:encounter) or cda:entryRelationship/cda:encounter[@classCode='ENC']">This encounter SHALL contain exactly one [1..1] @classCode="ENC" Encounter (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8268).</sch:assert>
      <sch:assert id="a-8269" test="not(cda:entryRelationship/cda:encounter) or cda:entryRelationship/cda:encounter[@moodCode='EVN']">This encounter SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8269).</sch:assert>
      <sch:assert id="a-8270" test="not(cda:entryRelationship/cda:encounter) or cda:entryRelationship/cda:encounter[count(cda:id)=1]">This encounter SHALL contain exactly one [1..1] id (CONF:8270).</sch:assert>
      <sch:assert id="a-8282" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8282).</sch:assert>
      <sch:assert id="a-15904" test="not(cda:participant) or cda:participant[count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.32'])=1]">The participant, if present, SHALL contain exactly one [1..1] Service Delivery Location (templateId:2.16.840.1.113883.10.20.22.4.32) (CONF:15904).</sch:assert>
      <sch:assert id="a-15905" test="count(cda:entryRelationship[@typeCode='SUBJ'][@inversionInd='true'][count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.20'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:8272) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" Has Subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8273). SHALL contain exactly one [1..1] @inversionInd="true" true (CONF:8274). SHALL contain exactly one [1..1] Instructions (templateId:2.16.840.1.113883.10.20.22.4.20) (CONF:15905).</sch:assert>
      <sch:assert id="a-15906" test="not(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]) or cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:8276) such that it SHALL contain exactly one [1..1] @typeCode="RSON" Has Reason (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8277). SHALL contain exactly one [1..1] Indication (templateId:2.16.840.1.113883.10.20.22.4.19) (CONF:15906).</sch:assert>
      <sch:assert id="a-15907" test="not(cda:entryRelationship[@typeCode='COMP'][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16'])=1]) or cda:entryRelationship[@typeCode='COMP'][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:8279) such that it SHALL contain exactly one [1..1] @typeCode="COMP" Has Component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8280). SHALL contain exactly one [1..1] Medication Activity (templateId:2.16.840.1.113883.10.20.22.4.16) (CONF:15907).</sch:assert>
      <sch:assert id="a-16071" test="not(cda:targetSiteCode) or cda:targetSiteCode[@code]">The targetSiteCode, if present, SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Body Site Value Set 2.16.840.1.113883.3.88.12.3221.8.9 DYNAMIC (CONF:16071).</sch:assert>
      <sch:assert id="a-16846" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:16846).</sch:assert>
      <sch:assert id="a-19197" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19197).</sch:assert>
      <sch:assert id="a-19201" test="count(cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:19201).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.13-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.13']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.13-errors-abstract" />
      <sch:assert id="a-10520" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.13'])=1">SHALL contain exactly one [1..1] templateId (CONF:8238) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.13" (CONF:10520).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.3-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.3-errors-abstract" abstract="true">
      <sch:assert id="a-7118" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7118).</sch:assert>
      <sch:assert id="a-8891" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:8891).</sch:assert>
      <sch:assert id="a-15431" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15431).</sch:assert>
      <sch:assert id="a-15432" test="cda:code[@code='30954-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="30954-2" Relevant diagnostic tests and/or laboratory data (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15432).</sch:assert>
      <sch:assert id="a-15515" test="not(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.1'])=1]) or cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.1'])=1]">SHOULD contain zero or more [0..*] entry (CONF:7119) such that it SHALL contain exactly one [1..1] Result Organizer (templateId:2.16.840.1.113883.10.20.22.4.1) (CONF:15515).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.3-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.3']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.3-errors-abstract" />
      <sch:assert id="a-9136" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.3'])=1">SHALL contain exactly one [1..1] templateId (CONF:7116) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.3" (CONF:9136).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.3.1-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.3.1-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.3-errors-abstract" />
      <sch:assert id="a-7111" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7111).</sch:assert>
      <sch:assert id="a-8892" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:8892).</sch:assert>
      <sch:assert id="a-15433" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15433).</sch:assert>
      <sch:assert id="a-15434" test="cda:code[@code='30954-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="30954-2" Relevant diagnostic tests and/or laboratory data (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15434).</sch:assert>
      <sch:assert id="a-15516" test="count(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.1'])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:7112) such that it SHALL contain exactly one [1..1] Result Organizer (templateId:2.16.840.1.113883.10.20.22.4.1) (CONF:15516).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.3.1-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.3.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.3.1-errors-abstract" />
      <sch:assert id="a-9137" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.3.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:7108) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.3.1" (CONF:9137).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.1-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.1-errors-abstract" abstract="true">
      <sch:assert id="a-7121" test="@classCode">SHALL contain exactly one [1..1] @classCode (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7121).</sch:assert>
      <sch:assert id="a-7122" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7122).</sch:assert>
      <sch:assert id="a-7123" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7123).</sch:assert>
      <sch:assert id="a-7127" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7127).</sch:assert>
      <sch:assert id="a-7128" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:7128).</sch:assert>
      <sch:assert id="a-14848" test="cda:statusCode[@code and @code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.39']/voc:code/@value]">This statusCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Result Status 2.16.840.1.113883.11.20.9.39 STATIC (CONF:14848).</sch:assert>
      <sch:assert id="a-14850" test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.2'])=1]) &gt; 0">SHALL contain at least one [1..*] component (CONF:7124) such that it SHALL contain exactly one [1..1] Result Observation (templateId:2.16.840.1.113883.10.20.22.4.2) (CONF:14850).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.1-errors" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.1-errors-abstract" />
      <sch:assert id="a-9134" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:7126) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.1" (CONF:9134).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.2-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.2-errors-abstract" abstract="true">
      <sch:assert id="a-7130" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7130).</sch:assert>
      <sch:assert id="a-7131" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7131).</sch:assert>
      <sch:assert id="a-7133" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:7133).</sch:assert>
      <sch:assert id="a-7134" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7134).</sch:assert>
      <sch:assert id="a-7137" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7137).</sch:assert>
      <sch:assert id="a-7140" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:7140).</sch:assert>
      <sch:assert id="a-7143" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:7143).</sch:assert>
      <sch:assert id="a-7151" test="not(cda:referenceRange) or cda:referenceRange[count(cda:observationRange)=1]">The referenceRange, if present, SHALL contain exactly one [1..1] observationRange (CONF:7151).</sch:assert>
      <sch:assert id="a-7152" test="not(cda:referenceRange/cda:observationRange/cda:code)">This observationRange SHALL NOT contain [0..0] code (CONF:7152).</sch:assert>
      <sch:assert id="a-14849" test="cda:statusCode[@code and @code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.39']/voc:code/@value]">This statusCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Result Status 2.16.840.1.113883.11.20.9.39 STATIC (CONF:14849).</sch:assert>
      <sch:assert id="a-15926" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15926).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.2-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.2']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-9138" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:7136) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.2" (CONF:9138).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.4-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.4-errors-abstract" abstract="true">
      <sch:assert id="a-7270" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7270).</sch:assert>
      <sch:assert id="a-9966" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:9966).</sch:assert>
      <sch:assert id="a-15242" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15242).</sch:assert>
      <sch:assert id="a-15243" test="cda:code[@code='8716-3' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="8716-3" Vital Signs (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15243).</sch:assert>
      <sch:assert id="a-15517" test="not(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.26'])=1]) or cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.26'])=1]">SHOULD contain zero or more [0..*] entry (CONF:7271) such that it SHALL contain exactly one [1..1] Vital Signs Organizer (templateId:2.16.840.1.113883.10.20.22.4.26) (CONF:15517).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.4-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.4']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.4-errors-abstract" />
      <sch:assert id="a-10451" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:7268) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.4" (CONF:10451).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.4.1-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.4.1-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.4-errors-abstract" />
      <sch:assert id="a-7275" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7275).</sch:assert>
      <sch:assert id="a-9967" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:9967).</sch:assert>
      <sch:assert id="a-15962" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15962).</sch:assert>
      <sch:assert id="a-15963" test="cda:code[@code='8716-3' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="8716-3" Vital Signs (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15963).</sch:assert>
      <sch:assert id="a-15964" test="count(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.26'])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:7276) such that it SHALL contain exactly one [1..1] Vital Signs Organizer (templateId:2.16.840.1.113883.10.20.22.4.26) (CONF:15964).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.4.1-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.4.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.4.1-errors-abstract" />
      <sch:assert id="a-10452" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.4.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:7273) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.4.1" (CONF:10452).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.26-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.26-errors-abstract" abstract="true">
      <sch:assert id="a-7279" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" CLUSTER (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7279).</sch:assert>
      <sch:assert id="a-7280" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7280).</sch:assert>
      <sch:assert id="a-7282" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7282).</sch:assert>
      <sch:assert id="a-7284" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7284).</sch:assert>
      <sch:assert id="a-7288" test="count(cda:effectiveTime)=1">The effectiveTime represents clinically effective time of the measurement, which is most likely when the measurement was performed (e.g., a BP measurement).
SHALL contain exactly one [1..1] effectiveTime (CONF:7288).</sch:assert>
      <sch:assert id="a-15946" test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.27'])=1]) &gt; 0">SHALL contain at least one [1..*] component (CONF:7285) such that it SHALL contain exactly one [1..1] Vital Sign Observation (templateId:2.16.840.1.113883.10.20.22.4.27) (CONF:15946).</sch:assert>
      <sch:assert id="a-19120" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19120).</sch:assert>
      <sch:assert id="a-19176" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19176).</sch:assert>
      <sch:assert id="a-19177" test="cda:code[@code='46680005' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="46680005" Vital signs (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:19177).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.26-errors" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.26']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.26-errors-abstract" />
      <sch:assert id="a-10528" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.26'])=1">SHALL contain exactly one [1..1] templateId (CONF:7281) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.26" (CONF:10528).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.27-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.27-errors-abstract" abstract="true">
      <sch:assert id="a-7297" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7297).</sch:assert>
      <sch:assert id="a-7298" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7298).</sch:assert>
      <sch:assert id="a-7300" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7300).</sch:assert>
      <sch:assert id="a-7301" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Vital Sign Result Value Set 2.16.840.1.113883.3.88.12.80.62 DYNAMIC (CONF:7301).</sch:assert>
      <sch:assert id="a-7303" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7303).</sch:assert>
      <sch:assert id="a-7304" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:7304).</sch:assert>
      <sch:assert id="a-7305" test="count(cda:value[@xsi:type='PQ'])=1">SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:7305).</sch:assert>
      <sch:assert id="a-15945" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15945).</sch:assert>
      <sch:assert id="a-19119" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19119).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.27-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.27']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.27-errors-abstract" />
      <sch:assert id="a-10527" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.27'])=1">SHALL contain exactly one [1..1] templateId (CONF:7299) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.27" (CONF:10527).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.6-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.6-errors-abstract" abstract="true">
      <sch:assert id="a-7802" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7802).</sch:assert>
      <sch:assert id="a-7803" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7803).</sch:assert>
      <sch:assert id="a-15345" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15345).</sch:assert>
      <sch:assert id="a-15346" test="cda:code[@code='48765-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="48765-2" Allergies, adverse reactions, alerts (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15346).</sch:assert>
      <sch:assert id="a-15444" test="not(cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.30'])=1]) or cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.30'])=1]">SHOULD contain zero or more [0..*] entry (CONF:7804) such that it SHALL contain exactly one [1..1] Allergy Problem Act (templateId:2.16.840.1.113883.10.20.22.4.30) (CONF:15444).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.6-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.6']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.6-errors-abstract" />
      <sch:assert id="a-10378" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.6'])=1">SHALL contain exactly one [1..1] templateId (CONF:7800) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.6" (CONF:10378).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.6.1-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.6.1-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.6-errors-abstract" />
      <sch:assert id="a-7530" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7530).</sch:assert>
      <sch:assert id="a-7534" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7534).</sch:assert>
      <sch:assert id="a-15349" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15349).</sch:assert>
      <sch:assert id="a-15350" test="cda:code[@code='48765-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="48765-2" Allergies, adverse reactions, alerts (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15350).</sch:assert>
      <sch:assert id="a-15446" test="count(cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.30'])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:7531) such that it SHALL contain exactly one [1..1] Allergy Problem Act (templateId:2.16.840.1.113883.10.20.22.4.30) (CONF:15446).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.6.1-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.6.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.6.1-errors-abstract" />
      <sch:assert id="a-10379" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.6.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:7527) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.6.1" (CONF:10379).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.30-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.30-errors-abstract" abstract="true">
      <sch:assert id="a-7469" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7469).</sch:assert>
      <sch:assert id="a-7470" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7470).</sch:assert>
      <sch:assert id="a-7472" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7472).</sch:assert>
      <sch:assert id="a-7477" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:7477).</sch:assert>
      <sch:assert id="a-7485" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7485).</sch:assert>
      <sch:assert id="a-7498" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:7498).</sch:assert>
      <sch:assert id="a-7504" test="((../cda:statusCode[@code='active']) and (cda:low)) or not(../cda:statusCode[@code='active'])">If statusCode/@code="active" Active, then effectiveTime SHALL contain [1..1] low (CONF:7504).</sch:assert>
      <sch:assert id="a-10085" test="count(cda:statusCode[@code='completed'])=0 or (count(cda:statusCode[@code='completed'])=1 and count(cda:effective[cda:high])=1)">If statusCode/@code="completed" Completed, then effectiveTime SHALL contain [1..1] high (CONF:10085).</sch:assert>
      <sch:assert id="a-14925" test="count(cda:entryRelationship[@typeCode='SUBJ'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.7'])=1]) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:7509) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" Has subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7915). SHALL contain exactly one [1..1] Allergy - Intolerance Observation (templateId:2.16.840.1.113883.10.20.22.4.7) (CONF:14925).</sch:assert>
      <sch:assert id="a-19086" test="cda:statusCode[@code and @code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.19']/voc:code/@value]">This statusCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet ProblemAct statusCode 2.16.840.1.113883.11.20.9.19 STATIC 2011-09-09 (CONF:19086).</sch:assert>
      <sch:assert id="a-19158" test="cda:code[@code='48765-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="48765-2" Allergies, adverse reactions, alerts (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:19158).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.30-errors" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.30']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.30-errors-abstract" />
      <sch:assert id="a-10489" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.30'])=1">SHALL contain exactly one [1..1] templateId (CONF:7471) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.30" (CONF:10489).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.24.3.90-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.24.3.90-errors-abstract" abstract="true">
      <sch:assert id="a-16303" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:16303).</sch:assert>
      <sch:assert id="a-16304" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:16304).</sch:assert>
      <sch:assert id="a-16307" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:16307).</sch:assert>
      <sch:assert id="a-16308" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:16308).</sch:assert>
      <sch:assert id="a-16309" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:16309).</sch:assert>
      <sch:assert id="a-16312" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:16312).</sch:assert>
      <sch:assert id="a-16317" test="cda:value[@code]">This value SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Allergy/Adverse Event Type Value Set 2.16.840.1.113883.3.88.12.3221.6.2 DYNAMIC (CONF:16317).</sch:assert>
      <sch:assert id="a-16319" test="not(cda:participant) or cda:participant[@typeCode='CSM']">The participant, if present, SHALL contain exactly one [1..1] @typeCode="CSM" Consumable (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:16319).</sch:assert>
      <sch:assert id="a-16320" test="not(cda:participant) or cda:participant[count(cda:participantRole)=1]">The participant, if present, SHALL contain exactly one [1..1] participantRole (CONF:16320).</sch:assert>
      <sch:assert id="a-16321" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[@classCode='MANU']">This participantRole SHALL contain exactly one [1..1] @classCode="MANU" Manufactured Product (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:16321).</sch:assert>
      <sch:assert id="a-16322" test="not(cda:participant/cda:participantRole) or cda:participant/cda:participantRole[count(cda:playingEntity)=1]">This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:16322).</sch:assert>
      <sch:assert id="a-16323" test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[@classCode='MMAT']">This playingEntity SHALL contain exactly one [1..1] @classCode="MMAT" Manufactured Material (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:16323).</sch:assert>
      <sch:assert id="a-16324" test="not(cda:participant/cda:participantRole/cda:playingEntity) or cda:participant/cda:participantRole/cda:playingEntity[count(cda:code)=1]">This playingEntity SHALL contain exactly one [1..1] code (CONF:16324).</sch:assert>
      <sch:assert id="a-16329" test="count(cda:participant/cda:participantRole/cda:playingEntity/cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:participant/cda:participantRole/cda:playingEntity/cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:16329).</sch:assert>
      <sch:assert id="a-16336" test="count(cda:entryRelationship[@inversionInd='true'][@typeCode='SUBJ'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.28'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:16333) such that it SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:16334). SHALL contain exactly one [1..1] @typeCode="SUBJ" Has subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:16335). SHALL contain exactly one [1..1] Allergy Status Observation (templateId:2.16.840.1.113883.10.20.22.4.28) (CONF:16336).</sch:assert>
      <sch:assert id="a-16340" test="not(cda:entryRelationship[@inversionInd='true'][@typeCode='MFST'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.9'])=1]) or cda:entryRelationship[@inversionInd='true'][@typeCode='MFST'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.9'])=1]">SHOULD contain zero or more [0..*] entryRelationship (CONF:16337) such that it SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:16338). SHALL contain exactly one [1..1] @typeCode="MFST" Is Manifestation of (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:16339). SHALL contain exactly one [1..1] Reaction Observation (templateId:2.16.840.1.113883.10.20.22.4.9) (CONF:16340).</sch:assert>
      <sch:assert id="a-16344" test="count(cda:entryRelationship[@typeCode='SUBJ'][@inversionInd='true'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.8'])=1])=1">SHALL contain exactly one [1..1] entryRelationship (CONF:16341) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" Has Subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:16342). SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:16343). SHALL contain exactly one [1..1] Severity Observation (templateId:2.16.840.1.113883.10.20.22.4.8) (CONF:16344).</sch:assert>
      <sch:assert id="a-16345" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:16345).</sch:assert>
      <sch:assert id="a-16346" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:16346).</sch:assert>
      <sch:assert id="a-26354" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:26354).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.24.3.90-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.90']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.24.3.90-errors-abstract" />
      <sch:assert id="a-16306" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.24.3.90'])=1">SHALL contain exactly one [1..1] templateId (CONF:16305) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.24.3.90" (CONF:16306).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.7-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.7-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.24.3.90-errors-abstract" />
      <sch:assert id="a-7379" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7379).</sch:assert>
      <sch:assert id="a-7380" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7380).</sch:assert>
      <sch:assert id="a-7382" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:7382).</sch:assert>
      <sch:assert id="a-7387" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:7387).</sch:assert>
      <sch:assert id="a-7390" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:7390).</sch:assert>
      <sch:assert id="a-7404" test="count(cda:participant[@typeCode='CSM'][count(cda:participantRole)=1]) &lt; 2">SHOULD contain zero or one [0..1] participant (CONF:7402) such that it SHALL contain exactly one [1..1] @typeCode="CSM" Consumable (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:7403). SHALL contain exactly one [1..1] participantRole (CONF:7404).</sch:assert>
      <sch:assert id="a-7405" test="not(cda:participant[@typeCode='CSM']/cda:participantRole) or cda:participant[@typeCode='CSM']/cda:participantRole[@classCode='MANU']">This participantRole SHALL contain exactly one [1..1] @classCode="MANU" Manufactured Product (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:7405).</sch:assert>
      <sch:assert id="a-7406" test="not(cda:participant[@typeCode='CSM']/cda:participantRole) or cda:participant[@typeCode='CSM']/cda:participantRole[count(cda:playingEntity)=1]">This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:7406).</sch:assert>
      <sch:assert id="a-7407" test="not(cda:participant[@typeCode='CSM']/cda:participantRole/cda:playingEntity) or cda:participant[@typeCode='CSM']/cda:participantRole/cda:playingEntity[@classCode='MMAT']">This playingEntity SHALL contain exactly one [1..1] @classCode="MMAT" Manufactured Material (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:7407).</sch:assert>
      <sch:assert id="a-7419" test="not(cda:participant[@typeCode='CSM']/cda:participantRole/cda:playingEntity) or cda:participant[@typeCode='CSM']/cda:participantRole/cda:playingEntity[count(cda:code)=1]">This playingEntity SHALL contain exactly one [1..1] code (CONF:7419).</sch:assert>
      <sch:assert id="a-9139" test="cda:value[@code]">This value SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Allergy/Adverse Event Type Value Set 2.16.840.1.113883.3.88.12.3221.6.2 DYNAMIC (CONF:9139).</sch:assert>
      <sch:assert id="a-15947" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15947).</sch:assert>
      <sch:assert id="a-15948" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:15948).</sch:assert>
      <sch:assert id="a-15951" test="count(cda:value/cda:originalText/cda:reference[@value])=0 or starts-with(cda:value/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15951).</sch:assert>
      <sch:assert id="a-15953" test="count(cda:participant/cda:participantRole/cda:playingEntity/cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:participant/cda:participantRole/cda:playingEntity/cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15953).</sch:assert>
      <sch:assert id="a-15954" test="count(cda:entryRelationship[@inversionInd='true'][@typeCode='SUBJ'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.28'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:7440) such that it SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:7446). SHALL contain exactly one [1..1] @typeCode="SUBJ" Has subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7906). SHALL contain exactly one [1..1] Allergy Status Observation (templateId:2.16.840.1.113883.10.20.22.4.28) (CONF:15954).</sch:assert>
      <sch:assert id="a-15955" test="not(cda:entryRelationship[@inversionInd='true'][@typeCode='MFST'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.9'])=1]) or cda:entryRelationship[@inversionInd='true'][@typeCode='MFST'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.9'])=1]">SHOULD contain zero or more [0..*] entryRelationship (CONF:7447) such that it SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:7449). SHALL contain exactly one [1..1] @typeCode="MFST" Is Manifestation of (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7907). SHALL contain exactly one [1..1] Reaction Observation (templateId:2.16.840.1.113883.10.20.22.4.9) (CONF:15955).</sch:assert>
      <sch:assert id="a-15956" test="count(cda:entryRelationship[@typeCode='SUBJ'][@inversionInd='true'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.8'])=1]) &lt; 2">SHOULD contain zero or one [0..1] entryRelationship (CONF:9961) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" Has Subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:9962). SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:9964). SHALL contain exactly one [1..1] Severity Observation (templateId:2.16.840.1.113883.10.20.22.4.8) (CONF:15956).</sch:assert>
      <sch:assert id="a-19084" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:19084).</sch:assert>
      <sch:assert id="a-19085" test="cda:statusCode/@code='completed'">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19085).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.7-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.7']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.7-errors-abstract" />
      <sch:assert id="a-10488" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.7'])=1">SHALL contain exactly one [1..1] templateId (CONF:7381) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.7" (CONF:10488).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.28-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.28-errors-abstract" abstract="true">
      <sch:assert id="a-7318" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7318).</sch:assert>
      <sch:assert id="a-7319" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7319).</sch:assert>
      <sch:assert id="a-7320" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:7320).</sch:assert>
      <sch:assert id="a-7321" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7321).</sch:assert>
      <sch:assert id="a-7322" test="count(cda:value[@xsi:type='CE'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CE", where the @code SHALL be selected from ValueSet Problem Status Value Set 2.16.840.1.113883.3.88.12.80.68 DYNAMIC (CONF:7322).</sch:assert>
      <sch:assert id="a-19087" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19087).</sch:assert>
      <sch:assert id="a-19131" test="cda:code[@code='33999-4' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="33999-4" Status (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:19131).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.28-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.28']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.28-errors-abstract" />
      <sch:assert id="a-10490" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.28'])=1">SHALL contain exactly one [1..1] templateId (CONF:7317) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.28" (CONF:10490).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.5-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.5-errors-abstract" abstract="true">
      <sch:assert id="a-7879" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7879).</sch:assert>
      <sch:assert id="a-7880" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7880).</sch:assert>
      <sch:assert id="a-15407" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15407).</sch:assert>
      <sch:assert id="a-15408" test="cda:code[@code='11450-4' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="11450-4" Problem List (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15408).</sch:assert>
      <sch:assert id="a-15505" test="not(cda:entry) or cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.3'])=1]">The entry, if present, SHALL contain exactly one [1..1] Problem Concern Act (Condition) (templateId:2.16.840.1.113883.10.20.22.4.3) (CONF:15505).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.5-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.5']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.5-errors-abstract" />
      <sch:assert id="a-10440" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.5'])=1">SHALL contain exactly one [1..1] templateId (CONF:7877) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.5" (CONF:10440).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.5.1-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.5.1-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.5-errors-abstract" />
      <sch:assert id="a-9181" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:9181).</sch:assert>
      <sch:assert id="a-9182" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:9182).</sch:assert>
      <sch:assert id="a-9183" test="count(cda:entry) &gt; 0">SHALL contain at least one [1..*] entry (CONF:9183).</sch:assert>
      <sch:assert id="a-15409" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15409).</sch:assert>
      <sch:assert id="a-15410" test="cda:code[@code='11450-4' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="11450-4" Problem List (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15410).</sch:assert>
      <sch:assert id="a-15506" test="cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.3'])=1]">Such entries SHALL contain exactly one [1..1] Problem Concern Act (Condition) (templateId:2.16.840.1.113883.10.20.22.4.3) (CONF:15506).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.5.1-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.5.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.5.1-errors-abstract" />
      <sch:assert id="a-10441" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.5.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:9179) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.5.1" (CONF:10441).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.3-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.3-errors-abstract" abstract="true">
      <sch:assert id="a-9024" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" Act (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:9024).</sch:assert>
      <sch:assert id="a-9025" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:9025).</sch:assert>
      <sch:assert id="a-9026" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:9026).</sch:assert>
      <sch:assert id="a-9027" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:9027).</sch:assert>
      <sch:assert id="a-9029" test="count(cda:statusCode[@code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.19']/voc:code/@value])=1">SHALL contain exactly one [1..1] statusCode, which SHALL be selected from ValueSet ProblemAct statusCode 2.16.840.1.113883.11.20.9.19 STATIC 2011-09-09 (CONF:9029).</sch:assert>
      <sch:assert id="a-9030" test="count(cda:effectiveTime)=1">The effectiveTime element records the starting and ending times during which the concern was active on the Problem List.
SHALL contain exactly one [1..1] effectiveTime (CONF:9030).</sch:assert>
      <sch:assert id="a-9032" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:9032).</sch:assert>
      <sch:assert id="a-15980" test="count(cda:entryRelationship[@typeCode='SUBJ'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4'])=1]) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:9034) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" Has subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:9035). SHALL contain exactly one [1..1] Problem Observation (templateId:2.16.840.1.113883.10.20.22.4.4) (CONF:15980).</sch:assert>
      <sch:assert id="a-19184" test="cda:code[@code='CONC' and @codeSystem='2.16.840.1.113883.5.6']">This code SHALL contain exactly one [1..1] @code="CONC" Concern (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:19184).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.3-errors" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.3']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.3-errors-abstract" />
      <sch:assert id="a-16773" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.3'])=1">SHALL contain exactly one [1..1] templateId (CONF:16772) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.3" (CONF:16773).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.4-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.4-errors-abstract" abstract="true">
      <sch:assert id="a-9041" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:9041).</sch:assert>
      <sch:assert id="a-9042" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:9042).</sch:assert>
      <sch:assert id="a-9043" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:9043).</sch:assert>
      <sch:assert id="a-9045" test="count(cda:code[@code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.3.88.12.3221.7.2']/voc:code/@value])=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Problem Type 2.16.840.1.113883.3.88.12.3221.7.2 STATIC 2012-06-01 (CONF:9045).</sch:assert>
      <sch:assert id="a-9049" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:9049).</sch:assert>
      <sch:assert id="a-9058" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHOULD be selected from ValueSet Problem Value Set 2.16.840.1.113883.3.88.12.3221.7.4 DYNAMIC (CONF:9058).</sch:assert>
      <sch:assert id="a-15588" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHALL contain exactly one [1..1] @value (CONF:15588).</sch:assert>
      <sch:assert id="a-15589" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15589).</sch:assert>
      <sch:assert id="a-15590" test="count(cda:entryRelationship[@typeCode='SUBJ'][@inversionInd='true'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.31'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:9059) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" Has subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:9060). SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:9069). SHALL contain exactly one [1..1] Age Observation (templateId:2.16.840.1.113883.10.20.22.4.31) (CONF:15590).</sch:assert>
      <sch:assert id="a-15591" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.6'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:9063) such that it SHALL contain exactly one [1..1] @typeCode="REFR" Refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:9068). SHALL contain exactly one [1..1] Problem Status (templateId:2.16.840.1.113883.10.20.22.4.6) (CONF:15591).</sch:assert>
      <sch:assert id="a-15592" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.5'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:9067) such that it SHALL contain exactly one [1..1] @typeCode="REFR" Refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:9064). SHALL contain exactly one [1..1] Health Status Observation (templateId:2.16.840.1.113883.10.20.22.4.5) (CONF:15592).</sch:assert>
      <sch:assert id="a-15603" test="not(cda:effectiveTime) or cda:effectiveTime[count(cda:low)=1]">The effectiveTime, if present, SHALL contain exactly one [1..1] low (CONF:15603).</sch:assert>
      <sch:assert id="a-19112" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19112).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.4-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-14927" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:14926) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.4" (CONF:14927).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.6-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.6-errors-abstract" abstract="true">
      <sch:assert id="a-7357" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7357).</sch:assert>
      <sch:assert id="a-7358" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7358).</sch:assert>
      <sch:assert id="a-7364" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:7364).</sch:assert>
      <sch:assert id="a-7365" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet Problem Status Value Set 2.16.840.1.113883.3.88.12.80.68 DYNAMIC (CONF:7365).</sch:assert>
      <sch:assert id="a-15594" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHALL contain exactly one [1..1] @value (CONF:15594).</sch:assert>
      <sch:assert id="a-15595" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15595).</sch:assert>
      <sch:assert id="a-19113" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19113).</sch:assert>
      <sch:assert id="a-19162" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19162).</sch:assert>
      <sch:assert id="a-19163" test="cda:code[@code='33999-4' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="33999-4" Status (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:19163).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.6-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.6']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.6-errors-abstract" />
      <sch:assert id="a-10518" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.6'])=1">SHALL contain exactly one [1..1] templateId (CONF:7359) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.6" (CONF:10518).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.31-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.31-errors-abstract" abstract="true">
      <sch:assert id="a-7613" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7613).</sch:assert>
      <sch:assert id="a-7614" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7614).</sch:assert>
      <sch:assert id="a-7615" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:7615).</sch:assert>
      <sch:assert id="a-7617" test="count(cda:value[@xsi:type='PQ'])=1">SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:7617).</sch:assert>
      <sch:assert id="a-7618" test="cda:value[@unit]">This value SHALL contain exactly one [1..1] @unit, which SHALL be selected from ValueSet AgePQ_UCUM 2.16.840.1.113883.11.20.9.21 DYNAMIC (CONF:7618).</sch:assert>
      <sch:assert id="a-15965" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:15965).</sch:assert>
      <sch:assert id="a-15966" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:15966).</sch:assert>
      <sch:assert id="a-16776" test="cda:code[@code='445518008' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="445518008" Age At Onset (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:16776).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.31-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.31']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.31-errors-abstract" />
      <sch:assert id="a-10487" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.31'])=1">SHALL contain exactly one [1..1] templateId (CONF:7899) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.31" (CONF:10487).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.5-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.5-errors-abstract" abstract="true">
      <sch:assert id="a-9057" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:9057).</sch:assert>
      <sch:assert id="a-9072" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:9072).</sch:assert>
      <sch:assert id="a-9074" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:9074).</sch:assert>
      <sch:assert id="a-9075" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet HealthStatus 2.16.840.1.113883.1.11.20.12 DYNAMIC (CONF:9075).</sch:assert>
      <sch:assert id="a-15531" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15531).</sch:assert>
      <sch:assert id="a-19103" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19103).</sch:assert>
      <sch:assert id="a-19143" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19143).</sch:assert>
      <sch:assert id="a-19144" test="cda:code[@code='11323-3' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="11323-3" Health status (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:19144).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.5-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.5']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.5-errors-abstract" />
      <sch:assert id="a-16757" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.5'])=1">SHALL contain exactly one [1..1] templateId (CONF:16756) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.5" (CONF:16757).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.1-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.1-errors-abstract" abstract="true">
      <sch:assert id="a-7793" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7793).</sch:assert>
      <sch:assert id="a-7794" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7794).</sch:assert>
      <sch:assert id="a-15385" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15385).</sch:assert>
      <sch:assert id="a-15386" test="cda:code[@code='10160-0' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="10160-0" History of medication use (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15386).</sch:assert>
      <sch:assert id="a-15984" test="not(cda:entry[@nullFlavor][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16'])=1]) or cda:entry[@nullFlavor][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16'])=1]">SHOULD contain zero or more [0..*] entry (CONF:7795) such that it If medication use is unknown, the appropriate nullFlavor MAY be present (see unknown information in Section 1) (CONF:10076). SHALL contain exactly one [1..1] Medication Activity (templateId:2.16.840.1.113883.10.20.22.4.16) (CONF:15984).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.1-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.1-errors-abstract" />
      <sch:assert id="a-10432" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:7791) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.1" (CONF:10432).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.1.1-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.1.1-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.1-errors-abstract" />
      <sch:assert id="a-7570" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7570).</sch:assert>
      <sch:assert id="a-7571" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7571).</sch:assert>
      <sch:assert id="a-15387" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15387).</sch:assert>
      <sch:assert id="a-15388" test="cda:code[@code='10160-0' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="10160-0" History of medication use (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15388).</sch:assert>
      <sch:assert id="a-15500" test="count(cda:entry[@nullFlavor][count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16'])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:7572) such that it If medication use is unknown, the appropriate nullFlavor MAY be present (see unknown information in Section 1) (CONF:10077). SHALL contain exactly one [1..1] Medication Activity (templateId:2.16.840.1.113883.10.20.22.4.16) (CONF:15500).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.1.1-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.1.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.1.1-errors-abstract" />
      <sch:assert id="a-10433" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.1.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:7568) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.1.1" (CONF:10433).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.8-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.8-errors-abstract" abstract="true">
      <sch:assert id="a-7713" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7713).</sch:assert>
      <sch:assert id="a-14757" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14757).</sch:assert>
      <sch:assert id="a-14758" test="cda:code[@code='51848-0' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="51848-0" Assessments (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:14758).</sch:assert>
      <sch:assert id="a-16774" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:16774).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.8-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.8']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.8-errors-abstract" />
      <sch:assert id="a-10382" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.8'])=1">SHALL contain exactly one [1..1] templateId (CONF:7711) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.8" (CONF:10382).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.10-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.10-errors-abstract" abstract="true">
      <sch:assert id="a-7725" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7725).</sch:assert>
      <sch:assert id="a-14749" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14749).</sch:assert>
      <sch:assert id="a-14750" test="cda:code[@code='18776-5' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="18776-5" Plan of Care (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:14750).</sch:assert>
      <sch:assert id="a-14751" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.39'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.39'])=1]">MAY contain zero or more [0..*] entry (CONF:7726) such that it SHALL contain exactly one [1..1] Plan of Care Activity Act (templateId:2.16.840.1.113883.10.20.22.4.39) (CONF:14751).</sch:assert>
      <sch:assert id="a-14752" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40'])=1]">MAY contain zero or more [0..*] entry (CONF:8805) such that it SHALL contain exactly one [1..1] Plan of Care Activity Encounter (templateId:2.16.840.1.113883.10.20.22.4.40) (CONF:14752).</sch:assert>
      <sch:assert id="a-14753" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.44'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.44'])=1]">MAY contain zero or more [0..*] entry (CONF:8807) such that it SHALL contain exactly one [1..1] Plan of Care Activity Observation (templateId:2.16.840.1.113883.10.20.22.4.44) (CONF:14753).</sch:assert>
      <sch:assert id="a-14754" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.41'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.41'])=1]">MAY contain zero or more [0..*] entry (CONF:8809) such that it SHALL contain exactly one [1..1] Plan of Care Activity Procedure (templateId:2.16.840.1.113883.10.20.22.4.41) (CONF:14754).</sch:assert>
      <sch:assert id="a-14755" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.42'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.42'])=1]">MAY contain zero or more [0..*] entry (CONF:8811) such that it SHALL contain exactly one [1..1] Plan of Care Activity Substance Administration (templateId:2.16.840.1.113883.10.20.22.4.42) (CONF:14755).</sch:assert>
      <sch:assert id="a-14756" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.43'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.43'])=1]">MAY contain zero or more [0..*] entry (CONF:8813) such that it SHALL contain exactly one [1..1] Plan of Care Activity Supply (templateId:2.16.840.1.113883.10.20.22.4.43) (CONF:14756).</sch:assert>
      <sch:assert id="a-16751" test="not(cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.20'])=1]) or cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.20'])=1]">MAY contain zero or more [0..*] entry (CONF:14695) such that it SHALL contain exactly one [1..1] Instructions (templateId:2.16.840.1.113883.10.20.22.4.20) (CONF:16751).</sch:assert>
      <sch:assert id="a-16986" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:16986).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.10-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.10']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.10-errors-abstract" />
      <sch:assert id="a-10435" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.10'])=1">SHALL contain exactly one [1..1] templateId (CONF:7723) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.10" (CONF:10435).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.39-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.39-errors-abstract" abstract="true">
      <sch:assert id="a-8538" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8538).</sch:assert>
      <sch:assert id="a-8539" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.23']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet Plan of Care moodCode (Act/Encounter/Procedure) 2.16.840.1.113883.11.20.9.23 STATIC 2011-09-30 (CONF:8539).</sch:assert>
      <sch:assert id="a-8546" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8546).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.39-errors" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.39']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.39-errors-abstract" />
      <sch:assert id="a-10510" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.39'])=1">SHALL contain exactly one [1..1] templateId (CONF:8544) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.39" (CONF:10510).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.40-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.40-errors-abstract" abstract="true">
      <sch:assert id="a-8564" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8564).</sch:assert>
      <sch:assert id="a-8565" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.23']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet Plan of Care moodCode (Act/Encounter/Procedure) 2.16.840.1.113883.11.20.9.23 STATIC 2011-09-30 (CONF:8565).</sch:assert>
      <sch:assert id="a-8567" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8567).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.40-errors" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.40-errors-abstract" />
      <sch:assert id="a-10511" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.40'])=1">SHALL contain exactly one [1..1] templateId (CONF:8566) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.40" (CONF:10511).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.41-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.41-errors-abstract" abstract="true">
      <sch:assert id="a-8568" test="@classCode='PROC'">SHALL contain exactly one [1..1] @classCode="PROC" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8568).</sch:assert>
      <sch:assert id="a-8569" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.23']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet Plan of Care moodCode (Act/Encounter/Procedure) 2.16.840.1.113883.11.20.9.23 STATIC 2011-09-30 (CONF:8569).</sch:assert>
      <sch:assert id="a-8571" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8571).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.41-errors" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.41']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.41-errors-abstract" />
      <sch:assert id="a-10513" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.41'])=1">SHALL contain exactly one [1..1] templateId (CONF:8570) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.41" (CONF:10513).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.42-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.42-errors-abstract" abstract="true">
      <sch:assert id="a-8572" test="@classCode='SBADM'">SHALL contain exactly one [1..1] @classCode="SBADM" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8572).</sch:assert>
      <sch:assert id="a-8573" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.24']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet Plan of Care moodCode (SubstanceAdministration/Supply) 2.16.840.1.113883.11.20.9.24 STATIC 2011-09-30 (CONF:8573).</sch:assert>
      <sch:assert id="a-8575" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8575).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.42-errors" context="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.42']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.42-errors-abstract" />
      <sch:assert id="a-10514" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.42'])=1">SHALL contain exactly one [1..1] templateId (CONF:8574) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.42" (CONF:10514).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.43-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.43-errors-abstract" abstract="true">
      <sch:assert id="a-8577" test="@classCode='SPLY'">SHALL contain exactly one [1..1] @classCode="SPLY" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8577).</sch:assert>
      <sch:assert id="a-8578" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.24']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet Plan of Care moodCode (SubstanceAdministration/Supply) 2.16.840.1.113883.11.20.9.24 STATIC 2011-09-30 (CONF:8578).</sch:assert>
      <sch:assert id="a-8580" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8580).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.43-errors" context="cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.43']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.43-errors-abstract" />
      <sch:assert id="a-10515" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.43'])=1">SHALL contain exactly one [1..1] templateId (CONF:8579) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.43" (CONF:10515).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.44-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.44-errors-abstract" abstract="true">
      <sch:assert id="a-8581" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8581).</sch:assert>
      <sch:assert id="a-8582" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.25']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet Plan of Care moodCode (Observation) 2.16.840.1.113883.11.20.9.25 STATIC 2011-09-30 (CONF:8582).</sch:assert>
      <sch:assert id="a-8584" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8584).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.44-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.44']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.44-errors-abstract" />
      <sch:assert id="a-10512" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.44'])=1">SHALL contain exactly one [1..1] templateId (CONF:8583) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.44" (CONF:10512).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.20-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.20-errors-abstract" abstract="true">
      <sch:assert id="a-7830" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7830).</sch:assert>
      <sch:assert id="a-7831" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7831).</sch:assert>
      <sch:assert id="a-15474" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15474).</sch:assert>
      <sch:assert id="a-15475" test="cda:code[@code='11348-0' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="11348-0" History of Past Illness (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15475).</sch:assert>
      <sch:assert id="a-15476" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4'])=1]">MAY contain zero or more [0..*] entry (CONF:8791) such that it SHALL contain exactly one [1..1] Problem Observation (templateId:2.16.840.1.113883.10.20.22.4.4) (CONF:15476).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.20-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.20']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.20-errors-abstract" />
      <sch:assert id="a-10390" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.20'])=1">SHALL contain exactly one [1..1] templateId (CONF:7828) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.20" (CONF:10390).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.13-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.13-errors-abstract" abstract="true">
      <sch:assert id="a-7842" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7842).</sch:assert>
      <sch:assert id="a-7843" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7843).</sch:assert>
      <sch:assert id="a-15449" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15449).</sch:assert>
      <sch:assert id="a-15450" test="cda:code[@code='46239-0' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="46239-0" Chief Complaint and Reason for Visit (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15450).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.13-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.13']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.13-errors-abstract" />
      <sch:assert id="a-10383" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.13'])=1">SHALL contain exactly one [1..1] templateId (CONF:7840) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.13" (CONF:10383).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-1.3.6.1.4.1.19376.1.5.3.1.3.4-errors">
    <sch:rule id="r-1.3.6.1.4.1.19376.1.5.3.1.3.4-errors-abstract" abstract="true">
      <sch:assert id="a-7850" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7850).</sch:assert>
      <sch:assert id="a-7851" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7851).</sch:assert>
      <sch:assert id="a-15477" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15477).</sch:assert>
      <sch:assert id="a-15478" test="cda:code[@code='10164-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="10164-2" (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15478).</sch:assert>
    </sch:rule>
    <sch:rule id="r-1.3.6.1.4.1.19376.1.5.3.1.3.4-errors" context="cda:section[cda:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.3.4']">
      <sch:extends rule="r-1.3.6.1.4.1.19376.1.5.3.1.3.4-errors-abstract" />
      <sch:assert id="a-10458" test="count(cda:templateId[@root='1.3.6.1.4.1.19376.1.5.3.1.3.4'])=1">SHALL contain exactly one [1..1] templateId (CONF:7848) such that it SHALL contain exactly one [1..1] @root="1.3.6.1.4.1.19376.1.5.3.1.3.4" (CONF:10458).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.14-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.14-errors-abstract" abstract="true">
      <sch:assert id="a-7922" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7922).</sch:assert>
      <sch:assert id="a-7923" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7923).</sch:assert>
      <sch:assert id="a-14415" test="not(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.66'])=1]) or cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.66'])=1]">MAY contain zero or more [0..*] entry (CONF:14414) such that it SHALL contain exactly one [1..1] Functional Status Result Organizer (templateId:2.16.840.1.113883.10.20.22.4.66) (CONF:14415).</sch:assert>
      <sch:assert id="a-14417" test="not(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.75'])=1]) or cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.75'])=1]">MAY contain zero or more [0..*] entry (CONF:14416) such that it SHALL contain exactly one [1..1] Cognitive Status Result Organizer (templateId:2.16.840.1.113883.10.20.22.4.75) (CONF:14417).</sch:assert>
      <sch:assert id="a-14419" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.67'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.67'])=1]">MAY contain zero or more [0..*] entry (CONF:14418) such that it SHALL contain exactly one [1..1] Functional Status Result Observation (templateId:2.16.840.1.113883.10.20.22.4.67) (CONF:14419).</sch:assert>
      <sch:assert id="a-14421" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.74'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.74'])=1]">MAY contain zero or more [0..*] entry (CONF:14420) such that it SHALL contain exactly one [1..1] Cognitive Status Result Observation (templateId:2.16.840.1.113883.10.20.22.4.74) (CONF:14421).</sch:assert>
      <sch:assert id="a-14423" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.68'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.68'])=1]">MAY contain zero or more [0..*] entry (CONF:14422) such that it SHALL contain exactly one [1..1] Functional Status Problem Observation (templateId:2.16.840.1.113883.10.20.22.4.68) (CONF:14423).</sch:assert>
      <sch:assert id="a-14425" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.73'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.73'])=1]">MAY contain zero or more [0..*] entry (CONF:14424) such that it SHALL contain exactly one [1..1] Cognitive Status Problem Observation (templateId:2.16.840.1.113883.10.20.22.4.73) (CONF:14425).</sch:assert>
      <sch:assert id="a-14427" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72'])=1]">MAY contain zero or more [0..*] entry (CONF:14426) such that it SHALL contain exactly one [1..1] Caregiver Characteristics (templateId:2.16.840.1.113883.10.20.22.4.72) (CONF:14427).</sch:assert>
      <sch:assert id="a-14578" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14578).</sch:assert>
      <sch:assert id="a-14579" test="cda:code[@code='47420-5' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="47420-5" Functional Status (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:14579).</sch:assert>
      <sch:assert id="a-14581" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69'])=1]">MAY contain zero or more [0..*] entry (CONF:14580) such that it SHALL contain exactly one [1..1] Assessment Scale Observation (templateId:2.16.840.1.113883.10.20.22.4.69) (CONF:14581).</sch:assert>
      <sch:assert id="a-14583" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]">MAY contain zero or more [0..*] entry (CONF:14582) such that it SHALL contain exactly one [1..1] Non-Medicinal Supply Activity (templateId:2.16.840.1.113883.10.20.22.4.50) (CONF:14583).</sch:assert>
      <sch:assert id="a-16778" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.70'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.70'])=1]">MAY contain zero or more [0..*] entry (CONF:16777) such that it SHALL contain exactly one [1..1] Pressure Ulcer Observation  (templateId:2.16.840.1.113883.10.20.22.4.70) (CONF:16778).</sch:assert>
      <sch:assert id="a-16780" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.76'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.76'])=1]">MAY contain zero or more [0..*] entry (CONF:16779) such that it SHALL contain exactly one [1..1] Number of Pressure Ulcers Observation (templateId:2.16.840.1.113883.10.20.22.4.76) (CONF:16780).</sch:assert>
      <sch:assert id="a-16782" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.77'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.77'])=1]">MAY contain zero or more [0..*] entry (CONF:16781) such that it SHALL contain exactly one [1..1] Highest Pressure Ulcer Stage (templateId:2.16.840.1.113883.10.20.22.4.77) (CONF:16782).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.14-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.14']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.14-errors-abstract" />
      <sch:assert id="a-10389" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.14'])=1">SHALL contain exactly one [1..1] templateId (CONF:7920) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.14" (CONF:10389).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.50-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.50-errors-abstract" abstract="true">
      <sch:assert id="a-8745" test="@classCode='SPLY'">SHALL contain exactly one [1..1] @classCode="SPLY" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8745).</sch:assert>
      <sch:assert id="a-8746" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt 2.16.840.1.113883.11.20.9.18 STATIC 2011-04-03 (CONF:8746).</sch:assert>
      <sch:assert id="a-8748" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8748).</sch:assert>
      <sch:assert id="a-8749" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:8749).</sch:assert>
      <sch:assert id="a-15900" test="count(cda:participant[@typeCode='PRD'][count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.37'])=1]) &lt; 2">MAY contain zero or one [0..1] participant (CONF:8752) such that it SHALL contain exactly one [1..1] @typeCode="PRD" Product (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8754). SHALL contain exactly one [1..1] Product Instance (templateId:2.16.840.1.113883.10.20.22.4.37) (CONF:15900).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.50-errors" context="cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.50-errors-abstract" />
      <sch:assert id="a-10509" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.50'])=1">SHALL contain exactly one [1..1] templateId (CONF:8747) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.50" (CONF:10509).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.67-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.67-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-13897" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:13895) such that it SHALL contain exactly one [1..1] @typeCode="REFR" refers to (CONF:14597). SHALL contain exactly one [1..1] Caregiver Characteristics (templateId:2.16.840.1.113883.10.20.22.4.72) (CONF:13897).</sch:assert>
      <sch:assert id="a-13905" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:13905).</sch:assert>
      <sch:assert id="a-13906" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:13906).</sch:assert>
      <sch:assert id="a-13907" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:13907).</sch:assert>
      <sch:assert id="a-13908" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:13908).</sch:assert>
      <sch:assert id="a-13928" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:13928).</sch:assert>
      <sch:assert id="a-13929" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:13929).</sch:assert>
      <sch:assert id="a-13930" test="count(cda:effectiveTime)=1">Represents clinically effective time of the measurement, which may be when the measurement was performed (e.g., a BP measurement), or may be when sample was taken (and measured some time afterwards) 
SHALL contain exactly one [1..1] effectiveTime (CONF:13930).</sch:assert>
      <sch:assert id="a-13932" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:13932).</sch:assert>
      <sch:assert id="a-13938" test="not(cda:referenceRange) or cda:referenceRange[count(cda:observationRange)=1]">The referenceRange, if present, SHALL contain exactly one [1..1] observationRange (CONF:13938).</sch:assert>
      <sch:assert id="a-13939" test="not(cda:referenceRange/cda:observationRange/cda:code)">This observationRange SHALL NOT contain [0..0] code (CONF:13939).</sch:assert>
      <sch:assert id="a-14218" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:13892) such that it SHALL contain exactly one [1..1] @typeCode="REFR" refers to (CONF:14596). SHALL contain exactly one [1..1] Non-Medicinal Supply Activity (templateId:2.16.840.1.113883.10.20.22.4.50) (CONF:14218).</sch:assert>
      <sch:assert id="a-14466" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:14465) such that it SHALL contain exactly one [1..1] @typeCode="COMP" has component (CONF:14598). SHALL contain exactly one [1..1] Assessment Scale Observation (templateId:2.16.840.1.113883.10.20.22.4.69) (CONF:14466).</sch:assert>
      <sch:assert id="a-19101" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19101).</sch:assert>
      <sch:assert id="a-26448" test="cda:code[@code and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code, which SHOULD be selected from CodeSystem LOINC (2.16.840.1.113883.6.1) STATIC (CONF:26448).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.67-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.67']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.67-errors-abstract" />
      <sch:assert id="a-13890" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.67'])=1">SHALL contain exactly one [1..1] templateId (CONF:13889) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.67" (CONF:13890).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.72-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.72-errors-abstract" abstract="true">
      <sch:assert id="a-14219" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14219).</sch:assert>
      <sch:assert id="a-14220" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14220).</sch:assert>
      <sch:assert id="a-14223" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:14223).</sch:assert>
      <sch:assert id="a-14227" test="count(cda:participant) &gt; 0">SHALL contain at least one [1..*] participant (CONF:14227).</sch:assert>
      <sch:assert id="a-14228" test="cda:participant[count(cda:participantRole)=1]">Such participants SHALL contain exactly one [1..1] participantRole (CONF:14228).</sch:assert>
      <sch:assert id="a-14229" test="cda:participant/cda:participantRole[@classCode='IND']">This participantRole SHALL contain exactly one [1..1] @classCode="IND" (CONF:14229).</sch:assert>
      <sch:assert id="a-14230" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14230).</sch:assert>
      <sch:assert id="a-14233" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:14233).</sch:assert>
      <sch:assert id="a-14599" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:14599).</sch:assert>
      <sch:assert id="a-14600" test="cda:value[@codeSystem='2.16.840.1.113883.6.1' or @codeSystem='2.16.840.1.113883.6.96']">Where the @code SHALL be selected from LOINC (codeSystem: 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96) (CONF:14600).</sch:assert>
      <sch:assert id="a-14831" test="not(cda:participant/cda:time) or cda:participant/cda:time[count(cda:low)=1]">The time, if present, SHALL contain exactly one [1..1] low (CONF:14831).</sch:assert>
      <sch:assert id="a-19090" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19090).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.72-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.72-errors-abstract" />
      <sch:assert id="a-14222" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.72'])=1">SHALL contain exactly one [1..1] templateId (CONF:14221) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.72" (CONF:14222).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.69-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.69-errors-abstract" abstract="true">
      <sch:assert id="a-14434" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14434).</sch:assert>
      <sch:assert id="a-14435" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14435).</sch:assert>
      <sch:assert id="a-14438" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:14438).</sch:assert>
      <sch:assert id="a-14439" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14439).</sch:assert>
      <sch:assert id="a-14444" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:14444).</sch:assert>
      <sch:assert id="a-14445" test="count(cda:effectiveTime)=1">Represents clinically effective time of the measurement, which may be when the measurement was performed (e.g., a BP measurement), or may be when sample was taken (and measured some time afterwards) 
SHALL contain exactly one [1..1] effectiveTime (CONF:14445).</sch:assert>
      <sch:assert id="a-14450" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:14450).</sch:assert>
      <sch:assert id="a-16742" test="not(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.86'])=1]) or cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.86'])=1]">SHOULD contain zero or more [0..*] entryRelationship (CONF:14451) such that it SHALL contain exactly one [1..1] @typeCode="COMP" has component (CONF:16741). SHALL contain exactly one [1..1] Assessment Scale Supporting Observation (templateId:2.16.840.1.113883.10.20.22.4.86) (CONF:16742).</sch:assert>
      <sch:assert id="a-16800" test="not(cda:referenceRange) or cda:referenceRange[count(cda:observationRange)=1]">The referenceRange, if present, SHALL contain exactly one [1..1] observationRange (CONF:16800).</sch:assert>
      <sch:assert id="a-16804" test="count(cda:referenceRange/cda:observationRange/cda:text/cda:reference[@value])=0 or starts-with(cda:referenceRange/cda:observationRange/cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:16804).</sch:assert>
      <sch:assert id="a-19088" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19088).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.69-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.69-errors-abstract" />
      <sch:assert id="a-14437" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.69'])=1">SHALL contain exactly one [1..1] templateId (CONF:14436) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.69" (CONF:14437).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.86-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.86-errors-abstract" abstract="true">
      <sch:assert id="a-16715" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:16715).</sch:assert>
      <sch:assert id="a-16716" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:16716).</sch:assert>
      <sch:assert id="a-16720" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:16720).</sch:assert>
      <sch:assert id="a-16724" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:16724).</sch:assert>
      <sch:assert id="a-16754" test="count(cda:value) &gt; 0">SHALL contain at least one [1..*] value (CONF:16754).</sch:assert>
      <sch:assert id="a-19089" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19089).</sch:assert>
      <sch:assert id="a-19178" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19178).</sch:assert>
      <sch:assert id="a-19179" test="cda:code[@code]">This code SHALL contain exactly one [1..1] @code (CONF:19179).</sch:assert>
      <sch:assert id="a-19180" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96']">Such that the @code SHALL be from LOINC (CodeSystem: 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96) and represents components of the scale (CONF:19180).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.86-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.86']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.86-errors-abstract" />
      <sch:assert id="a-16723" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.86'])=1">SHALL contain exactly one [1..1] templateId (CONF:16722) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.86" (CONF:16723).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.74-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.74-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.2-errors-abstract" />
      <sch:assert id="a-14249" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14249).</sch:assert>
      <sch:assert id="a-14250" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14250).</sch:assert>
      <sch:assert id="a-14254" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:14254).</sch:assert>
      <sch:assert id="a-14257" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:14257).</sch:assert>
      <sch:assert id="a-14261" test="count(cda:effectiveTime)=1">Represents clinically effective time of the measurement, which may be the time the measurement was performed (e.g., a BP measurement), or may be the time the sample was taken (and measured some time afterwards).
SHALL contain exactly one [1..1] effectiveTime (CONF:14261).</sch:assert>
      <sch:assert id="a-14263" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:14263).</sch:assert>
      <sch:assert id="a-14268" test="not(cda:referenceRange) or cda:referenceRange[count(cda:observationRange)=1]">The referenceRange, if present, SHALL contain exactly one [1..1] observationRange (CONF:14268).</sch:assert>
      <sch:assert id="a-14269" test="not(cda:referenceRange/cda:observationRange/cda:code)">This observationRange SHALL NOT contain [0..0] code (CONF:14269).</sch:assert>
      <sch:assert id="a-14273" test="not(cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]) or cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:14272) such that it SHALL contain exactly one [1..1] @typeCode="REFR" refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14593). SHALL contain exactly one [1..1] Non-Medicinal Supply Activity (templateId:2.16.840.1.113883.10.20.22.4.50) (CONF:14273).</sch:assert>
      <sch:assert id="a-14277" test="not(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72'])=1]) or cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:14276) such that it SHALL contain exactly one [1..1] @typeCode="REFR" refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14594). SHALL contain exactly one [1..1] Caregiver Characteristics (templateId:2.16.840.1.113883.10.20.22.4.72) (CONF:14277).</sch:assert>
      <sch:assert id="a-14470" test="not(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69'])=1]) or cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:14469) such that it SHALL contain exactly one [1..1] @typeCode="COMP" has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14595). SHALL contain exactly one [1..1] Assessment Scale Observation (templateId:2.16.840.1.113883.10.20.22.4.69) (CONF:14470).</sch:assert>
      <sch:assert id="a-14591" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14591).</sch:assert>
      <sch:assert id="a-15551" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15551).</sch:assert>
      <sch:assert id="a-19092" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19092).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.74-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.74']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.74-errors-abstract" />
      <sch:assert id="a-14256" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.74'])=1">SHALL contain exactly one [1..1] templateId (CONF:14255) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.74" (CONF:14256).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.68-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.68-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-14282" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14282).</sch:assert>
      <sch:assert id="a-14283" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14283).</sch:assert>
      <sch:assert id="a-14284" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:14284).</sch:assert>
      <sch:assert id="a-14286" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:14286).</sch:assert>
      <sch:assert id="a-14291" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHOULD be selected from ValueSet Problem Value Set 2.16.840.1.113883.3.88.12.3221.7.4 DYNAMIC (CONF:14291).</sch:assert>
      <sch:assert id="a-14314" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14314).</sch:assert>
      <sch:assert id="a-14317" test="not(cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]) or cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:14294) such that it SHALL contain exactly one [1..1] @typeCode="REFR" refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14584). SHALL contain exactly one [1..1] Non-Medicinal Supply Activity (templateId:2.16.840.1.113883.10.20.22.4.50) (CONF:14317).</sch:assert>
      <sch:assert id="a-14318" test="not(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72'])=1]) or cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:14298) such that it SHALL contain exactly one [1..1] @typeCode="REFR" refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14586). SHALL contain exactly one [1..1] Caregiver Characteristics (templateId:2.16.840.1.113883.10.20.22.4.72) (CONF:14318).</sch:assert>
      <sch:assert id="a-14464" test="not(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69'])=1]) or cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:14463) such that it SHALL contain exactly one [1..1] @typeCode="COMP" has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14587). SHALL contain exactly one [1..1] Assessment Scale Observation (templateId:2.16.840.1.113883.10.20.22.4.69) (CONF:14464).</sch:assert>
      <sch:assert id="a-15554" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15554).</sch:assert>
      <sch:assert id="a-19100" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19100).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.68-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.68']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.68-errors-abstract" />
      <sch:assert id="a-14313" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.68'])=1">SHALL contain exactly one [1..1] templateId (CONF:14312) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.68" (CONF:14313).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.73-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.73-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.4-errors-abstract" />
      <sch:assert id="a-14319" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14319).</sch:assert>
      <sch:assert id="a-14320" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14320).</sch:assert>
      <sch:assert id="a-14321" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:14321).</sch:assert>
      <sch:assert id="a-14323" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:14323).</sch:assert>
      <sch:assert id="a-14349" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHOULD be selected from ValueSet Problem Value Set 2.16.840.1.113883.3.88.12.3221.7.4 DYNAMIC (CONF:14349).</sch:assert>
      <sch:assert id="a-14351" test="not(cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]) or cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:14331) such that it SHALL contain exactly one [1..1] @typeCode="REFR" refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14588). SHALL contain exactly one [1..1] Non-Medicinal Supply Activity (templateId:2.16.840.1.113883.10.20.22.4.50) (CONF:14351).</sch:assert>
      <sch:assert id="a-14352" test="not(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72'])=1]) or cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:14335) such that it SHALL contain exactly one [1..1] @typeCode="REFR" refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14589). SHALL contain exactly one [1..1] Caregiver Characteristics (templateId:2.16.840.1.113883.10.20.22.4.72) (CONF:14352).</sch:assert>
      <sch:assert id="a-14468" test="not(cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69'])=1]) or cda:entryRelationship[@typeCode='COMP'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:14467) such that it SHALL contain exactly one [1..1] @typeCode="COMP" has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14590). SHALL contain exactly one [1..1] Assessment Scale Observation (templateId:2.16.840.1.113883.10.20.22.4.69) (CONF:14468).</sch:assert>
      <sch:assert id="a-14804" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14804).</sch:assert>
      <sch:assert id="a-15534" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15534).</sch:assert>
      <sch:assert id="a-19091" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19091).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.73-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.73']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.73-errors-abstract" />
      <sch:assert id="a-14347" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.73'])=1">SHALL contain exactly one [1..1] templateId (CONF:14346) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.73" (CONF:14347).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.66-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.66-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.1-errors-abstract" />
      <sch:assert id="a-14355" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER", which SHALL be selected from CodeSystem HL7ActClass (2.16.840.1.113883.5.6) STATIC (CONF:14355).</sch:assert>
      <sch:assert id="a-14357" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14357).</sch:assert>
      <sch:assert id="a-14358" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:14358).</sch:assert>
      <sch:assert id="a-14363" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:14363).</sch:assert>
      <sch:assert id="a-14364" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14364).</sch:assert>
      <sch:assert id="a-14368" test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.67'])=1]) &gt; 0">SHALL contain at least one [1..*] component (CONF:14359) such that it SHALL contain exactly one [1..1] Functional Status Result Observation (templateId:2.16.840.1.113883.10.20.22.4.67) (CONF:14368).</sch:assert>
      <sch:assert id="a-19102" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19102).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.66-errors" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.66']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.66-errors-abstract" />
      <sch:assert id="a-14362" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.66'])=1">SHALL contain exactly one [1..1] templateId (CONF:14361) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.66" (CONF:14362).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.75-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.75-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.1-errors-abstract" />
      <sch:assert id="a-14369" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER", which SHALL be selected from CodeSystem HL7ActClass (2.16.840.1.113883.5.6) STATIC (CONF:14369).</sch:assert>
      <sch:assert id="a-14371" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14371).</sch:assert>
      <sch:assert id="a-14372" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:14372).</sch:assert>
      <sch:assert id="a-14377" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:14377).</sch:assert>
      <sch:assert id="a-14378" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14378).</sch:assert>
      <sch:assert id="a-14381" test="count(cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.74'])=1]) &gt; 0">SHALL contain at least one [1..*] component (CONF:14373) such that it SHALL contain exactly one [1..1] Cognitive Status Result Observation (templateId:2.16.840.1.113883.10.20.22.4.74) (CONF:14381).</sch:assert>
      <sch:assert id="a-19093" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19093).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.75-errors" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.75']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.75-errors-abstract" />
      <sch:assert id="a-14376" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.75'])=1">SHALL contain exactly one [1..1] templateId (CONF:14375) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.75" (CONF:14376).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.70-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.70-errors-abstract" abstract="true">
      <sch:assert id="a-14383" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14383).</sch:assert>
      <sch:assert id="a-14384" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14384).</sch:assert>
      <sch:assert id="a-14389" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:14389).</sch:assert>
      <sch:assert id="a-14394" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:14394).</sch:assert>
      <sch:assert id="a-14395" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:14395).</sch:assert>
      <sch:assert id="a-14396" test="count(cda:value[@xsi:type='CD' and @code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.35']/voc:code/@value])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHOULD be selected from ValueSet Pressure Ulcer Stage 2.16.840.1.113883.11.20.9.35 STATIC (CONF:14396).</sch:assert>
      <sch:assert id="a-14619" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation)=1]) &lt; 2">SHOULD contain zero or one [0..1] entryRelationship (CONF:14410) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14411). SHALL contain exactly one [1..1] observation (CONF:14619).</sch:assert>
      <sch:assert id="a-14620" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[count(cda:code)=1]">This observation SHALL contain exactly one [1..1] code (CONF:14620).</sch:assert>
      <sch:assert id="a-14621" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:code) or cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:code[@code='401238003' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="401238003" Length of Wound (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:14621).</sch:assert>
      <sch:assert id="a-14622" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[count(cda:value[@xsi:type='PQ'])=1]">This observation SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:14622).</sch:assert>
      <sch:assert id="a-14623" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation)=1]) &lt; 2">SHOULD contain zero or one [0..1] entryRelationship (CONF:14601) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CONF:14602). SHALL contain exactly one [1..1] observation (CONF:14623).</sch:assert>
      <sch:assert id="a-14624" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[count(cda:code)=1]">This observation SHALL contain exactly one [1..1] code (CONF:14624).</sch:assert>
      <sch:assert id="a-14625" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:code) or cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:code[@code='401239006' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="401239006" Width of Wound (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:14625).</sch:assert>
      <sch:assert id="a-14626" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[count(cda:value[@xsi:type='PQ'])=1]">This observation SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:14626).</sch:assert>
      <sch:assert id="a-14627" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:observation)=1]) &lt; 2">SHOULD contain zero or one [0..1] entryRelationship (CONF:14605) such that it SHALL contain exactly one [1..1] @typeCode="COMP" (CONF:14606). SHALL contain exactly one [1..1] observation (CONF:14627).</sch:assert>
      <sch:assert id="a-14628" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[count(cda:code)=1]">This observation SHALL contain exactly one [1..1] code (CONF:14628).</sch:assert>
      <sch:assert id="a-14629" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:code) or cda:entryRelationship[@typeCode='COMP']/cda:observation/cda:code[@code='425094009' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="425094009" Depth of Wound (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:14629).</sch:assert>
      <sch:assert id="a-14630" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[count(cda:value[@xsi:type='PQ'])=1]">This observation SHALL contain exactly one [1..1] value with @xsi:type="PQ" (CONF:14630).</sch:assert>
      <sch:assert id="a-14685" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[@classCode='OBS']">This observation SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14685).</sch:assert>
      <sch:assert id="a-14686" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[@moodCode='EVN']">This observation SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14686).</sch:assert>
      <sch:assert id="a-14687" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[@classCode='OBS']">This observation SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14687).</sch:assert>
      <sch:assert id="a-14688" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[@moodCode='EVN']">This observation SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14688).</sch:assert>
      <sch:assert id="a-14689" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[@classCode='OBS']">This observation SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14689).</sch:assert>
      <sch:assert id="a-14690" test="not(cda:entryRelationship[@typeCode='COMP']/cda:observation) or cda:entryRelationship[@typeCode='COMP']/cda:observation[@moodCode='EVN']">This observation SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14690).</sch:assert>
      <sch:assert id="a-14759" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14759).</sch:assert>
      <sch:assert id="a-14760" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:14760).</sch:assert>
      <sch:assert id="a-14798" test="not(cda:targetSiteCode) or cda:targetSiteCode[@code and @code=document('the_voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.36']/voc:code/@value]">The targetSiteCode, if present, SHALL contain exactly one [1..1] @code, which SHOULD be selected from ValueSet Pressure Point  2.16.840.1.113883.11.20.9.36 STATIC (CONF:14798).</sch:assert>
      <sch:assert id="a-14800" test="not(cda:targetSiteCode/cda:qualifier) or cda:targetSiteCode/cda:qualifier[count(cda:name)=1]">The qualifier, if present, SHALL contain exactly one [1..1] name (CONF:14800).</sch:assert>
      <sch:assert id="a-14802" test="not(cda:targetSiteCode/cda:qualifier) or cda:targetSiteCode/cda:qualifier[count(cda:value)=1]">The qualifier, if present, SHALL contain exactly one [1..1] value (CONF:14802).</sch:assert>
      <sch:assert id="a-15585" test="not(cda:text/cda:reference) or cda:text/cda:reference[@value]">The reference, if present, SHALL contain exactly one [1..1] @value (CONF:15585).</sch:assert>
      <sch:assert id="a-15586" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15586).</sch:assert>
      <sch:assert id="a-19111" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19111).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.70-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.70']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.70-errors-abstract" />
      <sch:assert id="a-14388" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.70'])=1">SHALL contain exactly one [1..1] templateId (CONF:14387) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.70" (CONF:14388).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.76-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.76-errors-abstract" abstract="true">
      <sch:assert id="a-14705" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14705).</sch:assert>
      <sch:assert id="a-14706" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14706).</sch:assert>
      <sch:assert id="a-14709" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:14709).</sch:assert>
      <sch:assert id="a-14714" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:14714).</sch:assert>
      <sch:assert id="a-14715" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:14715).</sch:assert>
      <sch:assert id="a-14718" test="count(cda:entryRelationship)=1">SHALL contain exactly one [1..1] entryRelationship (CONF:14718).</sch:assert>
      <sch:assert id="a-14719" test="cda:entryRelationship[@typeCode='SUBJ']">This entryRelationship SHALL contain exactly one [1..1] @typeCode="SUBJ" Has subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14719).</sch:assert>
      <sch:assert id="a-14720" test="cda:entryRelationship[count(cda:observation)=1]">This entryRelationship SHALL contain exactly one [1..1] observation (CONF:14720).</sch:assert>
      <sch:assert id="a-14721" test="cda:entryRelationship/cda:observation[@classCode='OBS']">This observation SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14721).</sch:assert>
      <sch:assert id="a-14722" test="cda:entryRelationship/cda:observation[@moodCode='EVN']">This observation SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14722).</sch:assert>
      <sch:assert id="a-14725" test="cda:entryRelationship/cda:observation[count(cda:value[@xsi:type='CD' and @code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.35']/voc:code/@value])=1]">This observation SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHOULD be selected from ValueSet Pressure Ulcer Stage 2.16.840.1.113883.11.20.9.35 STATIC (CONF:14725).</sch:assert>
      <sch:assert id="a-14767" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14767).</sch:assert>
      <sch:assert id="a-14768" test="cda:code[@code='2264892003']">This code SHALL contain exactly one [1..1] @code="2264892003" number of pressure ulcers (CONF:14768).</sch:assert>
      <sch:assert id="a-14771" test="count(cda:value[@xsi:type='INT'])=1">SHALL contain exactly one [1..1] value with @xsi:type="INT" (CONF:14771).</sch:assert>
      <sch:assert id="a-19108" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19108).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.76-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.76']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.76-errors-abstract" />
      <sch:assert id="a-14708" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.76'])=1">SHALL contain exactly one [1..1] templateId (CONF:14707) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.76" (CONF:14708).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.77-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.77-errors-abstract" abstract="true">
      <sch:assert id="a-14726" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14726).</sch:assert>
      <sch:assert id="a-14727" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14727).</sch:assert>
      <sch:assert id="a-14730" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:14730).</sch:assert>
      <sch:assert id="a-14731" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14731).</sch:assert>
      <sch:assert id="a-14732" test="cda:code[@code='420905001' and @codeSystem='2.16.840.1.113883.6.96']">This code SHALL contain exactly one [1..1] @code="420905001" Highest Pressure Ulcer Stage (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:14732).</sch:assert>
      <sch:assert id="a-14733" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:14733).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.77-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.77']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.77-errors-abstract" />
      <sch:assert id="a-14729" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.77'])=1">SHALL contain exactly one [1..1] templateId (CONF:14728) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.77" (CONF:14729).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.18-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.18-errors-abstract" abstract="true">
      <sch:assert id="a-7926" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7926).</sch:assert>
      <sch:assert id="a-7927" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7927).</sch:assert>
      <sch:assert id="a-15395" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15395).</sch:assert>
      <sch:assert id="a-15396" test="cda:code[@code='48768-6' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="48768-6" Payers (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15396).</sch:assert>
      <sch:assert id="a-15501" test="not(cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.60'])=1]) or cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.60'])=1]">SHOULD contain zero or more [0..*] entry (CONF:7959) such that it SHALL contain exactly one [1..1] Coverage Activity (templateId:2.16.840.1.113883.10.20.22.4.60) (CONF:15501).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.18-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.18']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.18-errors-abstract" />
      <sch:assert id="a-10434" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.18'])=1">SHALL contain exactly one [1..1] templateId (CONF:7924) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.18" (CONF:10434).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.60-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.60-errors-abstract" abstract="true">
      <sch:assert id="a-8872" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" Act (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8872).</sch:assert>
      <sch:assert id="a-8873" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8873).</sch:assert>
      <sch:assert id="a-8874" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8874).</sch:assert>
      <sch:assert id="a-8875" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:8875).</sch:assert>
      <sch:assert id="a-8876" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:8876).</sch:assert>
      <sch:assert id="a-15528" test="count(cda:entryRelationship[@typeCode='COMP'][count(cda:sequenceNumber[@value]) &lt; 2][count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.61'])=1]) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:8878) such that it SHALL contain exactly one [1..1] @typeCode="COMP" has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8879). SHALL contain exactly one [1..1] Policy Activity (templateId:2.16.840.1.113883.10.20.22.4.61) (CONF:15528).</sch:assert>
      <sch:assert id="a-17175" test="not(cda:entryRelationship[@typeCode='COMP'][cda:sequenceNumber]) or cda:entryRelationship[@typeCode='COMP'][cda:sequenceNumber][@value]">The sequenceNumber, if present, SHALL contain exactly one [1..1] @value (CONF:17175).</sch:assert>
      <sch:assert id="a-19094" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19094).</sch:assert>
      <sch:assert id="a-19160" test="cda:code[@code='48768-6' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="48768-6" Payment sources (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:19160).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.60-errors" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.60']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.60-errors-abstract" />
      <sch:assert id="a-10492" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.60'])=1">SHALL contain exactly one [1..1] templateId (CONF:8897) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.60" (CONF:10492).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.61-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.61-errors-abstract" abstract="true">
      <sch:assert id="a-8898" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" Act (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8898).</sch:assert>
      <sch:assert id="a-8899" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8899).</sch:assert>
      <sch:assert id="a-8901" test="count(cda:id) &gt; 0">This id is a unique identifier for the policy or program providing the coverage
SHALL contain at least one [1..*] id (CONF:8901).</sch:assert>
      <sch:assert id="a-8902" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:8902).</sch:assert>
      <sch:assert id="a-8903" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:8903).</sch:assert>
      <sch:assert id="a-8908" test="count(cda:performer[@typeCode='PRF'][count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.87'])=1][count(cda:assignedEntity)=1])=1">This performer represents the Payer.
SHALL contain exactly one [1..1] performer (CONF:8906) such that it SHALL contain exactly one [1..1] @typeCode="PRF" Performer (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8907). SHALL contain exactly one [1..1] assignedEntity (CONF:8908).</sch:assert>
      <sch:assert id="a-8909" test="cda:performer[@typeCode='PRF']/cda:assignedEntity[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.87']][count(cda:id) &gt; 0]">This assignedEntity SHALL contain at least one [1..*] id (CONF:8909).</sch:assert>
      <sch:assert id="a-8921" test="count(cda:participant[@typeCode='COV'][count(cda:time) &lt; 2][count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89'])=1][count(cda:participantRole)=1])=1">SHALL contain exactly one [1..1] participant (CONF:8916) such that it SHALL contain exactly one [1..1] @typeCode="COV" Coverage target (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8917). SHALL contain exactly one [1..1] participantRole (CONF:8921).</sch:assert>
      <sch:assert id="a-8922" test="cda:participant[@typeCode='COV']/cda:participantRole[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']][count(cda:id) &gt; 0]">This participantRole SHALL contain at least one [1..*] id (CONF:8922).</sch:assert>
      <sch:assert id="a-8923" test="cda:participant[@typeCode='COV']/cda:participantRole[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']][count(cda:code)=1]">This participantRole SHALL contain exactly one [1..1] code (CONF:8923).</sch:assert>
      <sch:assert id="a-8930" test="not(cda:participant[@typeCode='COV']/cda:participantRole[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']]/cda:playingEntity) or cda:participant[@typeCode='COV']/cda:participantRole[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']]/cda:playingEntity[count(cda:name)=1]">If the covered party?s name is recorded differently in the health plan and in the registration/medication summary (due to marriage or for other reasons), use the name as it is recorded in the health plan.
The playingEntity, if present, SHALL contain exactly one [1..1] name (CONF:8930).</sch:assert>
      <sch:assert id="a-8933" test=".">If the member date of birth as recorded by the health plan differs from the patient date of birth as recorded in the registration/medication summary, then the member date of birth SHALL be recorded in sdtc:birthTime. The prefix sdtc: SHALL be bound to the namespace ?urn:hl7-org:sdtc?. The use of the namespace provides a necessary extension to CDA R2 for the use of the birthTime element (CONF:8933).</sch:assert>
      <sch:assert id="a-8936" test="count(cda:participant[@typeCode='HLD'][count(cda:time) &lt; 2][count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.90'])=1][count(cda:participantRole)=1]) &lt; 2">SHOULD contain zero or one [0..1] participant (CONF:8934) such that it SHALL contain exactly one [1..1] @typeCode="HLD" Holder (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8935). SHALL contain exactly one [1..1] participantRole (CONF:8936).</sch:assert>
      <sch:assert id="a-8937" test="not(cda:participant[@typeCode='HLD']/cda:participantRole[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.90']]) or cda:participant[@typeCode='HLD']/cda:participantRole[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.90']][count(cda:id) &gt; 0]">This participantRole SHALL contain at least one [1..*] id (CONF:8937).</sch:assert>
      <sch:assert id="a-8940" test="count(cda:entryRelationship[@typeCode='REFR']) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:8939) such that it SHALL contain exactly one [1..1] @typeCode="REFR" Refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8940).</sch:assert>
      <sch:assert id="a-8962" test="count(cda:performer[count(cda:time) &lt; 2][count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88'])=1][count(cda:assignedEntity)=1]) &lt; 2">This performer represents the Guarantor.
SHOULD contain zero or one [0..1] performer="PRF" Performer (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8961) such that it SHALL contain exactly one [1..1] assignedEntity (CONF:8962).</sch:assert>
      <sch:assert id="a-8968" test="not(cda:performer/cda:assignedEntity[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]) or cda:performer/cda:assignedEntity[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']][count(cda:code)=1]">This assignedEntity SHALL contain exactly one [1..1] code (CONF:8968).</sch:assert>
      <sch:assert id="a-10481" test="cda:performer[@typeCode][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.87']]/cda:assignedEntity/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10481).</sch:assert>
      <sch:assert id="a-10482" test="not (cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]/cda:assignedEntity/cda:addr) or cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]/cda:assignedEntity/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10482).</sch:assert>
      <sch:assert id="a-10483" test="not(cda:participant[@typeCode='HLD'][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.90']]/cda:participantRole/cda:addr) or cda:participant[@typeCode='HLD'][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.90']]/cda:participantRole/cda:addr[cda:streetAddressLine and cda:city and ((not(cda:country) or cda:country!='US') or (cda:country='US' and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10483).</sch:assert>
      <sch:assert id="a-10484" test="cda:participant[@typeCode='COV']/cda:participantRole/cda:addr[cda:streetAddressLine and cda:city and (cda:country!='US' or ((not(cda:country) or cda:country!='US') and cda:state and cda:postalCode))]">The content of addr SHALL be a conformant US Realm Address (AD.US.FIELDED) (2.16.840.1.113883.10.20.22.5.2) (CONF:10484).</sch:assert>
      <sch:assert id="a-15992" test="not(cda:performer/cda:assignedEntity[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.87']]/cda:code) or cda:performer/cda:assignedEntity[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.87']]/cda:code[@code]">The code, if present, SHALL contain exactly one [1..1] @code, which SHOULD be selected from ValueSet HL7FinanciallyResponsiblePartyType 2.16.840.1.113883.1.11.10416 DYNAMIC (CONF:15992).</sch:assert>
      <sch:assert id="a-16096" test="not(cda:performer/cda:assignedEntity[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]/cda:code) or cda:performer/cda:assignedEntity[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]/cda:code[@code='GUAR' and @codeSystem='2.16.840.1.113883.5.111']">This code SHALL contain exactly one [1..1] @code="GUAR" Guarantor (CodeSystem: RoleCode 2.16.840.1.113883.5.111 STATIC) (CONF:16096).</sch:assert>
      <sch:assert id="a-19109" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19109).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.61-errors" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.61']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.61-errors-abstract" />
      <sch:assert id="a-10516" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.61'])=1">SHALL contain exactly one [1..1] templateId (CONF:8900) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.61" (CONF:10516).</sch:assert>
      <sch:assert id="a-16809" test="count(cda:performer[@typeCode='PRF'][count(cda:assignedEntity)=1][count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.87'])=1])=1">This performer represents the Payer.
SHALL contain exactly one [1..1] performer (CONF:8906) such that it SHALL contain exactly one [1..1] @typeCode="PRF" Performer (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8907). SHALL contain exactly one [1..1] templateId (CONF:16808) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.87" Payer Performer (CONF:16809).</sch:assert>
      <sch:assert id="a-16811" test="count(cda:performer[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='2.16.840.1.113883.10.20.22.4.88'][count(cda:assignedEntity)=1][count(cda:time) &lt; 2][count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88'])=1]) &lt; 2">This performer represents the Guarantor.
SHOULD contain zero or one [0..1] performer="PRF" Performer (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8961) such that it SHALL contain exactly one [1..1] templateId (CONF:16810) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.88" Guarantor Performer (CONF:16811).</sch:assert>
      <sch:assert id="a-16814" test="count(cda:participant[@typeCode='COV'][count(cda:time) &lt; 2][count(cda:participantRole)=1][count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89'])=1])=1">SHALL contain exactly one [1..1] participant (CONF:8916) such that it SHALL contain exactly one [1..1] @typeCode="COV" Coverage target (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8917). SHALL contain exactly one [1..1] templateId (CONF:16812) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.89" Covered Party Participant (CONF:16814).</sch:assert>
      <sch:assert id="a-16815" test="count(cda:participant[@typeCode='HLD'][count(cda:participantRole)=1][count(cda:time) &lt; 2][count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.90'])=1]) &lt; 2">SHOULD contain zero or one [0..1] participant (CONF:8934) such that it SHALL contain exactly one [1..1] @typeCode="HLD" Holder (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8935). SHALL contain exactly one [1..1] templateId (CONF:16813) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.90" Policy Holder Participant (CONF:16815).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.21-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.21-errors-abstract" abstract="true">
      <sch:assert id="a-7930" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7930).</sch:assert>
      <sch:assert id="a-7931" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7931).</sch:assert>
      <sch:assert id="a-15340" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15340).</sch:assert>
      <sch:assert id="a-15342" test="cda:code[@code='42348-3' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="42348-3" Advance Directives (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15342).</sch:assert>
      <sch:assert id="a-15443" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.48'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.48'])=1]">MAY contain zero or more [0..*] entry (CONF:7957) such that it SHALL contain exactly one [1..1] Advance Directive Observation (templateId:2.16.840.1.113883.10.20.22.4.48) (CONF:15443).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.21-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.21']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.21-errors-abstract" />
      <sch:assert id="a-10376" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.21'])=1">SHALL contain exactly one [1..1] templateId (CONF:7928) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.21" (CONF:10376).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.48-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.48-errors-abstract" abstract="true">
      <sch:assert id="a-8648" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8648).</sch:assert>
      <sch:assert id="a-8649" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8649).</sch:assert>
      <sch:assert id="a-8651" test="count(cda:code[@code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.20.2']/voc:code/@value])=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet AdvanceDirectiveTypeCode 2.16.840.1.113883.1.11.20.2 STATIC 2006-10-17 (CONF:8651).</sch:assert>
      <sch:assert id="a-8652" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:8652).</sch:assert>
      <sch:assert id="a-8654" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8654).</sch:assert>
      <sch:assert id="a-8656" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:8656).</sch:assert>
      <sch:assert id="a-8669" test="count(cda:participant[@typeCode='CST'][count(cda:participantRole)=1]) &lt; 2">SHOULD contain zero or one [0..1] participant (CONF:8667) such that it SHALL contain exactly one [1..1] @typeCode="CST" Custodian (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8668). SHALL contain exactly one [1..1] participantRole (CONF:8669).</sch:assert>
      <sch:assert id="a-8670" test="not(cda:participant[@typeCode='CST']/cda:participantRole) or cda:participant[@typeCode='CST']/cda:participantRole[@classCode='AGNT']">This participantRole SHALL contain exactly one [1..1] @classCode="AGNT" Agent (CodeSystem: RoleClass 2.16.840.1.113883.5.110 STATIC) (CONF:8670).</sch:assert>
      <sch:assert id="a-8673" test="not(cda:participant[@typeCode='CST']/cda:participantRole/cda:playingEntity) or cda:participant[@typeCode='CST']/cda:participantRole/cda:playingEntity[count(cda:name)=1]">This playingEntity SHALL contain exactly one [1..1] name (CONF:8673).</sch:assert>
      <sch:assert id="a-8693" test="not(cda:reference[@typeCode='REFR'][count(cda:externalDocument)=1]) or cda:reference[@typeCode='REFR'][count(cda:externalDocument)=1]">SHOULD contain zero or more [0..*] reference (CONF:8692) such that it SHALL contain exactly one [1..1] @typeCode="REFR" Refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8694). SHALL contain exactly one [1..1] externalDocument (CONF:8693).</sch:assert>
      <sch:assert id="a-8695" test="not(cda:reference[@typeCode='REFR']/cda:externalDocument) or cda:reference[@typeCode='REFR']/cda:externalDocument[count(cda:id) &gt; 0]">This externalDocument SHALL contain at least one [1..*] id (CONF:8695).</sch:assert>
      <sch:assert id="a-8824" test="not(cda:participant[@typeCode='CST']/cda:participantRole) or cda:participant[@typeCode='CST']/cda:participantRole[count(cda:playingEntity)=1]">This participantRole SHALL contain exactly one [1..1] playingEntity (CONF:8824).</sch:assert>
      <sch:assert id="a-8825" test="not(cda:participant[@typeCode='VRF'][count(cda:templateId[@root='2.16.840.1.113883.10.20.1.58'])=1][count(cda:time) &lt; 2][count(cda:participantRole)=1]) or cda:participant[@typeCode='VRF'][count(cda:templateId[@root='2.16.840.1.113883.10.20.1.58'])=1][count(cda:time) &lt; 2][count(cda:participantRole)=1]">SHOULD contain zero or more [0..*] participant (CONF:8662) such that it SHALL contain exactly one [1..1] @typeCode="VRF" Verifier (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8663). SHALL contain exactly one [1..1] participantRole (CONF:8825).</sch:assert>
      <sch:assert id="a-15521" test="cda:effectiveTime[count(cda:high)=1]">This effectiveTime SHALL contain exactly one [1..1] high (CONF:15521).</sch:assert>
      <sch:assert id="a-19082" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19082).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.48-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.48']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.48-errors-abstract" />
      <sch:assert id="a-10485" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.48'])=1">SHALL contain exactly one [1..1] templateId (CONF:8655) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.48" (CONF:10485).</sch:assert>
      <sch:assert id="a-10486" test="not(cda:participant[@typeCode='VRF'][count(cda:time) &lt; 2][count(cda:participantRole)=1][count(cda:templateId[@root='2.16.840.1.113883.10.20.1.58'])=1]) or cda:participant[@typeCode='VRF'][count(cda:time) &lt; 2][count(cda:participantRole)=1][count(cda:templateId[@root='2.16.840.1.113883.10.20.1.58'])=1]">SHOULD contain zero or more [0..*] participant (CONF:8662) such that it SHALL contain exactly one [1..1] @typeCode="VRF" Verifier (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8663). SHALL contain exactly one [1..1] templateId (CONF:8664) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.1.58" (CONF:10486).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.15-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.15-errors-abstract" abstract="true">
      <sch:assert id="a-7934" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7934).</sch:assert>
      <sch:assert id="a-7935" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7935).</sch:assert>
      <sch:assert id="a-15469" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15469).</sch:assert>
      <sch:assert id="a-15470" test="cda:code[@code='10157-6' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="10157-6" Family History (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15470).</sch:assert>
      <sch:assert id="a-15471" test="not(cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.45'])=1]) or cda:entry[count(cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.45'])=1]">MAY contain zero or more [0..*] entry (CONF:7955) such that it SHALL contain exactly one [1..1] Family History Organizer (templateId:2.16.840.1.113883.10.20.22.4.45) (CONF:15471).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.15-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.15']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.15-errors-abstract" />
      <sch:assert id="a-10388" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.15'])=1">SHALL contain exactly one [1..1] templateId (CONF:7932) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.15" (CONF:10388).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.45-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.45-errors-abstract" abstract="true">
      <sch:assert id="a-8600" test="@classCode='CLUSTER'">SHALL contain exactly one [1..1] @classCode="CLUSTER" Cluster (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8600).</sch:assert>
      <sch:assert id="a-8601" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8601).</sch:assert>
      <sch:assert id="a-8602" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:8602).</sch:assert>
      <sch:assert id="a-8607" test="count(cda:component) &gt; 0">SHALL contain at least one [1..*] component (CONF:8607).</sch:assert>
      <sch:assert id="a-8609" test="count(cda:subject)=1">SHALL contain exactly one [1..1] subject (CONF:8609).</sch:assert>
      <sch:assert id="a-15244" test="cda:subject[count(cda:relatedSubject)=1]">This subject SHALL contain exactly one [1..1] relatedSubject (CONF:15244).</sch:assert>
      <sch:assert id="a-15245" test="cda:subject/cda:relatedSubject[@classCode='PRS']">This relatedSubject SHALL contain exactly one [1..1] @classCode="PRS" Person (CodeSystem: EntityClass 2.16.840.1.113883.5.41 STATIC) (CONF:15245).</sch:assert>
      <sch:assert id="a-15246" test="cda:subject/cda:relatedSubject[count(cda:code)=1]">This relatedSubject SHALL contain exactly one [1..1] code (CONF:15246).</sch:assert>
      <sch:assert id="a-15247" test="cda:subject/cda:relatedSubject/cda:code[@code]">This code SHALL contain exactly one [1..1] @code, which SHOULD be selected from ValueSet Family Member Value Set 2.16.840.1.113883.1.11.19579 DYNAMIC (CONF:15247).</sch:assert>
      <sch:assert id="a-15974" test="not(cda:subject/cda:relatedSubject/cda:subject) or cda:subject/cda:relatedSubject/cda:subject[count(cda:administrativeGenderCode)=1]">The subject, if present, SHALL contain exactly one [1..1] administrativeGenderCode (CONF:15974).</sch:assert>
      <sch:assert id="a-15975" test="not(cda:subject/cda:relatedSubject/cda:subject/cda:administrativeGenderCode) or cda:subject/cda:relatedSubject/cda:subject/cda:administrativeGenderCode[@code and @code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.1.11.1']/voc:code/@value]">This administrativeGenderCode SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Administrative Gender (HL7 V3) 2.16.840.1.113883.1.11.1 STATIC (CONF:15975).</sch:assert>
      <sch:assert id="a-16888" test="cda:component[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.46'])=1]">Such components SHALL contain exactly one [1..1] Family History Observation (templateId:2.16.840.1.113883.10.20.22.4.46) (CONF:16888).</sch:assert>
      <sch:assert id="a-19099" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19099).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.45-errors" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.45']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.45-errors-abstract" />
      <sch:assert id="a-10497" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.45'])=1">SHALL contain exactly one [1..1] templateId (CONF:8604) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.45" (CONF:10497).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.46-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.46-errors-abstract" abstract="true">
      <sch:assert id="a-8586" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8586).</sch:assert>
      <sch:assert id="a-8587" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8587).</sch:assert>
      <sch:assert id="a-8589" test="count(cda:code[@code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.3.88.12.3221.7.2']/voc:code/@value])=1">SHALL contain exactly one [1..1] code, which SHOULD be selected from ValueSet Problem Type 2.16.840.1.113883.3.88.12.3221.7.2 STATIC 2012-06-01 (CONF:8589).</sch:assert>
      <sch:assert id="a-8590" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:8590).</sch:assert>
      <sch:assert id="a-8591" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD", where the @code SHALL be selected from ValueSet Problem Value Set 2.16.840.1.113883.3.88.12.3221.7.4 DYNAMIC (CONF:8591).</sch:assert>
      <sch:assert id="a-8592" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8592).</sch:assert>
      <sch:assert id="a-15526" test="count(cda:entryRelationship[@typeCode='SUBJ'][@inversionInd='true'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.31'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:8675) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" Subject (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8676). SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:8677). SHALL contain exactly one [1..1] Age Observation (templateId:2.16.840.1.113883.10.20.22.4.31) (CONF:15526).</sch:assert>
      <sch:assert id="a-15527" test="count(cda:entryRelationship[@typeCode='CAUS'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.47'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:8678) such that it SHALL contain exactly one [1..1] @typeCode="CAUS" Causal or Contributory (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8679). SHALL contain exactly one [1..1] Family History Death Observation (templateId:2.16.840.1.113883.10.20.22.4.47) (CONF:15527).</sch:assert>
      <sch:assert id="a-19098" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19098).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.46-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.46']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.46-errors-abstract" />
      <sch:assert id="a-10496" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.46'])=1">SHALL contain exactly one [1..1] templateId (CONF:8599) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.46" (CONF:10496).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.47-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.47-errors-abstract" abstract="true">
      <sch:assert id="a-8621" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8621).</sch:assert>
      <sch:assert id="a-8622" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8622).</sch:assert>
      <sch:assert id="a-8625" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:8625).</sch:assert>
      <sch:assert id="a-8626" test="count(cda:value[@code='419099009'][@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value="419099009" Dead with @xsi:type="CD" (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:8626).</sch:assert>
      <sch:assert id="a-19097" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19097).</sch:assert>
      <sch:assert id="a-19141" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19141).</sch:assert>
      <sch:assert id="a-19142" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19142).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.47-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.47']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.47-errors-abstract" />
      <sch:assert id="a-10495" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.47'])=1">SHALL contain exactly one [1..1] templateId (CONF:8623) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.47" (CONF:10495).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.17-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.17-errors-abstract" abstract="true">
      <sch:assert id="a-7938" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7938).</sch:assert>
      <sch:assert id="a-7939" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7939).</sch:assert>
      <sch:assert id="a-14819" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:14819).</sch:assert>
      <sch:assert id="a-14820" test="cda:code[@code='29762-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="29762-2" Social History (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:14820).</sch:assert>
      <sch:assert id="a-14821" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.38'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.38'])=1]">MAY contain zero or more [0..*] entry (CONF:7953) such that it SHALL contain exactly one [1..1] Social History Observation (templateId:2.16.840.1.113883.10.20.22.4.38) (CONF:14821).</sch:assert>
      <sch:assert id="a-14822" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.15.3.8'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.15.3.8'])=1]">MAY contain zero or more [0..*] entry (CONF:9132) such that it SHALL contain exactly one [1..1] Pregnancy Observation (templateId:2.16.840.1.113883.10.20.15.3.8) (CONF:14822).</sch:assert>
      <sch:assert id="a-14824" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.78'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.78'])=1]">SHOULD contain zero or more [0..*] entry (CONF:14823) such that it SHALL contain exactly one [1..1] Smoking Status Observation (templateId:2.16.840.1.113883.10.20.22.4.78) (CONF:14824).</sch:assert>
      <sch:assert id="a-16817" test="not(cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.85'])=1]) or cda:entry[count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.85'])=1]">MAY contain zero or more [0..*] entry (CONF:16816) such that it SHALL contain exactly one [1..1] Tobacco Use (templateId:2.16.840.1.113883.10.20.22.4.85) (CONF:16817).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.17-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.17']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.17-errors-abstract" />
      <sch:assert id="a-10449" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.17'])=1">SHALL contain exactly one [1..1] templateId (CONF:7936) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.17" (CONF:10449).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.15.3.8-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.15.3.8-errors-abstract" abstract="true">
      <sch:assert id="a-451" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:451).</sch:assert>
      <sch:assert id="a-452" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:452).</sch:assert>
      <sch:assert id="a-455" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:455).</sch:assert>
      <sch:assert id="a-457" test="count(cda:value[translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz')='77386006'][@codeSystem='2.16.840.1.113883.6.96'][@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value="77386006" Pregnant with @xsi:type="CD" (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:457).</sch:assert>
      <sch:assert id="a-15584" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.15.3.1'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:458) such that it SHALL contain exactly one [1..1] @typeCode="REFR" Refers to (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:459). SHALL contain exactly one [1..1] Estimated Date of Delivery (templateId:2.16.840.1.113883.10.20.15.3.1) (CONF:15584).</sch:assert>
      <sch:assert id="a-19110" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19110).</sch:assert>
      <sch:assert id="a-19153" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19153).</sch:assert>
      <sch:assert id="a-19154" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19154).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.15.3.8-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.15.3.8']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.15.3.8-errors-abstract" />
      <sch:assert id="a-16868" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.15.3.8'])=1">SHALL contain exactly one [1..1] templateId (CONF:16768) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.15.3.8" (CONF:16868).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.15.3.1-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.15.3.1-errors-abstract" abstract="true">
      <sch:assert id="a-444" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:444).</sch:assert>
      <sch:assert id="a-445" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:445).</sch:assert>
      <sch:assert id="a-448" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:448).</sch:assert>
      <sch:assert id="a-450" test="count(cda:value[@xsi:type='TS'])=1">SHALL contain exactly one [1..1] value with @xsi:type="TS" (CONF:450).</sch:assert>
      <sch:assert id="a-19096" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19096).</sch:assert>
      <sch:assert id="a-19139" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19139).</sch:assert>
      <sch:assert id="a-19140" test="cda:code[@code='11778-8' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="11778-8" Estimated date of delivery (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:19140).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.15.3.1-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.15.3.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.15.3.1-errors-abstract" />
      <sch:assert id="a-16763" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.15.3.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:16762) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.15.3.1" (CONF:16763).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.38-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.38-errors-abstract" abstract="true">
      <sch:assert id="a-8548" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8548).</sch:assert>
      <sch:assert id="a-8549" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8549).</sch:assert>
      <sch:assert id="a-8551" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8551).</sch:assert>
      <sch:assert id="a-8553" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:8553).</sch:assert>
      <sch:assert id="a-8558" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:8558).</sch:assert>
      <sch:assert id="a-9130" test="not(cda:entry[@typeCode='DRIV']) or cda:entry[@typeCode='DRIV']">MAY contain zero or more [0..*] entry (CONF:1119) such that it SHALL contain exactly one [1..1] @typeCode="DRIV" Is derived from (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:1120). SHALL contain exactly one [1..1] @typeCode="DRIV" Is derived from (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:9130).</sch:assert>
      <sch:assert id="a-19117" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19117).</sch:assert>
      <sch:assert id="a-19224" test="count(cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:19224).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.38-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.38']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.38-errors-abstract" />
      <sch:assert id="a-10526" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.38'])=1">SHALL contain exactly one [1..1] templateId (CONF:8550) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.38" (CONF:10526).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.85-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.85-errors-abstract" abstract="true">
      <sch:assert id="a-16558" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:16558).</sch:assert>
      <sch:assert id="a-16559" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:16559).</sch:assert>
      <sch:assert id="a-16561" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:16561).</sch:assert>
      <sch:assert id="a-16562" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:16562).</sch:assert>
      <sch:assert id="a-16563" test="cda:value[@code]">This value SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Tobacco Use 2.16.840.1.113883.11.20.9.41 DYNAMIC (CONF:16563).</sch:assert>
      <sch:assert id="a-16564" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:16564).</sch:assert>
      <sch:assert id="a-16565" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:16565).</sch:assert>
      <sch:assert id="a-19118" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19118).</sch:assert>
      <sch:assert id="a-19174" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19174).</sch:assert>
      <sch:assert id="a-19175" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19175).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.85-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.85']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.85-errors-abstract" />
      <sch:assert id="a-16567" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.85'])=1">SHALL contain exactly one [1..1] templateId (CONF:16566) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.85" (CONF:16567).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.78-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.78-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.85-errors-abstract" />
      <sch:assert id="a-14806" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14806).</sch:assert>
      <sch:assert id="a-14807" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14807).</sch:assert>
      <sch:assert id="a-14809" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:14809).</sch:assert>
      <sch:assert id="a-14810" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:14810).</sch:assert>
      <sch:assert id="a-14814" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:14814).</sch:assert>
      <sch:assert id="a-14817" test="cda:value[@code and @code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.38']/voc:code/@value]">This value SHALL contain exactly one [1..1] @code, which SHALL be selected from ValueSet Smoking Status 2.16.840.1.113883.11.20.9.38 STATIC (CONF:14817).</sch:assert>
      <sch:assert id="a-14818" test="cda:effectiveTime[count(cda:low)=1]">This effectiveTime SHALL contain exactly one [1..1] low (CONF:14818).</sch:assert>
      <sch:assert id="a-19116" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19116).</sch:assert>
      <sch:assert id="a-19170" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19170).</sch:assert>
      <sch:assert id="a-19171" test="cda:code[@code='ASSERTION' and @codeSystem='2.16.840.1.113883.5.4']">This code SHALL contain exactly one [1..1] @code="ASSERTION" Assertion (CodeSystem: ActCode 2.16.840.1.113883.5.4 STATIC) (CONF:19171).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.78-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.78']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.78-errors-abstract" />
      <sch:assert id="a-14816" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.78'])=1">SHALL contain exactly one [1..1] templateId (CONF:14815) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.78" (CONF:14816).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.23-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.23-errors-abstract" abstract="true">
      <sch:assert id="a-7946" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7946).</sch:assert>
      <sch:assert id="a-7947" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7947).</sch:assert>
      <sch:assert id="a-15381" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15381).</sch:assert>
      <sch:assert id="a-15382" test="cda:code[@code='46264-8' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="46264-8" Medical Equipment (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15382).</sch:assert>
      <sch:assert id="a-15497" test="not(cda:entry[count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]) or cda:entry[count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50'])=1]">SHOULD contain zero or more [0..*] entry (CONF:7948) such that it SHALL contain exactly one [1..1] Non-Medicinal Supply Activity (templateId:2.16.840.1.113883.10.20.22.4.50) (CONF:15497).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.23-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.23']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.23-errors-abstract" />
      <sch:assert id="a-10404" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.23'])=1">SHALL contain exactly one [1..1] templateId (CONF:7944) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.23" (CONF:10404).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.24-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.24-errors-abstract" abstract="true">
      <sch:assert id="a-7981" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7981).</sch:assert>
      <sch:assert id="a-7982" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7982).</sch:assert>
      <sch:assert id="a-15355" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15355).</sch:assert>
      <sch:assert id="a-15356" test="cda:code[@code='11535-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="11535-2" Hospital Discharge Diagnosis (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15356).</sch:assert>
      <sch:assert id="a-15489" test="not(cda:entry) or cda:entry[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.33'])=1]">The entry, if present, SHALL contain exactly one [1..1] Hospital Discharge Diagnosis (templateId:2.16.840.1.113883.10.20.22.4.33) (CONF:15489).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.24-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.24']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.24-errors-abstract" />
      <sch:assert id="a-10394" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.24'])=1">SHALL contain exactly one [1..1] templateId (CONF:7979) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.24" (CONF:10394).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.33-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.33-errors-abstract" abstract="true">
      <sch:assert id="a-7663" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:7663).</sch:assert>
      <sch:assert id="a-7664" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:7664).</sch:assert>
      <sch:assert id="a-15536" test="count(cda:entryRelationship[@typeCode='SUBJ'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4'])=1]) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:7666) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" Has Subject (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:7667). SHALL contain exactly one [1..1] Problem Observation (templateId:2.16.840.1.113883.10.20.22.4.4) (CONF:15536).</sch:assert>
      <sch:assert id="a-19147" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19147).</sch:assert>
      <sch:assert id="a-19148" test="cda:code[@code='11535-2' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="11535-2" Hospital discharge diagnosis (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:19148).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.33-errors" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.33']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.33-errors-abstract" />
      <sch:assert id="a-16765" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.33'])=1">SHALL contain exactly one [1..1] templateId (CONF:16764) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.33" (CONF:16765).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.22-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.22-errors-abstract" abstract="true">
      <sch:assert id="a-7942" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7942).</sch:assert>
      <sch:assert id="a-7943" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7943).</sch:assert>
      <sch:assert id="a-14901" test=".">SHALL contain exactly one [1..1] @typeCode="COMP" has component (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14901).</sch:assert>
      <sch:assert id="a-15461" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15461).</sch:assert>
      <sch:assert id="a-15462" test="cda:code[@code='46240-8' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="46240-8" Encounters (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15462).</sch:assert>
      <sch:assert id="a-15465" test="not(cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49'])=1]) or cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49'])=1]">SHOULD contain zero or more [0..*] entry (CONF:7951) such that it SHALL contain exactly one [1..1] Encounter Activities (templateId:2.16.840.1.113883.10.20.22.4.49) (CONF:15465).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.22-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.22']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.22-errors-abstract" />
      <sch:assert id="a-10386" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.22'])=1">SHALL contain exactly one [1..1] templateId (CONF:7940) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.22" (CONF:10386).</sch:assert>
      <sch:assert id="a-10494" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1">SHALL contain exactly one [1..1] templateId (CONF:8712) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:26353). SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:10494).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.22.1-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.22.1-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.22-errors-abstract" />
      <sch:assert id="a-8707" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:8707).</sch:assert>
      <sch:assert id="a-8708" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:8708).</sch:assert>
      <sch:assert id="a-15466" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15466).</sch:assert>
      <sch:assert id="a-15467" test="cda:code[@code='46240-8' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="46240-8" Encounters (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15467).</sch:assert>
      <sch:assert id="a-15468" test="count(cda:entry[count(cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49'])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:8709) such that it SHALL contain exactly one [1..1] Encounter Activities (templateId:2.16.840.1.113883.10.20.22.4.49) (CONF:15468).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.22.1-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.22.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.22.1-errors-abstract" />
      <sch:assert id="a-10387" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.22.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:8705) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.22.1" (CONF:10387).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.49-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.49-errors-abstract" abstract="true">
      <sch:assert id="a-26353" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.49'])=1">SHALL contain exactly one [1..1] templateId (CONF:8712) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:10494). SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.49" (CONF:26353).</sch:assert>
      <sch:assert id="a-8710" test="@classCode='ENC'">SHALL contain exactly one [1..1] @classCode="ENC" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8710).</sch:assert>
      <sch:assert id="a-8711" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8711).</sch:assert>
      <sch:assert id="a-8713" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8713).</sch:assert>
      <sch:assert id="a-8715" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:8715).</sch:assert>
      <sch:assert id="a-8726" test="not(cda:performer) or cda:performer[count(cda:assignedEntity)=1]">The performer, if present, SHALL contain exactly one [1..1] assignedEntity (CONF:8726).</sch:assert>
      <sch:assert id="a-14899" test="not(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]) or cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:8722) such that it SHALL contain exactly one [1..1] @typeCode="RSON" Has Reason (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8723). SHALL contain exactly one [1..1] Indication (templateId:2.16.840.1.113883.10.20.22.4.19) (CONF:14899).</sch:assert>
      <sch:assert id="a-14903" test="not(cda:participant[@typeCode='LOC'][count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.32'])=1]) or cda:participant[@typeCode='LOC'][count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.32'])=1]">MAY contain zero or more [0..*] participant (CONF:8738) such that it SHALL contain exactly one [1..1] @typeCode="LOC" Location (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8740). SHALL contain exactly one [1..1] Service Delivery Location (templateId:2.16.840.1.113883.10.20.22.4.32) (CONF:14903).</sch:assert>
      <sch:assert id="a-15972" test="count(cda:code/cda:originalText/cda:reference[@value])=0 or starts-with(cda:code/cda:originalText/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1) (CONF:15972).</sch:assert>
      <sch:assert id="a-15973" test="not(cda:entryRelationship[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.80'])=1]) or cda:entryRelationship[count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.80'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:15492) such that it SHALL contain exactly one [1..1] Encounter Diagnosis (templateId:2.16.840.1.113883.10.20.22.4.80) (CONF:15973).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.49-errors" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.49-errors-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.80-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.80-errors-abstract" abstract="true">
      <sch:assert id="a-14889" test="@classCode='ACT'">SHALL contain exactly one [1..1] @classCode="ACT" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:14889).</sch:assert>
      <sch:assert id="a-14890" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:14890).</sch:assert>
      <sch:assert id="a-14898" test="count(cda:entryRelationship[@typeCode='SUBJ'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4'])=1]) &gt; 0">SHALL contain at least one [1..*] entryRelationship (CONF:14892) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:14893). SHALL contain exactly one [1..1] Problem Observation (templateId:2.16.840.1.113883.10.20.22.4.4) (CONF:14898).</sch:assert>
      <sch:assert id="a-19182" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:19182).</sch:assert>
      <sch:assert id="a-19183" test="cda:code[@code='29308-4' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="29308-4" Diagnosis (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:19183).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.80-errors" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.80']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.80-errors-abstract" />
      <sch:assert id="a-14896" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.80'])=1">SHALL contain exactly one [1..1] templateId (CONF:14895) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.80" (CONF:14896).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.2-errors">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.2-errors-abstract" abstract="true">
      <sch:assert id="a-7967" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:7967).</sch:assert>
      <sch:assert id="a-7968" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:7968).</sch:assert>
      <sch:assert id="a-15367" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15367).</sch:assert>
      <sch:assert id="a-15368" test="cda:code[@code='11369-6' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="11369-6" Immunizations (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15368).</sch:assert>
      <sch:assert id="a-15494" test="not(cda:entry[count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.52'])=1]) or cda:entry[count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.52'])=1]">SHOULD contain zero or more [0..*] entry (CONF:7969) such that it SHALL contain exactly one [1..1] Immunization Activity (templateId:2.16.840.1.113883.10.20.22.4.52) (CONF:15494).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.2-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.2']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.2-errors-abstract" />
      <sch:assert id="a-10399" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.2'])=1">SHALL contain exactly one [1..1] templateId (CONF:7965) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.2" (CONF:10399).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.2.1-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.2.1-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.2-errors-abstract" />
      <sch:assert id="a-9017" test="count(cda:title)=1">SHALL contain exactly one [1..1] title (CONF:9017).</sch:assert>
      <sch:assert id="a-9018" test="count(cda:text)=1">SHALL contain exactly one [1..1] text (CONF:9018).</sch:assert>
      <sch:assert id="a-15369" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:15369).</sch:assert>
      <sch:assert id="a-15370" test="cda:code[@code='11369-6' and @codeSystem='2.16.840.1.113883.6.1']">This code SHALL contain exactly one [1..1] @code="11369-6" Immunizations (CodeSystem: LOINC 2.16.840.1.113883.6.1 STATIC) (CONF:15370).</sch:assert>
      <sch:assert id="a-15495" test="count(cda:entry[count(cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.52'])=1]) &gt; 0">SHALL contain at least one [1..*] entry (CONF:9019) such that it SHALL contain exactly one [1..1] Immunization Activity (templateId:2.16.840.1.113883.10.20.22.4.52) (CONF:15495).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.2.1-errors" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.2.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.2.1-errors-abstract" />
      <sch:assert id="a-10400" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.2.2.1'])=1">SHALL contain exactly one [1..1] templateId (CONF:9015) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.2.2.1" (CONF:10400).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.52-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.52-errors-abstract" abstract="true">
      <sch:assert id="a-8826" test="@classCode='SBADM'">SHALL contain exactly one [1..1] @classCode="SBADM" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8826).</sch:assert>
      <sch:assert id="a-8827" test="@moodCode and @moodCode=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.18']/voc:code/@value">SHALL contain exactly one [1..1] @moodCode, which SHALL be selected from ValueSet MoodCodeEvnInt 2.16.840.1.113883.11.20.9.18 STATIC (CONF:8827).</sch:assert>
      <sch:assert id="a-8829" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8829).</sch:assert>
      <sch:assert id="a-8833" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:8833).</sch:assert>
      <sch:assert id="a-8834" test="count(cda:effectiveTime)=1">SHALL contain exactly one [1..1] effectiveTime (CONF:8834).</sch:assert>
      <sch:assert id="a-8847" test="count(cda:consumable)=1">SHALL contain exactly one [1..1] consumable (CONF:8847).</sch:assert>
      <sch:assert id="a-8851" test="not(cda:participant) or cda:participant[@typeCode='CSM']">The participant, if present, SHALL contain exactly one [1..1] @typeCode="CSM" (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8851).</sch:assert>
      <sch:assert id="a-8985" test="@negationInd">Use negationInd="true" to indicate that the immunization was not given.
SHALL contain exactly one [1..1] @negationInd (CONF:8985).</sch:assert>
      <sch:assert id="a-15537" test="not(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]) or cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19'])=1]">MAY contain zero or more [0..*] entryRelationship (CONF:8853) such that it SHALL contain exactly one [1..1] @typeCode="RSON" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8854). SHALL contain exactly one [1..1] Indication (templateId:2.16.840.1.113883.10.20.22.4.19) (CONF:15537).</sch:assert>
      <sch:assert id="a-15538" test="count(cda:entryRelationship[@typeCode='SUBJ'][@inversionInd='true'][count(cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.20'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:8856) such that it SHALL contain exactly one [1..1] @typeCode="SUBJ" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8857). SHALL contain exactly one [1..1] @inversionInd="true" True (CONF:8858). SHALL contain exactly one [1..1] Instructions (templateId:2.16.840.1.113883.10.20.22.4.20) (CONF:15538).</sch:assert>
      <sch:assert id="a-15539" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.17'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:8860) such that it SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8861). SHALL contain exactly one [1..1] Medication Supply Order (templateId:2.16.840.1.113883.10.20.22.4.17) (CONF:15539).</sch:assert>
      <sch:assert id="a-15540" test="count(cda:entryRelationship[@typeCode='REFR'][count(cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.18'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:8863) such that it SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8864). SHALL contain exactly one [1..1] Medication Dispense (templateId:2.16.840.1.113883.10.20.22.4.18) (CONF:15540).</sch:assert>
      <sch:assert id="a-15541" test="count(cda:entryRelationship[@typeCode='CAUS'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.9'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:8866) such that it SHALL contain exactly one [1..1] @typeCode="CAUS" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8867). SHALL contain exactly one [1..1] Reaction Observation (templateId:2.16.840.1.113883.10.20.22.4.9) (CONF:15541).</sch:assert>
      <sch:assert id="a-15542" test="count(cda:entryRelationship[@typeCode='RSON'][count(cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.53'])=1]) &lt; 2">MAY contain zero or one [0..1] entryRelationship (CONF:8988) such that it SHALL contain exactly one [1..1] @typeCode="RSON" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8989). SHALL contain exactly one [1..1] Immunization Refusal Reason (templateId:2.16.840.1.113883.10.20.22.4.53) (CONF:15542).</sch:assert>
      <sch:assert id="a-15545" test="count(cda:text/cda:reference[@value])=0 or starts-with(cda:text/cda:reference/@value, '#')">This reference/@value SHALL begin with a '#' and SHALL point to its corresponding narrative (using the approach defined in CDA Release 2, section 4.3.5.1 (CONF:15545).</sch:assert>
      <sch:assert id="a-15546" test="cda:consumable[count(cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.54'])=1]">This consumable SHALL contain exactly one [1..1] Immunization Medication Information (templateId:2.16.840.1.113883.10.20.22.4.54) (CONF:15546).</sch:assert>
      <sch:assert id="a-15547" test="not(cda:participant) or cda:participant[count(cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.24'])=1]">The participant, if present, SHALL contain exactly one [1..1] Drug Vehicle (templateId:2.16.840.1.113883.10.20.22.4.24) (CONF:15547).</sch:assert>
      <sch:assert id="a-15548" test="not(cda:precondition[@typeCode='PRCN'][count(cda:criterion[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.25'])=1]) or cda:precondition[@typeCode='PRCN'][count(cda:criterion[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.25'])=1]">MAY contain zero or more [0..*] precondition (CONF:8869) such that it SHALL contain exactly one [1..1] @typeCode="PRCN" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002 STATIC) (CONF:8870). SHALL contain exactly one [1..1] Precondition for Substance Administration (templateId:2.16.840.1.113883.10.20.22.4.25) (CONF:15548).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.52-errors" context="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.52']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.52-errors-abstract" />
      <sch:assert id="a-10498" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.52'])=1">SHALL contain exactly one [1..1] templateId (CONF:8828) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.52" (CONF:10498).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.53-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.53-errors-abstract" abstract="true">
      <sch:assert id="a-8991" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" Observation (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:8991).</sch:assert>
      <sch:assert id="a-8992" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" Event (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:8992).</sch:assert>
      <sch:assert id="a-8994" test="count(cda:id) &gt; 0">SHALL contain at least one [1..*] id (CONF:8994).</sch:assert>
      <sch:assert id="a-8995" test="count(cda:code)=1">SHALL contain exactly one [1..1] code, which SHALL be selected from ValueSet No Immunization Reason Value Set 2.16.840.1.113883.1.11.19717 DYNAMIC (CONF:8995).</sch:assert>
      <sch:assert id="a-8996" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:8996).</sch:assert>
      <sch:assert id="a-19104" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" Completed (CodeSystem: ActStatus 2.16.840.1.113883.5.14 STATIC) (CONF:19104).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.53-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.53']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.53-errors-abstract" />
      <sch:assert id="a-10500" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.53'])=1">SHALL contain exactly one [1..1] templateId (CONF:8993) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.22.4.53" (CONF:10500).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.25.4.5-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.5-errors-abstract" abstract="true">
      <sch:assert id="a-17430" test="@classCode='OBS'">SHALL contain exactly one [1..1] @classCode="OBS" (CodeSystem: HL7ActClass 2.16.840.1.113883.5.6 STATIC) (CONF:17430).</sch:assert>
      <sch:assert id="a-17431" test="@moodCode='EVN'">SHALL contain exactly one [1..1] @moodCode="EVN" (CodeSystem: ActMood 2.16.840.1.113883.5.1001 STATIC) (CONF:17431).</sch:assert>
      <sch:assert id="a-17434" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:17434).</sch:assert>
      <sch:assert id="a-17438" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:17438).</sch:assert>
      <sch:assert id="a-17439" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:17439).</sch:assert>
      <sch:assert id="a-17497" test="cda:code[count(cda:translation)=1]">The translation code further specifies the source instrument and the associated code system.
This code SHALL contain exactly one [1..1] translation (CONF:17497).</sch:assert>
      <sch:assert id="a-22626" test="not (cda:entryRelationship) or cda:entryRelationship[@typeCode='REFR']">The entryRelationship, if present, SHALL contain exactly one [1..1] @typeCode="REFR" (CodeSystem: HL7ActRelationshipType 2.16.840.1.113883.5.1002) (CONF:22626).</sch:assert>
      <sch:assert id="a-23433" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:23433).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.5-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.5']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.5-errors-abstract" />
      <sch:assert id="a-17429" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.25.4.5'])=1">SHALL contain exactly one [1..1] templateId (CONF:17428) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.25.4.5" (CONF:17429).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.25.4.6-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.6-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.5-errors-abstract" />
      <sch:assert id="a-17442" test="count(cda:value)=1">SHALL contain exactly one [1..1] value (CONF:17442).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.6-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.6']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.6-errors-abstract" />
      <sch:assert id="a-17457" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.25.4.6'])=1">SHALL contain exactly one [1..1] templateId (CONF:17456) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.25.4.6" (CONF:17457).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.25.4.7-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.7-errors-abstract" abstract="true">
      <sch:assert id="a-23234" test="count(cda:code)=1">SHALL contain exactly one [1..1] code (CONF:23234).</sch:assert>
      <sch:assert id="a-23236" test="cda:code[@code='ASSERTION']">This code SHALL contain exactly one [1..1] @code="ASSERTION" (CONF:23236).</sch:assert>
      <sch:assert id="a-23239" test="cda:code[@codeSystem]">This code SHALL contain exactly one [1..1] @codeSystem (CodeSystem: ActCode 2.16.840.1.113883.5.4) (CONF:23239).</sch:assert>
      <sch:assert id="a-23240" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:23240).</sch:assert>
      <sch:assert id="a-23242" test="count(cda:statusCode)=1">SHALL contain exactly one [1..1] statusCode (CONF:23242).</sch:assert>
      <sch:assert id="a-23243" test="cda:statusCode[@code='completed']">This statusCode SHALL contain exactly one [1..1] @code="completed" (CONF:23243).</sch:assert>
      <sch:assert id="a-23244" test="not(tested)">This statusCode SHALL contain exactly one [1..1] @codeSystem (CodeSystem: ActStatus 2.16.840.1.113883.5.14) (CONF:23244).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.7-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.7']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.7-errors-abstract" />
      <sch:assert id="a-17455" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.25.4.7'])=1">SHALL contain exactly one [1..1] templateId (CONF:17454) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.25.4.7" (CONF:17455).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.25.4.8-errors">
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.8-errors-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.5-errors-abstract" />
      <sch:assert id="a-17447" test="count(cda:value[@xsi:type='CD'])=1">SHALL contain exactly one [1..1] value with @xsi:type="CD" (CONF:17447).</sch:assert>
      <sch:assert id="a-17448" test="cda:value[@code]">This value SHALL contain exactly one [1..1] @code (CONF:17448).</sch:assert>
      <sch:assert id="a-17449" test="cda:value[@xsi:type='CD'][count(cda:translation)=1]">This value SHALL contain exactly one [1..1] translation (CONF:17449).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.8-errors" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.8']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.8-errors-abstract" />
      <sch:assert id="a-17459" test="count(cda:templateId[@root='2.16.840.1.113883.10.20.25.4.8'])=1">SHALL contain exactly one [1..1] templateId (CONF:17458) such that it SHALL contain exactly one [1..1] @root="2.16.840.1.113883.10.20.25.4.8" (CONF:17459).</sch:assert>
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.1.1-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.1.1-warnings-abstract" abstract="true">
      <sch:assert id="a-5300" test="string-length(cda:recordTarget/cda:patientRole/cda:patient/cda:birthTime/@value) &gt;= 8">SHOULD be precise to day (CONF:5300).</sch:assert>
      <sch:assert id="a-5303" test="cda:recordTarget/cda:patientRole/cda:patient[count(cda:maritalStatusCode) &lt; 2]">This patient SHOULD contain zero or one [0..1] maritalStatusCode, which SHALL be selected from ValueSet Marital Status Value Set 2.16.840.1.113883.1.11.12212 DYNAMIC (CONF:5303).</sch:assert>
      <sch:assert id="a-5326" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:guardian) or cda:recordTarget/cda:patientRole/cda:patient/cda:guardian[count(cda:code) &lt; 2]">The guardian, if present, SHOULD contain zero or one [0..1] code, which SHALL be selected from ValueSet PersonalRelationshipRoleType 2.16.840.1.113883.1.11.19563 DYNAMIC (CONF:5326).</sch:assert>
      <sch:assert id="a-5359" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:guardian) or cda:recordTarget/cda:patientRole/cda:patient/cda:guardian[not(cda:addr) or cda:addr]">The guardian, if present, SHOULD contain zero or more [0..*] addr (CONF:5359).</sch:assert>
      <sch:assert id="a-5375" test="cda:recordTarget/cda:patientRole/cda:telecom[not(@use) or @use]">Such telecoms SHOULD contain zero or one [0..1] @use, which SHALL be selected from ValueSet Telecom Use (US Realm Header) 2.16.840.1.113883.11.20.9.20 DYNAMIC (CONF:5375).</sch:assert>
      <sch:assert id="a-5404" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:birthplace/cda:place/cda:addr) or cda:recordTarget/cda:patientRole/cda:patient/cda:birthplace/cda:place/cda:addr[count(cda:country) &lt; 2]">This addr SHOULD contain zero or one [0..1] country, which SHALL be selected from ValueSet CountryValueSet 2.16.840.1.113883.3.88.12.80.63 DYNAMIC (CONF:5404).</sch:assert>
      <sch:assert id="a-5406" test="cda:recordTarget/cda:patientRole/cda:patient[not(cda:languageCommunication) or cda:languageCommunication]">This patient SHOULD contain zero or more [0..*] languageCommunication (CONF:5406).</sch:assert>
      <sch:assert id="a-5430" test="not(tested-here)">This assignedAuthor SHOULD contain zero or one [0..1] assignedPerson (CONF:5430).</sch:assert>
      <sch:assert id="a-5579" test="count(cda:legalAuthenticator) &lt; 2">SHOULD contain zero or one [0..1] legalAuthenticator (CONF:5579).</sch:assert>
      <sch:assert id="a-7993" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:guardian/cda:telecom) or cda:recordTarget/cda:patientRole/cda:patient/cda:guardian/cda:telecom[not(@use) or @use]">The telecom, if present, SHOULD contain zero or one [0..1] @use, which SHALL be selected from ValueSet Telecom Use (US Realm Header) 2.16.840.1.113883.11.20.9.20 DYNAMIC (CONF:7993).</sch:assert>
      <sch:assert id="a-7994" test="not(cda:recordTarget/cda:patientRole/cda:providerOrganization/cda:telecom) or cda:recordTarget/cda:patientRole/cda:providerOrganization/cda:telecom[not(@use) or @use]">Such telecoms SHOULD contain zero or one [0..1] @use, which SHALL be selected from ValueSet Telecom Use (US Realm Header) 2.16.840.1.113883.11.20.9.20 DYNAMIC (CONF:7994).</sch:assert>
      <sch:assert id="a-7995" test="cda:author/cda:assignedAuthor/cda:telecom[not(@use) or @use]">Such telecoms SHOULD contain zero or one [0..1] @use, which SHALL be selected from ValueSet Telecom Use (US Realm Header) 2.16.840.1.113883.11.20.9.20 DYNAMIC (CONF:7995).</sch:assert>
      <sch:assert id="a-7996" test="not(cda:dataEnterer/cda:assignedEntity/cda:telecom) or cda:dataEnterer/cda:assignedEntity/cda:telecom[not(@use) or @use]">Such telecoms SHOULD contain zero or one [0..1] @use, which SHALL be selected from ValueSet Telecom Use (US Realm Header) 2.16.840.1.113883.11.20.9.20 DYNAMIC (CONF:7996).</sch:assert>
      <sch:assert id="a-7998" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:telecom[not(@use) or @use]">This telecom SHOULD contain zero or one [0..1] @use, which SHALL be selected from ValueSet Telecom Use (US Realm Header) 2.16.840.1.113883.11.20.9.20 DYNAMIC (CONF:7998).</sch:assert>
      <sch:assert id="a-7999" test="not(cda:legalAuthenticator/cda:assignedEntity/cda:telecom) or cda:legalAuthenticator/cda:assignedEntity/cda:telecom[not(@use) or @use]">Such telecoms SHOULD contain zero or one [0..1] @use, which SHALL be selected from ValueSet Telecom Use (US Realm Header) 2.16.840.1.113883.11.20.9.20 DYNAMIC (CONF:7999).</sch:assert>
      <sch:assert id="a-8000" test="not(cda:authenticator/cda:assignedEntity/cda:telecom) or cda:authenticator/cda:assignedEntity/cda:telecom[not(@use) or @use]">Such telecoms SHOULD contain zero or one [0..1] @use, which SHALL be selected from ValueSet Telecom Use (US Realm Header) 2.16.840.1.113883.11.20.9.20 DYNAMIC (CONF:8000).</sch:assert>
      <sch:assert id="a-9965" test="not(cda:recordTarget/cda:patientRole/cda:patient/cda:languageCommunication) or cda:recordTarget/cda:patientRole/cda:patient/cda:languageCommunication[count(cda:proficiencyLevelCode) &lt; 2]">The languageCommunication, if present, SHOULD contain zero or one [0..1] proficiencyLevelCode, which SHALL be selected from ValueSet LanguageAbilityProficiency 2.16.840.1.113883.1.11.12199 DYNAMIC (CONF:9965).</sch:assert>
      <sch:assert id="a-14839" test="not(cda:documentationOf/cda:serviceEvent) or cda:documentationOf/cda:serviceEvent[not(cda:performer) or cda:performer]">This serviceEvent SHOULD contain zero or more [0..*] performer (CONF:14839).</sch:assert>
      <sch:assert id="a-14842" test="not(cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity) or cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity[count(cda:code) &lt; 2]">This assignedEntity SHOULD contain zero or one [0..1] code (CONF:14842).</sch:assert>
      <sch:assert id="a-14847" test="not(cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity/cda:id) or cda:documentationOf/cda:serviceEvent/cda:performer/cda:assignedEntity/cda:id[not(@root='2.16.840.1.113883.4.6') or @root='2.16.840.1.113883.4.6']">Such ids SHOULD contain zero or one [0..1] @root="2.16.840.1.113883.4.6" National Provider Identifier (CONF:14847).</sch:assert>
      <sch:assert id="a-16783" test="not(tested-here)">This assignedAuthor SHOULD contain zero or one [0..1] assignedAuthoringDevice (CONF:16783).</sch:assert>
      <sch:assert id="a-16787" test="cda:author/cda:assignedAuthor[count(cda:code) &lt; 2]">This assignedAuthor SHOULD contain zero or one [0..1] code (CONF:16787).</sch:assert>
      <sch:assert id="a-16819" test="not(cda:documentationOf/cda:serviceEvent/cda:performer/cda:functionCode) or cda:documentationOf/cda:serviceEvent/cda:performer/cda:functionCode[not(@codeSystem) or @codeSystem]">The functionCode, if present, SHOULD contain zero or one [0..1] @codeSystem, which SHOULD be selected from CodeSystem participationFunction (2.16.840.1.113883.5.88) STATIC (CONF:16819).</sch:assert>
      <sch:assert id="a-16820" test="not(cda:recordTarget/cda:patientRole/cda:providerOrganization/cda:id) or cda:recordTarget/cda:patientRole/cda:providerOrganization/cda:id[not(@root='2.16.840.1.113883.4.6') or @root='2.16.840.1.113883.4.6']">Such ids SHOULD contain zero or one [0..1] @root="2.16.840.1.113883.4.6" National Provider Identifier (CONF:16820).</sch:assert>
      <sch:assert id="a-16821" test="not(cda:dataEnterer/cda:assignedEntity/cda:id) or cda:dataEnterer/cda:assignedEntity/cda:id[not(@root='2.16.840.1.113883.4.6') or @root='2.16.840.1.113883.4.6']">Such ids SHOULD contain zero or one [0..1] @root="2.16.840.1.113883.4.6" National Provider Identifier (CONF:16821).</sch:assert>
      <sch:assert id="a-16822" test="cda:custodian/cda:assignedCustodian/cda:representedCustodianOrganization/cda:id[not(@root='2.16.840.1.113883.4.6') or @root='2.16.840.1.113883.4.6']">Such ids SHOULD contain zero or one [0..1] @root="2.16.840.1.113883.4.6" National Provider Identifier (CONF:16822).</sch:assert>
      <sch:assert id="a-16824" test="not(cda:authenticator/cda:assignedEntity/cda:id) or cda:authenticator/cda:assignedEntity/cda:id[not(@root='2.16.840.1.113883.4.6') or @root='2.16.840.1.113883.4.6']">Such ids SHOULD contain zero or one [0..1] @root="2.16.840.1.113883.4.6" National Provider Identifier  (CONF:16824).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.1.1-warnings" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.22.1.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.1.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.1.12-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.1.12-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.1.1-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.1.12-warnings" context="cda:ClinicalDocument[cda:templateId/@root='2.16.840.1.113883.10.20.22.1.12']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.1.12-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.55-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.55-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.55-warnings" context="cda:Section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.55']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.55-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.7-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.7-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.7-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.7']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.7-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.7.1-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.7.1-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.7-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.7.1-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.7.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.7.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.14-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" abstract="true">
      <sch:assert id="a-7662" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:7662).</sch:assert>
      <sch:assert id="a-7683" test="not(cda:targetSiteCode) or cda:targetSiteCode">SHOULD contain zero or more [0..*] targetSiteCode (CONF:7683).</sch:assert>
      <sch:assert id="a-7716" test="not(cda:specimen/cda:specimenRole) or cda:specimen/cda:specimenRole[not(cda:id) or cda:id]">This specimenRole SHOULD contain zero or more [0..*] id (CONF:7716).</sch:assert>
      <sch:assert id="a-7733" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:representedOrganization) &lt; 2]">This assignedEntity SHOULD contain zero or one [0..1] representedOrganization (CONF:7733).</sch:assert>
      <sch:assert id="a-7734" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[not(cda:id) or cda:id]">The representedOrganization, if present, SHOULD contain zero or more [0..*] id (CONF:7734).</sch:assert>
      <sch:assert id="a-19203" test="cda:code[count(cda:originalText) &lt; 2]">This code SHOULD contain zero or one [0..1] originalText (CONF:19203).</sch:assert>
      <sch:assert id="a-19204" test="not(cda:code/cda:originalText) or cda:code/cda:originalText[count(cda:reference) &lt; 2]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:19204).</sch:assert>
      <sch:assert id="a-19205" test="not(cda:code/cda:originalText/cda:reference) or cda:code/cda:originalText/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:19205).</sch:assert>
      <sch:assert id="a-19207" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96'] or cda:code[@codeSystem='2.16.840.1.113883.6.12'] or cda:code[@codeSystem='2.16.840.1.113883.6.104'] or cda:code[@codeSystem='2.16.840.1.113883.6.4']">This code in a procedure activity SHOULD be selected from LOINC (codeSystem 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96), and MAY be selected from CPT-4 (CodeSystem: 2.16.840.1.113883.6.12) or ICD10 PCS (CodeSystem: 2.16.840.1.113883.6.4) (CONF:19207).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.14-warnings" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.14']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.14-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.16-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.16-warnings-abstract" abstract="true">
      <sch:assert id="a-7501" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:7501).</sch:assert>
      <sch:assert id="a-7516" test="count(cda:doseQuantity) &lt; 2">SHOULD contain zero or one [0..1] doseQuantity (CONF:7516).</sch:assert>
      <sch:assert id="a-7526" test="not(cda:doseQuantity) or cda:doseQuantity[not(@unit) or @unit]">The doseQuantity, if present, SHOULD contain zero or one [0..1] @unit, which SHALL be selected from ValueSet UnitsOfMeasureCaseSensitive 2.16.840.1.113883.1.11.12839 DYNAMIC (CONF:7526).</sch:assert>
      <sch:assert id="a-15977" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15977).</sch:assert>
      <sch:assert id="a-15978" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15978).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.16-warnings" context="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.16']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.16-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.9-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.9-warnings-abstract" abstract="true">
      <sch:assert id="a-7330" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:7330).</sch:assert>
      <sch:assert id="a-7332" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:7332).</sch:assert>
      <sch:assert id="a-7333" test="not(cda:effectiveTime) or cda:effectiveTime[count(cda:low) &lt; 2]">The effectiveTime, if present, SHOULD contain zero or one [0..1] low (CONF:7333).</sch:assert>
      <sch:assert id="a-7334" test="not(cda:effectiveTime) or cda:effectiveTime[count(cda:high) &lt; 2]">The effectiveTime, if present, SHOULD contain zero or one [0..1] high (CONF:7334).</sch:assert>
      <sch:assert id="a-15917" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15917).</sch:assert>
      <sch:assert id="a-15918" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15918).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.9-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.9']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.9-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.8-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.8-warnings-abstract" abstract="true">
      <sch:assert id="a-7350" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:7350).</sch:assert>
      <sch:assert id="a-9117" test="not(cda:interpretationCode) or cda:interpretationCode">SHOULD contain zero or more [0..*] interpretationCode (CONF:9117).</sch:assert>
      <sch:assert id="a-15928" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15928).</sch:assert>
      <sch:assert id="a-15929" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15929).</sch:assert>
      <sch:assert id="a-16038" test="not(cda:interpretationCode) or cda:interpretationCode[not(@code) or @code]">The interpretationCode, if present, SHOULD contain zero or one [0..1] @code, which SHOULD be selected from ValueSet Observation Interpretation (HL7) 2.16.840.1.113883.1.11.78 DYNAMIC (CONF:16038).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.8-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.8']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.8-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.25-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.25-warnings-abstract" abstract="true">
      <sch:assert id="a-7369" test="count(cda:value[@xsi:type='CD']) &lt; 2">SHOULD contain zero or one [0..1] value with @xsi:type="CD" (CONF:7369).</sch:assert>
      <sch:assert id="a-16854" test="count(cda:code) &lt; 2">SHOULD contain zero or one [0..1] code (CONF:16854).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.25-warnings" context="cda:criterion[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.25']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.25-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.20-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.20-warnings-abstract" abstract="true">
      <sch:assert id="a-7395" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:7395).</sch:assert>
      <sch:assert id="a-15577" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15577).</sch:assert>
      <sch:assert id="a-15578" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15578).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.20-warnings" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.20']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.20-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.23-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.23-warnings-abstract" abstract="true">
      <sch:assert id="a-7413" test="cda:manufacturedMaterial/cda:code[count(cda:originalText) &lt; 2]">This code SHOULD contain zero or one [0..1] originalText (CONF:7413).</sch:assert>
      <sch:assert id="a-15986" test="not(cda:manufacturedMaterial/cda:code/cda:originalText) or cda:manufacturedMaterial/cda:code/cda:originalText[count(cda:reference) &lt; 2]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:15986).</sch:assert>
      <sch:assert id="a-15987" test="not(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference) or cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15987).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.23-warnings" context="cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.23']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.23-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.17-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.17-warnings-abstract" abstract="true">
      <sch:assert id="a-7434" test="count(cda:repeatNumber) &lt; 2">SHOULD contain zero or one [0..1] repeatNumber (CONF:7434).</sch:assert>
      <sch:assert id="a-7436" test="count(cda:quantity) &lt; 2">SHOULD contain zero or one [0..1] quantity (CONF:7436).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.17-warnings" context="cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.17']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.17-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.54-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.54-warnings-abstract" abstract="true">
      <sch:assert id="a-9008" test="cda:manufacturedMaterial/cda:code[count(cda:originalText) &lt; 2]">This code SHOULD contain zero or one [0..1] originalText (CONF:9008).</sch:assert>
      <sch:assert id="a-9012" test="count(cda:manufacturerOrganization) &lt; 2">SHOULD contain zero or one [0..1] manufacturerOrganization (CONF:9012).</sch:assert>
      <sch:assert id="a-9014" test="cda:manufacturedMaterial[count(cda:lotNumberText) &lt; 2]">This manufacturedMaterial SHOULD contain zero or one [0..1] lotNumberText (CONF:9014).</sch:assert>
      <sch:assert id="a-15555" test="not(cda:manufacturedMaterial/cda:code/cda:originalText) or cda:manufacturedMaterial/cda:code/cda:originalText[count(cda:reference) &lt; 2]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:15555).</sch:assert>
      <sch:assert id="a-15556" test="not(cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference) or cda:manufacturedMaterial/cda:code/cda:originalText/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15556).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.54-warnings" context="cda:manufacturedProduct[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.54']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.54-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.18-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.18-warnings-abstract" abstract="true">
      <sch:assert id="a-7456" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:7456).</sch:assert>
      <sch:assert id="a-7457" test="count(cda:repeatNumber) &lt; 2">SHOULD contain zero or one [0..1] repeatNumber (CONF:7457).</sch:assert>
      <sch:assert id="a-7458" test="count(cda:quantity) &lt; 2">SHOULD contain zero or one [0..1] quantity (CONF:7458).</sch:assert>
      <sch:assert id="a-7468" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:addr) &lt; 2]">This assignedEntity SHOULD contain zero or one [0..1] addr (CONF:7468).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.18-warnings" context="cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.18']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.18-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.19-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.19-warnings-abstract" abstract="true">
      <sch:assert id="a-7488" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:7488).</sch:assert>
      <sch:assert id="a-7489" test="count(cda:value[@xsi:type='CD']) &lt; 2">SHOULD contain zero or one [0..1] value with @xsi:type="CD" (CONF:7489).</sch:assert>
      <sch:assert id="a-15985" test="not(cda:value) or cda:value[not(@code) or @code]">The value, if present, SHOULD contain zero or one [0..1] @code, which SHOULD be selected from ValueSet Problem Value Set 2.16.840.1.113883.3.88.12.3221.7.4 DYNAMIC (CONF:15985).</sch:assert>
      <sch:assert id="a-15991" test="not(tested)">If the diagnosis is unknown or the SNOMED code is unknown, @nullFlavor SHOULD be ?UNK?. If the code is something other than SNOMED, @nullFlavor SHOULD be ?OTH? and the other code SHOULD be placed in the translation element (CONF:15991).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.19-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.19']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.19-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.24-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.24-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.24-warnings" context="cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.24']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.24-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.32-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.32-warnings-abstract" abstract="true">
      <sch:assert id="a-7760" test="not(cda:addr) or cda:addr">SHOULD contain zero or more [0..*] addr (CONF:7760).</sch:assert>
      <sch:assert id="a-7761" test="not(cda:telecom) or cda:telecom">SHOULD contain zero or more [0..*] telecom (CONF:7761).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.32-warnings" context="cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.32']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.32-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.37-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.37-warnings-abstract" abstract="true">
      <sch:assert id="a-16837" test="cda:playingDevice[count(cda:code) &lt; 2]">This playingDevice SHOULD contain zero or one [0..1] code (CONF:16837).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.37-warnings" context="cda:participantRole[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.37']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.37-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.12-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.12-warnings-abstract" abstract="true">
      <sch:assert id="a-8299" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:8299).</sch:assert>
      <sch:assert id="a-8301" test="not(cda:performer) or cda:performer">SHOULD contain zero or more [0..*] performer (CONF:8301).</sch:assert>
      <sch:assert id="a-8306" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:representedOrganization) &lt; 2]">This assignedEntity SHOULD contain zero or one [0..1] representedOrganization (CONF:8306).</sch:assert>
      <sch:assert id="a-8307" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[not(cda:id) or cda:id]">The representedOrganization, if present, SHOULD contain zero or more [0..*] id (CONF:8307).</sch:assert>
      <sch:assert id="a-19186" test="cda:code[count(cda:originalText) &lt; 2]">This code SHOULD contain zero or one [0..1] originalText (CONF:19186).</sch:assert>
      <sch:assert id="a-19190" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96'] or cda:code[@codeSystem='2.16.840.1.113883.6.104']">This code in a procedure activity act SHOULD be selected from LOINC (CodeSystem: 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96) (CONF:19190).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.12-warnings" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.12']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.12-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.13-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.13-warnings-abstract" abstract="true">
      <sch:assert id="a-8246" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:8246).</sch:assert>
      <sch:assert id="a-8250" test="not(cda:targetSiteCode) or cda:targetSiteCode">SHOULD contain zero or more [0..*] targetSiteCode (CONF:8250).</sch:assert>
      <sch:assert id="a-8251" test="not(cda:performer) or cda:performer">SHOULD contain zero or more [0..*] performer (CONF:8251).</sch:assert>
      <sch:assert id="a-8256" test="not(cda:performer/cda:assignedEntity) or cda:performer/cda:assignedEntity[count(cda:representedOrganization) &lt; 2]">This assignedEntity SHOULD contain zero or one [0..1] representedOrganization (CONF:8256).</sch:assert>
      <sch:assert id="a-8257" test="not(cda:performer/cda:assignedEntity/cda:representedOrganization) or cda:performer/cda:assignedEntity/cda:representedOrganization[not(cda:id) or cda:id]">The representedOrganization, if present, SHOULD contain zero or more [0..*] id (CONF:8257).</sch:assert>
      <sch:assert id="a-19198" test="cda:code[count(cda:originalText) &lt; 2]">This code SHOULD contain zero or one [0..1] originalText (CONF:19198).</sch:assert>
      <sch:assert id="a-19199" test="not(cda:code/cda:originalText) or cda:code/cda:originalText[count(cda:reference) &lt; 2]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:19199).</sch:assert>
      <sch:assert id="a-19200" test="not(cda:code/cda:originalText/cda:reference) or cda:code/cda:originalText/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:19200).</sch:assert>
      <sch:assert id="a-19202" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96']">This @code SHOULD be selected from LOINC (CodeSystem: 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96), and MAY be selected from CPT-4 (CodeSystem: 2.16.840.1.113883.6.12), ICD10 PCS (CodeSystem: 2.16.840.1.113883.6.4) (CONF:19202).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.13-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.13']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.13-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.3-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.3-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.3-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.3']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.3-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.3.1-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.3.1-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.3-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.3.1-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.3.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.3.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.1-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.1-warnings-abstract" abstract="true">
      <sch:assert id="a-19218" test="cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96'] or cda:code[@codeSystem='2.16.840.1.113883.6.12']">SHOULD be selected from LOINC (codeSystem 2.16.840.1.113883.6.1) or SNOMED CT (codeSystem 2.16.840.1.113883.6.96), and MAY be selected from CPT-4 (codeSystem 2.16.840.1.113883.6.12) (CONF:19218).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.1-warnings" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.2-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" abstract="true">
      <sch:assert id="a-7138" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:7138).</sch:assert>
      <sch:assert id="a-7147" test="not(cda:interpretationCode) or cda:interpretationCode">SHOULD contain zero or more [0..*] interpretationCode (CONF:7147).</sch:assert>
      <sch:assert id="a-7150" test="not(cda:referenceRange) or cda:referenceRange">SHOULD contain zero or more [0..*] referenceRange (CONF:7150).</sch:assert>
      <sch:assert id="a-15924" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15924).</sch:assert>
      <sch:assert id="a-15925" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15925).</sch:assert>
      <sch:assert id="a-19211" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96']">SHOULD be from LOINC (CodeSystem: 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96) (CONF:19211).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.2-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.2']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.4-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.4-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.4-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.4']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.4-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.4.1-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.4.1-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.4-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.4.1-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.4.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.4.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.26-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.26-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.26-warnings" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.26']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.26-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.27-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.27-warnings-abstract" abstract="true">
      <sch:assert id="a-7302" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:7302).</sch:assert>
      <sch:assert id="a-15943" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15943).</sch:assert>
      <sch:assert id="a-15944" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15944).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.27-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.27']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.27-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.6-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.6-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.6-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.6']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.6-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.6.1-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.6.1-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.6-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.6.1-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.6.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.6.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.30-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.30-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.30-warnings" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.30']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.30-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.24.3.90-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.24.3.90-warnings-abstract" abstract="true">
      <sch:assert id="a-16318" test="not(cda:participant) or cda:participant">SHOULD contain zero or more [0..*] participant (CONF:16318).</sch:assert>
      <sch:assert id="a-16326" test="not(cda:participant/cda:participantRole/cda:playingEntity/cda:code) or cda:participant/cda:participantRole/cda:playingEntity/cda:code[count(cda:originalText) &lt; 2]">This code SHOULD contain zero or one [0..1] originalText (CONF:16326).</sch:assert>
      <sch:assert id="a-16327" test="not(cda:participant/cda:participantRole/cda:playingEntity/cda:code/cda:originalText) or cda:participant/cda:participantRole/cda:playingEntity/cda:code/cda:originalText[count(cda:reference) &lt; 2]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:16327).</sch:assert>
      <sch:assert id="a-16328" test="not(cda:participant/cda:participantRole/cda:playingEntity/cda:code/cda:originalText/cda:reference) or cda:participant/cda:participantRole/cda:playingEntity/cda:code/cda:originalText/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:16328).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.24.3.90-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.24.3.90']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.24.3.90-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.7-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.7-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.24.3.90-warnings-abstract" />
      <sch:assert id="a-7422" test="cda:value[@xsi:type='CD'][count(cda:originalText) &lt; 2]">This value SHOULD contain zero or one [0..1] originalText (CONF:7422).</sch:assert>
      <sch:assert id="a-7424" test="not(cda:participant[@typeCode='CSM']/cda:participantRole/cda:playingEntity/cda:code) or cda:participant[@typeCode='CSM']/cda:participantRole/cda:playingEntity/cda:code[count(cda:originalText) &lt; 2]">This code SHOULD contain zero or one [0..1] originalText (CONF:7424).</sch:assert>
      <sch:assert id="a-7425" test="not(cda:participant[@typeCode='CSM']/cda:participantRole/cda:playingEntity/cda:code/cda:originalText) or cda:participant[@typeCode='CSM']/cda:participantRole/cda:playingEntity/cda:code/cda:originalText[count(cda:reference) &lt; 2]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:7425).</sch:assert>
      <sch:assert id="a-15950" test="not(cda:value[@xsi:type='CD']/cda:originalText/cda:reference) or cda:value[@xsi:type='CD']/cda:originalText/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15950).</sch:assert>
      <sch:assert id="a-15952" test="not(cda:participant[@typeCode='CSM']/cda:participantRole/cda:playingEntity/cda:code/cda:originalText/cda:reference) or cda:participant[@typeCode='CSM']/cda:participantRole/cda:playingEntity/cda:code/cda:originalText/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15952).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.7-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.7']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.7-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.28-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.28-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.28-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.28']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.28-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.5-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.5-warnings-abstract" abstract="true">
      <sch:assert id="a-7881" test="not(cda:entry) or cda:entry">SHOULD contain zero or more [0..*] entry (CONF:7881).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.5-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.5']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.5-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.5.1-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.5.1-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.5-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.5.1-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.5.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.5.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.3-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.3-warnings-abstract" abstract="true">
      <sch:assert id="a-9033" test="cda:effectiveTime[count(cda:high) &lt; 2]">This effectiveTime SHOULD contain zero or one [0..1] high (CONF:9033).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.3-warnings" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.3']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.3-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.4-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" abstract="true">
      <sch:assert id="a-9050" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:9050).</sch:assert>
      <sch:assert id="a-9185" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:9185).</sch:assert>
      <sch:assert id="a-10142" test="not(tested)">If the diagnosis is unknown or the SNOMED code is unknown, @nullFlavor SHOULD be ?UNK?.  If the code is something other than SNOMED, @nullFlavor SHOULD be ?OTH? and the other code SHOULD be placed in the translation element (CONF:10142).</sch:assert>
      <sch:assert id="a-15587" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15587).</sch:assert>
      <sch:assert id="a-15604" test="not(cda:effectiveTime) or cda:effectiveTime[count(cda:high) &lt; 2]">The effectiveTime, if present, SHOULD contain zero or one [0..1] high (CONF:15604).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.4-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.4']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.6-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.6-warnings-abstract" abstract="true">
      <sch:assert id="a-7362" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:7362).</sch:assert>
      <sch:assert id="a-15593" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15593).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.6-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.6']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.6-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.31-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.31-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.31-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.31']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.31-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.5-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.5-warnings-abstract" abstract="true">
      <sch:assert id="a-9270" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:9270).</sch:assert>
      <sch:assert id="a-15529" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15529).</sch:assert>
      <sch:assert id="a-15530" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15530).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.5-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.5']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.5-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.1-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.1-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.1-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.1.1-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.1.1-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.1-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.1.1-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.1.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.1.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.8-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.8-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.8-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.8']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.8-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.10-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.10-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.10-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.10']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.10-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.39-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.39-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.39-warnings" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.39']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.39-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.40-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.40-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.40-warnings" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.40']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.40-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.41-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.41-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.41-warnings" context="cda:procedure[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.41']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.41-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.42-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.42-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.42-warnings" context="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.42']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.42-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.43-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.43-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.43-warnings" context="cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.43']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.43-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.44-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.44-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.44-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.44']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.44-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.20-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.20-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.20-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.20']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.20-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.13-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.13-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.13-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.13']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.13-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-1.3.6.1.4.1.19376.1.5.3.1.3.4-warnings">
    <sch:rule id="r-1.3.6.1.4.1.19376.1.5.3.1.3.4-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-1.3.6.1.4.1.19376.1.5.3.1.3.4-warnings" context="cda:section[cda:templateId/@root='1.3.6.1.4.1.19376.1.5.3.1.3.4']">
      <sch:extends rule="r-1.3.6.1.4.1.19376.1.5.3.1.3.4-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.14-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.14-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.14-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.14']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.14-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.50-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.50-warnings-abstract" abstract="true">
      <sch:assert id="a-8751" test="count(cda:quantity) &lt; 2">SHOULD contain zero or one [0..1] quantity (CONF:8751).</sch:assert>
      <sch:assert id="a-15498" test="count(cda:effectiveTime[@xsi:type='IVL_TS']) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:15498).</sch:assert>
      <sch:assert id="a-16867" test="not(cda:effectiveTime) or cda:effectiveTime[count(cda:high)=1]">The effectiveTime, if present, SHOULD contain zero or one [0..1] high (CONF:16867).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.50-warnings" context="cda:supply[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.50']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.50-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.67-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.67-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert id="a-13926" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:13926).</sch:assert>
      <sch:assert id="a-13927" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:13927).</sch:assert>
      <sch:assert id="a-13933" test="not(cda:interpretationCode) or cda:interpretationCode">SHOULD contain zero or more [0..*] interpretationCode (CONF:13933).</sch:assert>
      <sch:assert id="a-13937" test="not(cda:referenceRange) or cda:referenceRange">SHOULD contain zero or more [0..*] referenceRange (CONF:13937).</sch:assert>
      <sch:assert id="a-14234" test="not(cda:value/@xsi:type='CD') or (cda:value/@xsi:type='CD' and count(cda:value[@codeSystem='2.16.840.1.113883.6.96'])=1)">If xsi:type=?CD?, SHOULD contain a code from SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96) (CONF:14234).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.67-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.67']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.67-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.72-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.72-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.72-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.72']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.72-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.69-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.69-warnings-abstract" abstract="true">
      <sch:assert id="a-14440" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.1'] or cda:code[@codeSystem='2.16.840.1.113883.6.96']">SHOULD be from LOINC (CodeSystem: 2.16.840.1.113883.6.1) or SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96) identifying the assessment scale (CONF:14440).</sch:assert>
      <sch:assert id="a-16801" test="not(cda:referenceRange/cda:observationRange) or cda:referenceRange/cda:observationRange[count(cda:text) &lt; 2]">This observationRange SHOULD contain zero or one [0..1] text (CONF:16801).</sch:assert>
      <sch:assert id="a-16802" test="not(cda:referenceRange/cda:observationRange/cda:text) or cda:referenceRange/cda:observationRange/cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:16802).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.69-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.69']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.69-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.86-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.86-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.86-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.86']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.86-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.74-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.74-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.2-warnings-abstract" />
      <sch:assert id="a-14258" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:14258).</sch:assert>
      <sch:assert id="a-14264" test="not(cda:interpretationCode) or cda:interpretationCode">SHOULD contain zero or more [0..*] interpretationCode (CONF:14264).</sch:assert>
      <sch:assert id="a-14267" test="not(cda:referenceRange) or cda:referenceRange">SHOULD contain zero or more [0..*] referenceRange (CONF:14267).</sch:assert>
      <sch:assert id="a-14271" test="not(cda:value/@xsi:type='CD') or (cda:value/@xsi:type='CD' and count(cda:value[@codeSystem='2.16.840.1.113883.6.96'])=1)">If xsi:type=?CD?, SHOULD contain a code from SNOMED CT (CodeSystem: 2.16.840.1.113883.6.96) (CONF:14271).</sch:assert>
      <sch:assert id="a-14592" test="cda:code[not(@code='373930000' and @codeSystem='2.16.840.1.113883.6.96') or @code='373930000' and @codeSystem='2.16.840.1.113883.6.96']">This code SHOULD contain zero or one [0..1] @code="373930000" Cognitive function finding (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:14592).</sch:assert>
      <sch:assert id="a-15549" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15549).</sch:assert>
      <sch:assert id="a-15550" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15550).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.74-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.74']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.74-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.68-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.68-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert id="a-14287" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:14287).</sch:assert>
      <sch:assert id="a-14293" test="not(tested)">If the diagnosis is unknown or the SNOMED code is unknown, @nullFlavor SHOULD be ?UNK?.  If the code is something other than SNOMED, @nullFlavor SHOULD be ?OTH? and the other code SHOULD be placed in the translation element (CONF:14293).</sch:assert>
      <sch:assert id="a-14304" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:14304).</sch:assert>
      <sch:assert id="a-14315" test="cda:code[not(@code='248536006' and @codeSystem='2.16.840.1.113883.6.96') or @code='248536006' and @codeSystem='2.16.840.1.113883.6.96']">This code SHOULD contain zero or one [0..1] @code="248536006" finding of functional performance and activity (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:14315).</sch:assert>
      <sch:assert id="a-15552" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15552).</sch:assert>
      <sch:assert id="a-15553" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15553).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.68-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.68']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.68-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.73-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.73-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.4-warnings-abstract" />
      <sch:assert id="a-14324" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:14324).</sch:assert>
      <sch:assert id="a-14341" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:14341).</sch:assert>
      <sch:assert id="a-14805" test="cda:code[not(@code='373930000' and @codeSystem='2.16.840.1.113883.6.96') or @code='373930000' and @codeSystem='2.16.840.1.113883.6.96']">This code SHOULD contain zero or one [0..1] @code="373930000" Cognitive function finding   (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:14805).</sch:assert>
      <sch:assert id="a-15532" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15532).</sch:assert>
      <sch:assert id="a-15533" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15533).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.73-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.73']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.73-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.66-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.66-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.1-warnings-abstract" />
      <sch:assert id="a-14747" test="cda:code[not(@code) or @code]">This code SHOULD contain zero or one [0..1] @code (CONF:14747).</sch:assert>
      <sch:assert id="a-14748" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.254'] or cda:code[@codeSystem='2.16.840.1.113883.6.96']">SHOULD be selected from ICF (codeSystem 2.16.840.1.113883.6.254) or SNOMED CT (codeSystem 2.16.840.1.113883.6.96) (CONF:14748).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.66-warnings" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.66']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.66-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.75-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.75-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.1-warnings-abstract" />
      <sch:assert id="a-14697" test="cda:code[not(@code) or @code]">This code SHOULD contain zero or one [0..1] @code (CONF:14697).</sch:assert>
      <sch:assert id="a-14698" test="count(cda:code[@codeSystem])=0 or cda:code[@codeSystem='2.16.840.1.113883.6.254'] or cda:code[@codeSystem='2.16.840.1.113883.6.96']">Should be selected from ICF (codeSystem 2.16.840.1.113883.6.254) or SNOMED CT (codeSystem 2.16.840.1.113883.6.96) (CONF:14698).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.75-warnings" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.75']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.75-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.70-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.70-warnings-abstract" abstract="true">
      <sch:assert id="a-14391" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:14391).</sch:assert>
      <sch:assert id="a-14392" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:14392).</sch:assert>
      <sch:assert id="a-14398" test="not(tested)">If the stage unknown or the SNOMED code is unknown, @nullFlavor SHOULD be ?UNK?.  If the code is something other than SNOMED, @nullFlavor SHOULD be ?OTH? and the other code SHOULD be placed in the translation element (CONF:14398).</sch:assert>
      <sch:assert id="a-14797" test="not(cda:targetSiteCode) or cda:targetSiteCode">SHOULD contain zero or more [0..*] targetSiteCode (CONF:14797).</sch:assert>
      <sch:assert id="a-14799" test="not(cda:targetSiteCode) or cda:targetSiteCode[count(cda:qualifier) &lt; 2]">The targetSiteCode, if present, SHOULD contain zero or one [0..1] qualifier (CONF:14799).</sch:assert>
      <sch:assert id="a-14801" test="not(cda:targetSiteCode/cda:qualifier/cda:name) or cda:targetSiteCode/cda:qualifier/cda:name[not(@code='272741003') or @code='272741003']">This name SHOULD contain zero or one [0..1] @code="272741003" laterality (CodeSystem: SNOMED-CT 2.16.840.1.113883.6.96 STATIC) (CONF:14801).</sch:assert>
      <sch:assert id="a-14803" test="not(cda:targetSiteCode/cda:qualifier/cda:value) or cda:targetSiteCode/cda:qualifier/cda:value[not(@code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.37']/voc:code/@value) or @code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.11.20.9.37']/voc:code/@value]">This value SHOULD contain zero or one [0..1] @code, which SHOULD be selected from ValueSet TargetSite Qualifiers  2.16.840.1.113883.11.20.9.37 STATIC (CONF:14803).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.70-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.70']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.70-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.76-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.76-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.76-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.76']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.76-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.77-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.77-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.77-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.77']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.77-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.18-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.18-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.18-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.18']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.18-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.60-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.60-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.60-warnings" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.60']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.60-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.61-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.61-warnings-abstract" abstract="true">
      <sch:assert id="a-8912" test="cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.87']]/cda:assignedEntity[count(cda:representedOrganization) &lt; 2]">This assignedEntity SHOULD contain zero or one [0..1] representedOrganization (CONF:8912).</sch:assert>
      <sch:assert id="a-8913" test="not(cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.87']]/cda:assignedEntity/cda:representedOrganization) or cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.87']]/cda:assignedEntity/cda:representedOrganization[count(cda:name) &lt; 2]">The representedOrganization, if present, SHOULD contain zero or one [0..1] name (CONF:8913).</sch:assert>
      <sch:assert id="a-8914" test="cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.87']]/cda:assignedEntity[count(cda:code) &lt; 2]">This assignedEntity SHOULD contain zero or one [0..1] code (CONF:8914).</sch:assert>
      <sch:assert id="a-8918" test="count(cda:participant[@typeCode='COV'][count(cda:participantRole)=1][count(cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89'])=1][count(cda:time) &lt; 2])=1">SHALL contain exactly one [1..1] participant (CONF:8916) such that it SHALL contain exactly one [1..1] @typeCode="COV" Coverage target (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8917). SHOULD contain zero or one [0..1] time (CONF:8918).</sch:assert>
      <sch:assert id="a-8919" test="not(cda:participant[@typeCode='COV']/cda:time[cda:participantRole][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']]) or cda:participant[@typeCode='COV']/cda:time[cda:participantRole][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']][count(cda:low) &lt; 2]">The time, if present, SHOULD contain zero or one [0..1] low (CONF:8919).</sch:assert>
      <sch:assert id="a-8920" test="not(cda:participant[@typeCode='COV']/cda:time[cda:participantRole][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']]) or cda:participant[@typeCode='COV']/cda:time[cda:participantRole][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']][count(cda:high) &lt; 2]">The time, if present, SHOULD contain zero or one [0..1] high (CONF:8920).</sch:assert>
      <sch:assert id="a-8925" test="not(cda:participant[@typeCode='HLD']/cda:participantRole[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.90']]) or cda:participant[@typeCode='HLD']/cda:participantRole[cda:time][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.90']][count(cda:addr) &lt; 2]">This participantRole SHOULD contain zero or one [0..1] addr (CONF:8925).</sch:assert>
      <sch:assert id="a-8932" test="cda:participant[@typeCode='COV'][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']]/cda:participantRole[count(cda:playingEntity) &lt; 2]">This participantRole SHOULD contain zero or one [0..1] playingEntity (CONF:8932).</sch:assert>
      <sch:assert id="a-8956" test="cda:participant[@typeCode='COV'][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']]/cda:participantRole[count(cda:addr) &lt; 2]">This participantRole SHOULD contain zero or one [0..1] addr (CONF:8956).</sch:assert>
      <sch:assert id="a-8963" test="count(cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']][count(cda:time) &lt; 2][count(cda:assignedEntity)=1]) &lt; 2">This performer represents the Guarantor.
SHOULD contain zero or one [0..1] performer="PRF" Performer (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8961) such that it SHOULD contain zero or one [0..1] time (CONF:8963).</sch:assert>
      <sch:assert id="a-8964" test="not(cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]/cda:assignedEntity) or cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]/cda:assignedEntity[count(cda:addr) &lt; 2]">This assignedEntity SHOULD contain zero or one [0..1] addr (CONF:8964).</sch:assert>
      <sch:assert id="a-8965" test="not(cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]/cda:assignedEntity) or cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]/cda:assignedEntity[count(cda:telecom) &lt; 2]">This assignedEntity SHOULD contain zero or one [0..1] telecom (CONF:8965).</sch:assert>
      <sch:assert id="a-8967" test="cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]/cda:assignedEntity/cda:assignedPerson/cda:name or cda:performer[cda:templateId[@root='2.16.840.1.113883.10.20.22.4.88']]/cda:assignedEntity/cda:representedOrganization/cda:name">SHOULD include assignedEntity/assignedPerson/name AND/OR assignedEntity/representedOrganization/name (CONF:8967).</sch:assert>
      <sch:assert id="a-16078" test="cda:participant[@typeCode='COV'][cda:templateId[@root='2.16.840.1.113883.10.20.22.4.89']]/cda:participantRole/cda:code[not(@code) or @code]">This code SHOULD contain zero or one [0..1] @code, which SHOULD be selected from ValueSet Coverage Role Type Value Set 2.16.840.1.113883.1.11.18877 DYNAMIC (CONF:16078).</sch:assert>
      <sch:assert id="a-19185" test="cda:code[not(@code) or @code]">This code SHOULD contain zero or one [0..1] @code, which SHOULD be selected from ValueSet Health Insurance Type Value Set 2.16.840.1.113883.3.88.12.3221.5.2 DYNAMIC (CONF:19185).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.61-warnings" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.61']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.61-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.21-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.21-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.21-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.21']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.21-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.48-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.48-warnings-abstract" abstract="true">
      <sch:assert id="a-8665" test="not(cda:participant[@typeCode='VRF'][count(cda:templateId[@root='2.16.840.1.113883.10.20.1.58'])=1][count(cda:participantRole)=1][count(cda:time) &lt; 2]) or cda:participant[@typeCode='VRF'][count(cda:templateId[@root='2.16.840.1.113883.10.20.1.58'])=1][count(cda:participantRole)=1][count(cda:time) &lt; 2]">SHOULD contain zero or more [0..*] participant (CONF:8662) such that it SHALL contain exactly one [1..1] @typeCode="VRF" Verifier (CodeSystem: HL7ParticipationType 2.16.840.1.113883.5.90 STATIC) (CONF:8663). SHOULD contain zero or one [0..1] time (CONF:8665).</sch:assert>
      <sch:assert id="a-8671" test="not(cda:participant[@typeCode='CST']/cda:participantRole) or cda:participant[@typeCode='CST']/cda:participantRole[count(cda:addr) &lt; 2]">This participantRole SHOULD contain zero or one [0..1] addr (CONF:8671).</sch:assert>
      <sch:assert id="a-8672" test="not(cda:participant[@typeCode='CST']/cda:participantRole) or cda:participant[@typeCode='CST']/cda:participantRole[count(cda:telecom) &lt; 2]">This participantRole SHOULD contain zero or one [0..1] telecom (CONF:8672).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.48-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.48']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.48-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.15-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.15-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.15-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.15']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.15-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.45-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.45-warnings-abstract" abstract="true">
      <sch:assert id="a-15248" test="cda:subject/cda:relatedSubject[count(cda:subject) &lt; 2]">This relatedSubject SHOULD contain zero or one [0..1] subject (CONF:15248).</sch:assert>
      <sch:assert id="a-15249" test="count(cda:subject/cda:relatedSubject/cda:subject/sdtc:id)=1">The subject SHOULD contain zero or more [0..*] sdtc:id. The prefix sdtc: SHALL be bound to the namespace ?urn:hl7-org:sdtc?. The use of the namespace provides a necessary extension to CDA R2 for the use of the id element (CONF:15249).</sch:assert>
      <sch:assert id="a-15976" test="not(cda:subject/cda:relatedSubject/cda:subject) or cda:subject/cda:relatedSubject/cda:subject[count(cda:birthTime) &lt; 2]">The subject, if present, SHOULD contain zero or one [0..1] birthTime (CONF:15976).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.45-warnings" context="cda:organizer[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.45']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.45-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.46-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.46-warnings-abstract" abstract="true">
      <sch:assert id="a-8593" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:8593).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.46-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.46']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.46-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.47-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.47-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.47-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.47']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.47-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.17-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.17-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.17-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.17']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.17-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.15.3.8-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.15.3.8-warnings-abstract" abstract="true">
      <sch:assert id="a-2018" test="count(cda:effectiveTime) &lt; 2">SHOULD contain zero or one [0..1] effectiveTime (CONF:2018).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.15.3.8-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.15.3.8']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.15.3.8-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.15.3.1-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.15.3.1-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.15.3.1-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.15.3.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.15.3.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.38-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.38-warnings-abstract" abstract="true">
      <sch:assert id="a-8559" test="count(cda:value) &lt; 2">SHOULD contain zero or one [0..1] value (CONF:8559).</sch:assert>
      <sch:assert id="a-19220" test="cda:code[not(@code) or @code=document('voc.xml')/voc:systems/voc:system[@valueSetOid='2.16.840.1.113883.3.88.12.80.60']/voc:code/@value]">This code SHOULD contain zero or one [0..1] @code, which SHOULD be selected from ValueSet Social History Type Value Set 2.16.840.1.113883.3.88.12.80.60 STATIC (CONF:19220).</sch:assert>
      <sch:assert id="a-19221" test="cda:code[count(cda:originalText) &lt; 2]">This code SHOULD contain zero or one [0..1] originalText (CONF:19221).</sch:assert>
      <sch:assert id="a-19222" test="not(cda:code/cda:originalText) or cda:code/cda:originalText[count(cda:reference) &lt; 2]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:19222).</sch:assert>
      <sch:assert id="a-19223" test="not(cda:code/cda:originalText/cda:reference) or cda:code/cda:originalText/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:19223).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.38-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.38']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.38-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.85-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.85-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.85-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.85']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.85-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.78-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.78-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.85-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.78-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.78']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.78-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.23-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.23-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.23-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.23']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.23-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.24-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.24-warnings-abstract" abstract="true">
      <sch:assert id="a-7983" test="count(cda:entry) &lt; 2">SHOULD contain zero or one [0..1] entry (CONF:7983).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.24-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.24']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.24-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.33-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.33-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.33-warnings" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.33']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.33-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.22-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.22-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.22-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.22']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.22-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.22.1-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.22.1-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.22-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.22.1-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.22.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.22.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.49-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.49-warnings-abstract" abstract="true">
      <sch:assert id="a-8714" test="count(cda:code) &lt; 2">SHOULD contain zero or one [0..1] code, which SHOULD be selected from ValueSet EncounterTypeCode 2.16.840.1.113883.3.88.12.80.32 DYNAMIC (CONF:8714).</sch:assert>
      <sch:assert id="a-8719" test="not(cda:code) or cda:code[count(cda:originalText) &lt; 2]">The code, if present, SHOULD contain zero or one [0..1] originalText (CONF:8719).</sch:assert>
      <sch:assert id="a-8720" test="not(tested-here)">The originalText, if present, SHOULD contain zero or one [0..1] reference/@value (CONF:8720).</sch:assert>
      <sch:assert id="a-15970" test="not(cda:code/cda:originalText) or cda:code/cda:originalText[count(cda:reference) &lt; 2]">The originalText, if present, SHOULD contain zero or one [0..1] reference (CONF:15970).</sch:assert>
      <sch:assert id="a-15971" test="not(cda:code/cda:originalText/cda:reference) or cda:code/cda:originalText/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15971).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.49-warnings" context="cda:encounter[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.49']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.49-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.80-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.80-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.80-warnings" context="cda:act[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.80']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.80-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.2-warnings">
    <!--Pattern is used in an implied relationship.-->
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.2-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.2-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.2']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.2-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.2.2.1-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.2.1-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.2-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.2.2.1-warnings" context="cda:section[cda:templateId/@root='2.16.840.1.113883.10.20.22.2.2.1']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.2.2.1-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.52-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.52-warnings-abstract" abstract="true">
      <sch:assert id="a-8831" test="count(cda:text) &lt; 2">SHOULD contain zero or one [0..1] text (CONF:8831).</sch:assert>
      <sch:assert id="a-8841" test="count(cda:doseQuantity) &lt; 2">SHOULD contain zero or one [0..1] doseQuantity (CONF:8841).</sch:assert>
      <sch:assert id="a-8842" test="not(cda:doseQuantity) or cda:doseQuantity[not(@unit) or @unit]">The doseQuantity, if present, SHOULD contain zero or one [0..1] @unit, which SHALL be selected from ValueSet UnitsOfMeasureCaseSensitive 2.16.840.1.113883.1.11.12839 DYNAMIC (CONF:8842).</sch:assert>
      <sch:assert id="a-8849" test="count(cda:performer) &lt; 2">SHOULD contain zero or one [0..1] performer (CONF:8849).</sch:assert>
      <sch:assert id="a-15543" test="not(cda:text) or cda:text[count(cda:reference) &lt; 2]">The text, if present, SHOULD contain zero or one [0..1] reference (CONF:15543).</sch:assert>
      <sch:assert id="a-15544" test="not(cda:text/cda:reference) or cda:text/cda:reference[not(@value) or @value]">The reference, if present, SHOULD contain zero or one [0..1] @value (CONF:15544).</sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.52-warnings" context="cda:substanceAdministration[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.52']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.52-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.22.4.53-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.53-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.22.4.53-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.22.4.53']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.22.4.53-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.25.4.5-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.5-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.5-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.5']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.5-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.25.4.6-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.6-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.5-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.6-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.6']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.6-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.25.4.7-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.7-warnings-abstract" abstract="true">
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.7-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.7']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.7-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
  <sch:pattern id="p-2.16.840.1.113883.10.20.25.4.8-warnings">
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.8-warnings-abstract" abstract="true">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.5-warnings-abstract" />
      <sch:assert test="."></sch:assert>
    </sch:rule>
    <sch:rule id="r-2.16.840.1.113883.10.20.25.4.8-warnings" context="cda:observation[cda:templateId/@root='2.16.840.1.113883.10.20.25.4.8']">
      <sch:extends rule="r-2.16.840.1.113883.10.20.25.4.8-warnings-abstract" />
    </sch:rule>
  </sch:pattern>
</sch:schema>